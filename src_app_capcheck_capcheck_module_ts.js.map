{"version":3,"sources":["./node_modules/is-electron/index.js","./node_modules/ngx-image-cropper/__ivy_ngcc__/fesm2015/ngx-image-cropper.js","./node_modules/ngx-page-scroll-core/__ivy_ngcc__/fesm2015/ngx-page-scroll-core.js","./node_modules/ngx-textarea-autosize/__ivy_ngcc__/fesm2015/ngx-textarea-autosize.js","./node_modules/ngx-webcam/__ivy_ngcc__/fesm2015/ngx-webcam.js","./node_modules/resolve-url/resolve-url.js","./node_modules/tesseract.js/src/Tesseract.js","./node_modules/tesseract.js/src/constants/OEM.js","./node_modules/tesseract.js/src/constants/PSM.js","./node_modules/tesseract.js/src/constants/config.js","./node_modules/tesseract.js/src/constants/defaultOptions.js","./node_modules/tesseract.js/src/createJob.js","./node_modules/tesseract.js/src/createScheduler.js","./node_modules/tesseract.js/src/createWorker.js","./node_modules/tesseract.js/src/index.js","./node_modules/tesseract.js/src/utils/circularize.js","./node_modules/tesseract.js/src/utils/getEnvironment.js","./node_modules/tesseract.js/src/utils/getId.js","./node_modules/tesseract.js/src/utils/log.js","./node_modules/tesseract.js/src/utils/resolvePaths.js","./node_modules/tesseract.js/src/worker/browser/defaultOptions.js","./node_modules/tesseract.js/src/worker/browser/index.js","./node_modules/tesseract.js/src/worker/browser/loadImage.js","./node_modules/tesseract.js/src/worker/browser/onMessage.js","./node_modules/tesseract.js/src/worker/browser/send.js","./node_modules/tesseract.js/src/worker/browser/spawnWorker.js","./node_modules/tesseract.js/src/worker/browser/terminateWorker.js","./src/app/capcheck/capcheck.component.ts","./src/app/capcheck/capcheck.component.html","./src/app/capcheck/capcheck.module.ts","./src/app/capcheck/capchecklist/capchecklist.component.html","./src/app/capcheck/capchecklist/capchecklist.component.ts","./src/app/capcheck/capcheckresult/capcheckresult.component.html","./src/app/capcheck/capcheckresult/capcheckresult.component.ts","./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","./node_modules/@babel/runtime/helpers/asyncToGenerator.js","./node_modules/@babel/runtime/helpers/defineProperty.js","./node_modules/@babel/runtime/helpers/iterableToArray.js","./node_modules/@babel/runtime/helpers/nonIterableSpread.js","./node_modules/@babel/runtime/helpers/objectSpread2.js","./node_modules/@babel/runtime/helpers/objectWithoutProperties.js","./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","./node_modules/@babel/runtime/helpers/toConsumableArray.js","./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///tslib?dc3c","tslib"],"names":["isElectron","window","process","type","versions","electron","navigator","userAgent","indexOf","module","exports","_c0","ImageCropperComponent_img_1_Template","rf","ctx","_r4","ɵngcc0","ImageCropperComponent_img_1_Template_img_load_0_listener","ctx_r3","imageLoadedInView","ctx_r0","imageVisible","safeTransformStyle","safeImgDataUrl","ImageCropperComponent_div_3_Template","_r6","ImageCropperComponent_div_3_Template_div_keydown_0_listener","$event","ctx_r5","keyboardAccess","ImageCropperComponent_div_3_Template_div_mousedown_1_listener","ctx_r7","startMove","ImageCropperComponent_div_3_Template_div_touchstart_1_listener","ctx_r8","ImageCropperComponent_div_3_Template_span_mousedown_3_listener","ctx_r9","ImageCropperComponent_div_3_Template_span_touchstart_3_listener","ctx_r10","ImageCropperComponent_div_3_Template_span_mousedown_7_listener","ctx_r11","ImageCropperComponent_div_3_Template_span_touchstart_7_listener","ctx_r12","ImageCropperComponent_div_3_Template_span_mousedown_11_listener","ctx_r13","ImageCropperComponent_div_3_Template_span_touchstart_11_listener","ctx_r14","ImageCropperComponent_div_3_Template_span_mousedown_15_listener","ctx_r15","ImageCropperComponent_div_3_Template_span_touchstart_15_listener","ctx_r16","ImageCropperComponent_div_3_Template_span_mousedown_19_listener","ctx_r17","ImageCropperComponent_div_3_Template_span_touchstart_19_listener","ctx_r18","ImageCropperComponent_div_3_Template_span_mousedown_20_listener","ctx_r19","ImageCropperComponent_div_3_Template_span_touchstart_20_listener","ctx_r20","ImageCropperComponent_div_3_Template_span_mousedown_21_listener","ctx_r21","ImageCropperComponent_div_3_Template_span_touchstart_21_listener","ctx_r22","ImageCropperComponent_div_3_Template_span_mousedown_22_listener","ctx_r23","ImageCropperComponent_div_3_Template_span_touchstart_22_listener","ctx_r24","ctx_r1","cropper","y1","x1","x2","y2","alignImage","marginLeft","roundCropper","getTransformationsFromExifData","exifRotationOrBase64Image","getExifRotation","rotate","flip","imageBase64","view","DataView","base64ToArrayBuffer","getUint16","length","byteLength","offset","marker","getUint32","little","tags","i","replace","binaryString","atob","len","bytes","Uint8Array","charCodeAt","buffer","resizeCanvas","canvas","width","height","width_source","height_source","Math","round","ratio_w","ratio_h","ratio_w_half","ceil","ratio_h_half","getContext","img","getImageData","img2","createImageData","data","data2","j","center_y","weight","weights","weights_alpha","gx_r","gx_g","gx_b","gx_a","xx_start","floor","yy_start","xx_stop","yy_stop","min","yy","dy","abs","center_x","w0","xx","dx","w","sqrt","pos_x","putImageData","ImageCropperComponent","sanitizer","cd","setImageMaxSizeRetries","cropperScaledMinWidth","cropperScaledMinHeight","exifTransform","stepSize","format","maintainAspectRatio","transform","aspectRatio","resizeToWidth","resizeToHeight","cropperMinWidth","cropperMinHeight","canvasRotation","initialStepSize","onlyScaleDown","imageQuality","autoCrop","containWithinAspectRatio","disabled","imageCropped","EventEmitter","startCropImage","imageLoaded","cropperReady","loadImageFailed","initCropper","event","target","files","loadImageFile","checkExifAndLoadBase64Image","file","changes","originalImage","complete","transformOriginalImage","setMaxSize","setCropperScaledMinSize","checkCropperPosition","doAutoCrop","markForCheck","resetCropperPosition","setCssTransform","bypassSecurityTrustStyle","scale","flipH","flipV","transformedImage","moveStart","active","position","clientX","clientY","maxSize","originalSize","transformedSize","fileReader","FileReader","onload","imageType","isValidImageType","result","emit","readAsDataURL","test","Promise","resolve","reject","fail","ex","originalBase64","Image","naturalWidth","naturalHeight","then","catch","onerror","src","minWidthToContain","minHeightToContain","max","getTransformedSize","document","createElement","setTransform","PI","drawImage","toDataURL","transformedBase64","bypassSecurityTrustResourceUrl","Error","transformImageBase64","setTransformedImage","setTimeout","checkImageMaxSizeRecursively","sourceImage","nativeElement","offsetWidth","Object","assign","resizeCropperPosition","sourceImageElement","offsetHeight","cropperHeight","cropperWidth","changeKeyboardStepSize","keyboardMoveCropper","key","keyboardWhiteList","includes","moveType","shiftKey","altKey","getInvertedPositionForKey","getPositionForKey","moveEvent","getEventForKey","preventDefault","stopPropagation","moveImg","moveStop","getClientX","getClientY","move","resize","detectChanges","setCropperScaledMinWidth","setCropperScaledMinHeight","maintainSize","diffX","diffY","checkAspectRatio","overflowX","overflowY","crop","imagePosition","getImagePosition","cropCanvas","backgroundColor","fillStyle","fillRect","scaleX","scaleY","translate","output","cropperPosition","offsetImagePosition","getOffsetImagePosition","resizeRatio","getResizeRatio","base64","cropToBase64","ratio","out","offsetX","offsetY","getQuality","touches","ɵfac","ImageCropperComponent_Factory","t","ɵngcc1","ɵcmp","selectors","viewQuery","ImageCropperComponent_Query","_t","first","hostVars","hostBindings","ImageCropperComponent_HostBindings","ImageCropperComponent_resize_HostBindingHandler","onResize","ImageCropperComponent_mousemove_HostBindingHandler","ImageCropperComponent_touchmove_HostBindingHandler","ImageCropperComponent_mouseup_HostBindingHandler","ImageCropperComponent_touchend_HostBindingHandler","inputs","imageChangedEvent","imageFile","outputs","features","decls","vars","consts","template","ImageCropperComponent_Template","directives","ɵngcc2","styles","changeDetection","ctorParameters","DomSanitizer","ChangeDetectorRef","propDecorators","ViewChild","args","static","Input","HostBinding","Output","HostListener","ngDevMode","Component","selector","ChangeDetectionStrategy","ImageCropperModule","ImageCropperModule_Factory","ɵmod","ɵinj","imports","CommonModule","NgModule","declarations","ngJitMode","base64ToFile","base64Image","split","byteString","ab","ArrayBuffer","ia","Blob","PageScrollOptions","PageScrollInstance","pageScrollOptions","startScrollPosition","interruptListenersAttached","timer","scrollViews","documentElement","body","parentNode","isInlineScrolling","scrollingView","verticalScrolling","scrollLeft","scrollTop","clientWidth","clientHeight","scrollTargetElement","getScrollTargetElement","undefined","top","NaN","left","getInlineScrollingTargetPosition","getScrollingTargetPosition","scrollOffset","reduce","oneAlreadyWorked","startScrollPropertyValue","getScrollPropertyValue","scrollDistance","isSmallMovement","_minScrollDistance","value","scrollFinishListener","interruptReporter","detachInterruptListeners","interruptListener","report","interruptEvents","forEach","addEventListener","removeEventListener","scrollTarget","targetSelector","match","getElementById","substr","querySelector","docEl","windowPageYOffset","defaultView","pageYOffset","windowPageXOffset","pageXOffset","clientTop","clientLeft","box","getBoundingClientRect","offsetTop","offsetLeft","advancedInlineOffsetCalculation","accumulatedParentsPos","theWindow","ownerDocument","parentFound","parent","parentElement","getComputedStyle","getPropertyValue","InterruptReporter","NGXPS_CONFIG","InjectionToken","ɵ0","b","c","d","defaultPageScrollConfig","_interval","_logLevel","namespace","duration","interruptKeys","interruptible","scrollInView","easingLogic","PageScrollService","customConfig","runningInstances","onInterrupted","pageScrollInstance","shouldStop","config","some","contains","stopAll","instanceCounter","isDevMode","console","warn","interrupted","index","splice","clearInterval","fireEvent","options","startScrollPositionFound","scrollRange","getScrollClientPropertyValue","scrollPosition","pageScrollOffset","getCurrentOffset","scrollTargetPosition","extractScrollTargetPosition","targetScrollPosition","distanceToScroll","isNaN","log","allReadyAtDestination","executionDuration","speed","tooShortInterval","setScrollPosition","alreadyInView","attachInterruptListeners","startTime","Date","getTime","endTime","setInterval","_pageScrollInstance","currentTime","newScrollPosition","stopNow","stopInternal","push","start","create","stoppedSome","PageScrollService_Factory","ɵprov","token","factory","providedIn","decorators","Inject","ngInjectableDef","ɵɵdefineInjectable","ɵɵinject","Injectable","ɵ0$1","NgxPageScrollCoreModule","ngModule","providers","provide","useValue","NgxPageScrollCoreModule_Factory","PageScrollConfig","AutosizeDirective","elem","renderer","overflow","rows","textarea","borderHeight","setHeight","scrollHeight","setStyle","AutosizeDirective_Factory","ɵdir","AutosizeDirective_HostBindings","AutosizeDirective_input_HostBindingHandler","__decorate","__metadata","prototype","Function","ElementRef","Renderer2","TextareaAutosizeModule","TextareaAutosizeModule_Factory","Directive","_c1","WebcamComponent_div_3_Template","WebcamComponent_div_3_Template_div_click_0_listener","rotateVideoInput","WebcamImage","imageAsDataUrl","mimeType","imageData","_mimeType","_imageAsBase64","_imageAsDataUrl","_imageData","getDataFromDataUrl","dataUrl","WebcamUtil","mediaDevices","enumerateDevices","devices","filter","device","kind","err","message","WebcamComponent_1","WebcamComponent","videoOptions","DEFAULT_VIDEO_OPTIONS","allowCameraSwitch","captureImageData","DEFAULT_IMAGE_TYPE","DEFAULT_IMAGE_QUALITY","imageCapture","initError","imageClick","cameraSwitched","availableVideoInputs","videoInitialized","activeVideoInputIndex","mediaStream","activeVideoSettings","trigger","triggerSubscription","unsubscribe","subscribe","takeSnapshot","switchCamera","switchCameraSubscription","switchToVideoInput","detectAvailableDevices","next","stopMediaTracks","unsubscribeFromSubscriptions","_video","nativeVideoElement","dimensions","videoWidth","videoHeight","_canvas","context2d","quality","forward","increment","nextInputIndex","deviceId","initWebcam","videoRatio","getVideoAspectRatio","classes","isMirrorImage","trim","video","videoElement","userVideoTrackConstraints","getUserMedia","videoTrackConstraints","getMediaConstraintsForDevice","stream","srcObject","play","getVideoTracks","getSettings","activeDeviceId","getDeviceIdFromMediaStreamTrack","findIndex","mediaDeviceInfo","mediaStreamError","getActiveVideoTrack","mirror","mirrorImage","String","toLowerCase","x","isUserFacing","getTracks","track","stop","getAvailableVideoInputs","baseMediaTrackConstraints","exact","mediaStreamTrack","getConstraints","deviceIdObj","getValueFromConstrainDOMString","facingMode","facingModeConstraint","getFacingModeFromMediaStreamTrack","constrainDOMString","Array","isArray","WebcamComponent_Factory","WebcamComponent_Query","WebcamComponent_Template","WebcamComponent_Template_div_click_0_listener","WebcamComponent_Template_video_resize_1_listener","videoResize","videoStyleClasses","Number","Boolean","Observable","COMPONENTS","WebcamModule","WebcamModule_Factory","WebcamInitError","WebcamMirrorProperties","root","define","resolveUrl","numUrls","arguments","base","href","head","getElementsByTagName","insertBefore","firstChild","a","resolved","removeChild","createWorker","require","recognize","image","langs","worker","load","loadLanguage","initialize","finally","terminate","detect","TESSERACT_ONLY","LSTM_ONLY","TESSERACT_LSTM_COMBINED","DEFAULT","OSD_ONLY","AUTO_OSD","AUTO_ONLY","AUTO","SINGLE_COLUMN","SINGLE_BLOCK_VERT_TEXT","SINGLE_BLOCK","SINGLE_LINE","SINGLE_WORD","CIRCLE_WORD","SINGLE_CHAR","SPARSE_TEXT","SPARSE_TEXT_OSD","OEM","defaultOEM","langPath","workerBlobURL","logger","getId","jobCounter","_id","id","action","payload","createJob","schedulerCounter","workers","runningWorkers","jobQueue","getQueueLen","getNumWorkers","keys","dequeue","wIds","queue","job","shift","apply","addWorker","addJob","wid","resolvePaths","circularize","defaultOptions","spawnWorker","terminateWorker","onMessage","loadImage","send","workerCounter","_options","errorHandler","resolves","rejects","setResolve","res","setReject","rej","startJob","jobId","workerId","oem","setParameters","params","opts","getPDF","title","textonly","status","from","createScheduler","Tesseract","PSM","setLogging","page","blocks","paragraphs","lines","words","symbols","block","paragraph","line","word","sym","env","importScripts","prefix","cnt","random","toString","slice","logging","_logging","isBrowser","resolveURL","s","version","dependencies","workerPath","TESS_ENV","corePath","substring","WebAssembly","readFromBlobOrFile","blob","code","error","readAsArrayBuffer","map","fetch","resp","arrayBuffer","HTMLElement","tagName","poster","toBlob","File","handler","onmessage","packet","postMessage","URL","Worker","createObjectURL"],"mappings":"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","file":"src_app_capcheck_capcheck_module_ts.js","sourcesContent":["// https://github.com/electron/electron/issues/2288\nfunction isElectron() {\n    // Renderer process\n    if (typeof window !== 'undefined' && typeof window.process === 'object' && window.process.type === 'renderer') {\n        return true;\n    }\n\n    // Main process\n    if (typeof process !== 'undefined' && typeof process.versions === 'object' && !!process.versions.electron) {\n        return true;\n    }\n\n    // Detect the user agent when the `nodeIntegration` option is set to true\n    if (typeof navigator === 'object' && typeof navigator.userAgent === 'string' && navigator.userAgent.indexOf('Electron') >= 0) {\n        return true;\n    }\n\n    return false;\n}\n\nmodule.exports = isElectron;\n","import { EventEmitter, Component, ChangeDetectionStrategy, ChangeDetectorRef, ViewChild, Input, HostBinding, Output, HostListener, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} exifRotationOrBase64Image\n * @return {?}\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/platform-browser';\nimport * as ɵngcc2 from '@angular/common';\n\nconst _c0 = [\"sourceImage\"];\nfunction ImageCropperComponent_img_1_Template(rf, ctx) { if (rf & 1) {\n    const _r4 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"img\", 3, 4);\n    ɵngcc0.ɵɵlistener(\"load\", function ImageCropperComponent_img_1_Template_img_load_0_listener() { ɵngcc0.ɵɵrestoreView(_r4); const ctx_r3 = ɵngcc0.ɵɵnextContext(); return ctx_r3.imageLoadedInView(); });\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵstyleProp(\"visibility\", ctx_r0.imageVisible ? \"visible\" : \"hidden\")(\"transform\", ctx_r0.safeTransformStyle);\n    ɵngcc0.ɵɵproperty(\"src\", ctx_r0.safeImgDataUrl, ɵngcc0.ɵɵsanitizeUrl);\n} }\nfunction ImageCropperComponent_div_3_Template(rf, ctx) { if (rf & 1) {\n    const _r6 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 5);\n    ɵngcc0.ɵɵlistener(\"keydown\", function ImageCropperComponent_div_3_Template_div_keydown_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r6); const ctx_r5 = ɵngcc0.ɵɵnextContext(); return ctx_r5.keyboardAccess($event); });\n    ɵngcc0.ɵɵelementStart(1, \"div\", 6);\n    ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_3_Template_div_mousedown_1_listener($event) { ɵngcc0.ɵɵrestoreView(_r6); const ctx_r7 = ɵngcc0.ɵɵnextContext(); return ctx_r7.startMove($event, \"move\"); })(\"touchstart\", function ImageCropperComponent_div_3_Template_div_touchstart_1_listener($event) { ɵngcc0.ɵɵrestoreView(_r6); const ctx_r8 = ɵngcc0.ɵɵnextContext(); return ctx_r8.startMove($event, \"move\"); });\n    ɵngcc0.ɵɵtext(2, \"\\u00A0\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(3, \"span\", 7);\n    ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_3_Template_span_mousedown_3_listener($event) { ɵngcc0.ɵɵrestoreView(_r6); const ctx_r9 = ɵngcc0.ɵɵnextContext(); return ctx_r9.startMove($event, \"resize\", \"topleft\"); })(\"touchstart\", function ImageCropperComponent_div_3_Template_span_touchstart_3_listener($event) { ɵngcc0.ɵɵrestoreView(_r6); const ctx_r10 = ɵngcc0.ɵɵnextContext(); return ctx_r10.startMove($event, \"resize\", \"topleft\"); });\n    ɵngcc0.ɵɵelement(4, \"span\", 8);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(5, \"span\", 9);\n    ɵngcc0.ɵɵelement(6, \"span\", 8);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(7, \"span\", 10);\n    ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_3_Template_span_mousedown_7_listener($event) { ɵngcc0.ɵɵrestoreView(_r6); const ctx_r11 = ɵngcc0.ɵɵnextContext(); return ctx_r11.startMove($event, \"resize\", \"topright\"); })(\"touchstart\", function ImageCropperComponent_div_3_Template_span_touchstart_7_listener($event) { ɵngcc0.ɵɵrestoreView(_r6); const ctx_r12 = ɵngcc0.ɵɵnextContext(); return ctx_r12.startMove($event, \"resize\", \"topright\"); });\n    ɵngcc0.ɵɵelement(8, \"span\", 8);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(9, \"span\", 11);\n    ɵngcc0.ɵɵelement(10, \"span\", 8);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(11, \"span\", 12);\n    ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_3_Template_span_mousedown_11_listener($event) { ɵngcc0.ɵɵrestoreView(_r6); const ctx_r13 = ɵngcc0.ɵɵnextContext(); return ctx_r13.startMove($event, \"resize\", \"bottomright\"); })(\"touchstart\", function ImageCropperComponent_div_3_Template_span_touchstart_11_listener($event) { ɵngcc0.ɵɵrestoreView(_r6); const ctx_r14 = ɵngcc0.ɵɵnextContext(); return ctx_r14.startMove($event, \"resize\", \"bottomright\"); });\n    ɵngcc0.ɵɵelement(12, \"span\", 8);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(13, \"span\", 13);\n    ɵngcc0.ɵɵelement(14, \"span\", 8);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(15, \"span\", 14);\n    ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_3_Template_span_mousedown_15_listener($event) { ɵngcc0.ɵɵrestoreView(_r6); const ctx_r15 = ɵngcc0.ɵɵnextContext(); return ctx_r15.startMove($event, \"resize\", \"bottomleft\"); })(\"touchstart\", function ImageCropperComponent_div_3_Template_span_touchstart_15_listener($event) { ɵngcc0.ɵɵrestoreView(_r6); const ctx_r16 = ɵngcc0.ɵɵnextContext(); return ctx_r16.startMove($event, \"resize\", \"bottomleft\"); });\n    ɵngcc0.ɵɵelement(16, \"span\", 8);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(17, \"span\", 15);\n    ɵngcc0.ɵɵelement(18, \"span\", 8);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(19, \"span\", 16);\n    ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_3_Template_span_mousedown_19_listener($event) { ɵngcc0.ɵɵrestoreView(_r6); const ctx_r17 = ɵngcc0.ɵɵnextContext(); return ctx_r17.startMove($event, \"resize\", \"top\"); })(\"touchstart\", function ImageCropperComponent_div_3_Template_span_touchstart_19_listener($event) { ɵngcc0.ɵɵrestoreView(_r6); const ctx_r18 = ɵngcc0.ɵɵnextContext(); return ctx_r18.startMove($event, \"resize\", \"top\"); });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(20, \"span\", 17);\n    ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_3_Template_span_mousedown_20_listener($event) { ɵngcc0.ɵɵrestoreView(_r6); const ctx_r19 = ɵngcc0.ɵɵnextContext(); return ctx_r19.startMove($event, \"resize\", \"right\"); })(\"touchstart\", function ImageCropperComponent_div_3_Template_span_touchstart_20_listener($event) { ɵngcc0.ɵɵrestoreView(_r6); const ctx_r20 = ɵngcc0.ɵɵnextContext(); return ctx_r20.startMove($event, \"resize\", \"right\"); });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(21, \"span\", 18);\n    ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_3_Template_span_mousedown_21_listener($event) { ɵngcc0.ɵɵrestoreView(_r6); const ctx_r21 = ɵngcc0.ɵɵnextContext(); return ctx_r21.startMove($event, \"resize\", \"bottom\"); })(\"touchstart\", function ImageCropperComponent_div_3_Template_span_touchstart_21_listener($event) { ɵngcc0.ɵɵrestoreView(_r6); const ctx_r22 = ɵngcc0.ɵɵnextContext(); return ctx_r22.startMove($event, \"resize\", \"bottom\"); });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(22, \"span\", 19);\n    ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_div_3_Template_span_mousedown_22_listener($event) { ɵngcc0.ɵɵrestoreView(_r6); const ctx_r23 = ɵngcc0.ɵɵnextContext(); return ctx_r23.startMove($event, \"resize\", \"left\"); })(\"touchstart\", function ImageCropperComponent_div_3_Template_span_touchstart_22_listener($event) { ɵngcc0.ɵɵrestoreView(_r6); const ctx_r24 = ɵngcc0.ɵɵnextContext(); return ctx_r24.startMove($event, \"resize\", \"left\"); });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵstyleProp(\"top\", ctx_r1.cropper.y1, \"px\")(\"left\", ctx_r1.cropper.x1, \"px\")(\"width\", ctx_r1.cropper.x2 - ctx_r1.cropper.x1, \"px\")(\"height\", ctx_r1.cropper.y2 - ctx_r1.cropper.y1, \"px\")(\"margin-left\", ctx_r1.alignImage === \"center\" ? ctx_r1.marginLeft : null)(\"visibility\", ctx_r1.imageVisible ? \"visible\" : \"hidden\");\n    ɵngcc0.ɵɵclassProp(\"rounded\", ctx_r1.roundCropper);\n} }\nfunction getTransformationsFromExifData(exifRotationOrBase64Image) {\n    if (typeof exifRotationOrBase64Image === 'string') {\n        exifRotationOrBase64Image = getExifRotation(exifRotationOrBase64Image);\n    }\n    switch (exifRotationOrBase64Image) {\n        case 2: return { rotate: 0, flip: true };\n        case 3: return { rotate: 2, flip: false };\n        case 4: return { rotate: 2, flip: true };\n        case 5: return { rotate: 1, flip: true };\n        case 6: return { rotate: 1, flip: false };\n        case 7: return { rotate: 3, flip: true };\n        case 8: return { rotate: 3, flip: false };\n        default: return { rotate: 0, flip: false };\n    }\n}\n/**\n * @param {?} imageBase64\n * @return {?}\n */\nfunction getExifRotation(imageBase64) {\n    /** @type {?} */\n    const view = new DataView(base64ToArrayBuffer(imageBase64));\n    if (view.getUint16(0, false) != 0xFFD8) {\n        return -2;\n    }\n    /** @type {?} */\n    const length = view.byteLength;\n    /** @type {?} */\n    let offset = 2;\n    while (offset < length) {\n        if (view.getUint16(offset + 2, false) <= 8)\n            return -1;\n        /** @type {?} */\n        const marker = view.getUint16(offset, false);\n        offset += 2;\n        if (marker == 0xFFE1) {\n            if (view.getUint32(offset += 2, false) != 0x45786966) {\n                return -1;\n            }\n            /** @type {?} */\n            const little = view.getUint16(offset += 6, false) == 0x4949;\n            offset += view.getUint32(offset + 4, little);\n            /** @type {?} */\n            const tags = view.getUint16(offset, little);\n            offset += 2;\n            for (let i = 0; i < tags; i++) {\n                if (view.getUint16(offset + (i * 12), little) == 0x0112) {\n                    return view.getUint16(offset + (i * 12) + 8, little);\n                }\n            }\n        }\n        else if ((marker & 0xFF00) != 0xFF00) {\n            break;\n        }\n        else {\n            offset += view.getUint16(offset, false);\n        }\n    }\n    return -1;\n}\n/**\n * @param {?} imageBase64\n * @return {?}\n */\nfunction base64ToArrayBuffer(imageBase64) {\n    imageBase64 = imageBase64.replace(/^data\\:([^\\;]+)\\;base64,/gmi, '');\n    /** @type {?} */\n    const binaryString = atob(imageBase64);\n    /** @type {?} */\n    const len = binaryString.length;\n    /** @type {?} */\n    const bytes = new Uint8Array(len);\n    for (let i = 0; i < len; i++) {\n        bytes[i] = binaryString.charCodeAt(i);\n    }\n    return bytes.buffer;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/*\n * Hermite resize - fast image resize/resample using Hermite filter.\n * https://github.com/viliusle/Hermite-resize\n */\n/**\n * @param {?} canvas\n * @param {?} width\n * @param {?} height\n * @return {?}\n */\nfunction resizeCanvas(canvas, width, height) {\n    /** @type {?} */\n    const width_source = canvas.width;\n    /** @type {?} */\n    const height_source = canvas.height;\n    width = Math.round(width);\n    height = Math.round(height);\n    /** @type {?} */\n    const ratio_w = width_source / width;\n    /** @type {?} */\n    const ratio_h = height_source / height;\n    /** @type {?} */\n    const ratio_w_half = Math.ceil(ratio_w / 2);\n    /** @type {?} */\n    const ratio_h_half = Math.ceil(ratio_h / 2);\n    /** @type {?} */\n    const ctx = canvas.getContext('2d');\n    if (ctx) {\n        /** @type {?} */\n        const img = ctx.getImageData(0, 0, width_source, height_source);\n        /** @type {?} */\n        const img2 = ctx.createImageData(width, height);\n        /** @type {?} */\n        const data = img.data;\n        /** @type {?} */\n        const data2 = img2.data;\n        for (let j = 0; j < height; j++) {\n            for (let i = 0; i < width; i++) {\n                /** @type {?} */\n                const x2 = (i + j * width) * 4;\n                /** @type {?} */\n                const center_y = j * ratio_h;\n                /** @type {?} */\n                let weight = 0;\n                /** @type {?} */\n                let weights = 0;\n                /** @type {?} */\n                let weights_alpha = 0;\n                /** @type {?} */\n                let gx_r = 0;\n                /** @type {?} */\n                let gx_g = 0;\n                /** @type {?} */\n                let gx_b = 0;\n                /** @type {?} */\n                let gx_a = 0;\n                /** @type {?} */\n                const xx_start = Math.floor(i * ratio_w);\n                /** @type {?} */\n                const yy_start = Math.floor(j * ratio_h);\n                /** @type {?} */\n                let xx_stop = Math.ceil((i + 1) * ratio_w);\n                /** @type {?} */\n                let yy_stop = Math.ceil((j + 1) * ratio_h);\n                xx_stop = Math.min(xx_stop, width_source);\n                yy_stop = Math.min(yy_stop, height_source);\n                for (let yy = yy_start; yy < yy_stop; yy++) {\n                    /** @type {?} */\n                    const dy = Math.abs(center_y - yy) / ratio_h_half;\n                    /** @type {?} */\n                    const center_x = i * ratio_w;\n                    /** @type {?} */\n                    const w0 = dy * dy;\n                    for (let xx = xx_start; xx < xx_stop; xx++) {\n                        /** @type {?} */\n                        const dx = Math.abs(center_x - xx) / ratio_w_half;\n                        /** @type {?} */\n                        const w = Math.sqrt(w0 + dx * dx);\n                        if (w >= 1) {\n                            //pixel too far\n                            continue;\n                        }\n                        //hermite filter\n                        weight = 2 * w * w * w - 3 * w * w + 1;\n                        /** @type {?} */\n                        const pos_x = 4 * (xx + yy * width_source);\n                        //alpha\n                        gx_a += weight * data[pos_x + 3];\n                        weights_alpha += weight;\n                        //colors\n                        if (data[pos_x + 3] < 255)\n                            weight = weight * data[pos_x + 3] / 250;\n                        gx_r += weight * data[pos_x];\n                        gx_g += weight * data[pos_x + 1];\n                        gx_b += weight * data[pos_x + 2];\n                        weights += weight;\n                    }\n                }\n                data2[x2] = gx_r / weights;\n                data2[x2 + 1] = gx_g / weights;\n                data2[x2 + 2] = gx_b / weights;\n                data2[x2 + 3] = gx_a / weights_alpha;\n            }\n        }\n        canvas.width = width;\n        canvas.height = height;\n        //draw\n        ctx.putImageData(img2, 0, 0);\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ImageCropperComponent {\n    /**\n     * @param {?} sanitizer\n     * @param {?} cd\n     */\n    constructor(sanitizer, cd) {\n        this.sanitizer = sanitizer;\n        this.cd = cd;\n        this.setImageMaxSizeRetries = 0;\n        this.cropperScaledMinWidth = 20;\n        this.cropperScaledMinHeight = 20;\n        this.exifTransform = { rotate: 0, flip: false };\n        this.stepSize = 3;\n        this.marginLeft = '0px';\n        this.imageVisible = false;\n        this.format = 'png';\n        this.maintainAspectRatio = true;\n        this.transform = {};\n        this.aspectRatio = 1;\n        this.resizeToWidth = 0;\n        this.resizeToHeight = 0;\n        this.cropperMinWidth = 0;\n        this.cropperMinHeight = 0;\n        this.canvasRotation = 0;\n        this.initialStepSize = 3;\n        this.roundCropper = false;\n        this.onlyScaleDown = false;\n        this.imageQuality = 92;\n        this.autoCrop = true;\n        this.containWithinAspectRatio = false;\n        this.cropper = {\n            x1: -100,\n            y1: -100,\n            x2: 10000,\n            y2: 10000\n        };\n        this.alignImage = 'center';\n        this.disabled = false;\n        this.imageCropped = new EventEmitter();\n        this.startCropImage = new EventEmitter();\n        this.imageLoaded = new EventEmitter();\n        this.cropperReady = new EventEmitter();\n        this.loadImageFailed = new EventEmitter();\n        this.initCropper();\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    set imageChangedEvent(event) {\n        this.initCropper();\n        if (event && event.target && event.target.files && event.target.files.length > 0) {\n            this.loadImageFile(event.target.files[0]);\n        }\n    }\n    /**\n     * @param {?} imageBase64\n     * @return {?}\n     */\n    set imageBase64(imageBase64) {\n        this.initCropper();\n        this.checkExifAndLoadBase64Image(imageBase64);\n    }\n    /**\n     * @param {?} file\n     * @return {?}\n     */\n    set imageFile(file) {\n        this.initCropper();\n        if (file) {\n            this.loadImageFile(file);\n        }\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        if (this.originalImage && this.originalImage.complete && this.exifTransform && (changes.containWithinAspectRatio || changes.canvasRotation)) {\n            this.transformOriginalImage();\n        }\n        if (changes.cropper) {\n            this.setMaxSize();\n            this.setCropperScaledMinSize();\n            this.checkCropperPosition(false);\n            this.doAutoCrop();\n            this.cd.markForCheck();\n        }\n        if (changes.aspectRatio && this.imageVisible) {\n            this.resetCropperPosition();\n        }\n        if (changes.transform) {\n            this.transform = this.transform || {};\n            this.setCssTransform();\n            this.doAutoCrop();\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    setCssTransform() {\n        this.safeTransformStyle = this.sanitizer.bypassSecurityTrustStyle('scaleX(' + (this.transform.scale || 1) * (this.transform.flipH ? -1 : 1) + ')' +\n            'scaleY(' + (this.transform.scale || 1) * (this.transform.flipV ? -1 : 1) + ')' +\n            'rotate(' + (this.transform.rotate || 0) + 'deg)');\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        this.stepSize = this.initialStepSize;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    initCropper() {\n        this.imageVisible = false;\n        this.transformedImage = null;\n        this.safeImgDataUrl = 'data:image/png;base64,iVBORw0KGg'\n            + 'oAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAU'\n            + 'AAarVyFEAAAAASUVORK5CYII=';\n        this.moveStart = {\n            active: false,\n            type: null,\n            position: null,\n            x1: 0,\n            y1: 0,\n            x2: 0,\n            y2: 0,\n            clientX: 0,\n            clientY: 0\n        };\n        this.maxSize = {\n            width: 0,\n            height: 0\n        };\n        this.originalSize = {\n            width: 0,\n            height: 0\n        };\n        this.transformedSize = {\n            width: 0,\n            height: 0\n        };\n        this.cropper.x1 = -100;\n        this.cropper.y1 = -100;\n        this.cropper.x2 = 10000;\n        this.cropper.y2 = 10000;\n    }\n    /**\n     * @private\n     * @param {?} file\n     * @return {?}\n     */\n    loadImageFile(file) {\n        /** @type {?} */\n        const fileReader = new FileReader();\n        fileReader.onload = (/**\n         * @param {?} event\n         * @return {?}\n         */\n        (event) => {\n            /** @type {?} */\n            const imageType = file.type;\n            if (this.isValidImageType(imageType)) {\n                this.checkExifAndLoadBase64Image(event.target.result);\n            }\n            else {\n                this.loadImageFailed.emit();\n            }\n        });\n        fileReader.readAsDataURL(file);\n    }\n    /**\n     * @private\n     * @param {?} type\n     * @return {?}\n     */\n    isValidImageType(type) {\n        return /image\\/(png|jpg|jpeg|bmp|gif|tiff)/.test(type);\n    }\n    /**\n     * @private\n     * @param {?} imageBase64\n     * @return {?}\n     */\n    checkExifAndLoadBase64Image(imageBase64) {\n        return new Promise((/**\n         * @param {?} resolve\n         * @param {?} reject\n         * @return {?}\n         */\n        (resolve, reject) => {\n            /** @type {?} */\n            const fail = (/**\n             * @param {?=} ex\n             * @return {?}\n             */\n            (ex) => {\n                this.originalImage = null;\n                this.originalBase64 = null;\n                reject(ex);\n            });\n            this.originalImage = new Image();\n            this.originalImage.onload = (/**\n             * @return {?}\n             */\n            () => {\n                this.originalBase64 = imageBase64;\n                this.exifTransform = getTransformationsFromExifData(imageBase64);\n                this.originalSize.width = this.originalImage.naturalWidth;\n                this.originalSize.height = this.originalImage.naturalHeight;\n                this.transformOriginalImage()\n                    .then((/**\n                 * @return {?}\n                 */\n                () => resolve()))\n                    .catch(fail);\n            });\n            this.originalImage.onerror = fail;\n            this.originalImage.src = imageBase64;\n        }));\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    getTransformedSize() {\n        /** @type {?} */\n        const canvasRotation = this.canvasRotation + this.exifTransform.rotate;\n        if (this.containWithinAspectRatio) {\n            if (canvasRotation % 2) {\n                /** @type {?} */\n                const minWidthToContain = this.originalSize.width * this.aspectRatio;\n                /** @type {?} */\n                const minHeightToContain = this.originalSize.height / this.aspectRatio;\n                return {\n                    width: Math.max(this.originalSize.height, minWidthToContain),\n                    height: Math.max(this.originalSize.width, minHeightToContain),\n                };\n            }\n            else {\n                /** @type {?} */\n                const minWidthToContain = this.originalSize.height * this.aspectRatio;\n                /** @type {?} */\n                const minHeightToContain = this.originalSize.width / this.aspectRatio;\n                return {\n                    width: Math.max(this.originalSize.width, minWidthToContain),\n                    height: Math.max(this.originalSize.height, minHeightToContain),\n                };\n            }\n        }\n        if (canvasRotation % 2) {\n            return {\n                height: this.originalSize.width,\n                width: this.originalSize.height,\n            };\n        }\n        return {\n            width: this.originalSize.width,\n            height: this.originalSize.height,\n        };\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    transformImageBase64() {\n        /** @type {?} */\n        const canvasRotation = this.canvasRotation + this.exifTransform.rotate;\n        /** @type {?} */\n        const transformedSize = this.getTransformedSize();\n        /** @type {?} */\n        const canvas = document.createElement('canvas');\n        canvas.width = transformedSize.width;\n        canvas.height = transformedSize.height;\n        /** @type {?} */\n        const ctx = canvas.getContext('2d');\n        ctx.setTransform(this.exifTransform.flip ? -1 : 1, 0, 0, 1, canvas.width / 2, canvas.height / 2);\n        ctx.rotate(Math.PI * (canvasRotation / 2));\n        ctx.drawImage(this.originalImage, -this.originalSize.width / 2, -this.originalSize.height / 2);\n        return Promise.resolve(canvas.toDataURL());\n    }\n    /**\n     * @private\n     * @param {?} transformedBase64\n     * @return {?}\n     */\n    setTransformedImage(transformedBase64) {\n        return new Promise((/**\n         * @param {?} resolve\n         * @param {?} reject\n         * @return {?}\n         */\n        (resolve, reject) => {\n            this.transformedBase64 = transformedBase64;\n            this.safeImgDataUrl = this.sanitizer.bypassSecurityTrustResourceUrl(transformedBase64);\n            this.transformedImage = new Image();\n            this.transformedImage.onload = (/**\n             * @return {?}\n             */\n            () => {\n                this.transformedSize.width = this.transformedImage.naturalWidth;\n                this.transformedSize.height = this.transformedImage.naturalHeight;\n                resolve();\n                this.cd.markForCheck();\n            });\n            this.transformedImage.onerror = (/**\n             * @return {?}\n             */\n            () => {\n                this.transformedImage = null;\n                reject();\n            });\n            this.transformedImage.src = this.transformedBase64;\n        }));\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    transformOriginalImage() {\n        if (!this.originalImage || !this.originalImage.complete || !this.exifTransform) {\n            return Promise.reject(new Error('No Image Loaded'));\n        }\n        return this.transformImageBase64()\n            .then((/**\n         * @param {?} transformedBase64\n         * @return {?}\n         */\n        transformedBase64 => this.setTransformedImage(transformedBase64)));\n    }\n    /**\n     * @return {?}\n     */\n    imageLoadedInView() {\n        if (this.transformedImage != null) {\n            this.imageLoaded.emit();\n            this.setImageMaxSizeRetries = 0;\n            setTimeout((/**\n             * @return {?}\n             */\n            () => this.checkImageMaxSizeRecursively()));\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    checkImageMaxSizeRecursively() {\n        if (this.setImageMaxSizeRetries > 40) {\n            this.loadImageFailed.emit();\n        }\n        else if (this.sourceImage && this.sourceImage.nativeElement && this.sourceImage.nativeElement.offsetWidth > 0) {\n            this.setMaxSize();\n            this.setCropperScaledMinSize();\n            this.resetCropperPosition();\n            this.cropperReady.emit(Object.assign({}, this.maxSize));\n            this.cd.markForCheck();\n        }\n        else {\n            this.setImageMaxSizeRetries++;\n            setTimeout((/**\n             * @return {?}\n             */\n            () => {\n                this.checkImageMaxSizeRecursively();\n            }), 50);\n        }\n    }\n    /**\n     * @return {?}\n     */\n    onResize() {\n        this.resizeCropperPosition();\n        this.setMaxSize();\n        this.setCropperScaledMinSize();\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    resizeCropperPosition() {\n        /** @type {?} */\n        const sourceImageElement = this.sourceImage.nativeElement;\n        if (this.maxSize.width !== sourceImageElement.offsetWidth || this.maxSize.height !== sourceImageElement.offsetHeight) {\n            this.cropper.x1 = this.cropper.x1 * sourceImageElement.offsetWidth / this.maxSize.width;\n            this.cropper.x2 = this.cropper.x2 * sourceImageElement.offsetWidth / this.maxSize.width;\n            this.cropper.y1 = this.cropper.y1 * sourceImageElement.offsetHeight / this.maxSize.height;\n            this.cropper.y2 = this.cropper.y2 * sourceImageElement.offsetHeight / this.maxSize.height;\n        }\n    }\n    /**\n     * @return {?}\n     */\n    resetCropperPosition() {\n        /** @type {?} */\n        const sourceImageElement = this.sourceImage.nativeElement;\n        if (!this.maintainAspectRatio) {\n            this.cropper.x1 = 0;\n            this.cropper.x2 = sourceImageElement.offsetWidth;\n            this.cropper.y1 = 0;\n            this.cropper.y2 = sourceImageElement.offsetHeight;\n        }\n        else if (sourceImageElement.offsetWidth / this.aspectRatio < sourceImageElement.offsetHeight) {\n            this.cropper.x1 = 0;\n            this.cropper.x2 = sourceImageElement.offsetWidth;\n            /** @type {?} */\n            const cropperHeight = sourceImageElement.offsetWidth / this.aspectRatio;\n            this.cropper.y1 = (sourceImageElement.offsetHeight - cropperHeight) / 2;\n            this.cropper.y2 = this.cropper.y1 + cropperHeight;\n        }\n        else {\n            this.cropper.y1 = 0;\n            this.cropper.y2 = sourceImageElement.offsetHeight;\n            /** @type {?} */\n            const cropperWidth = sourceImageElement.offsetHeight * this.aspectRatio;\n            this.cropper.x1 = (sourceImageElement.offsetWidth - cropperWidth) / 2;\n            this.cropper.x2 = this.cropper.x1 + cropperWidth;\n        }\n        this.doAutoCrop();\n        this.imageVisible = true;\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    keyboardAccess(event) {\n        this.changeKeyboardStepSize(event);\n        this.keyboardMoveCropper(event);\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    changeKeyboardStepSize(event) {\n        if (event.key >= '1' && event.key <= '9') {\n            this.stepSize = +event.key;\n            return;\n        }\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    keyboardMoveCropper(event) {\n        /** @type {?} */\n        const keyboardWhiteList = ['ArrowUp', 'ArrowDown', 'ArrowRight', 'ArrowLeft'];\n        if (!(keyboardWhiteList.includes(event.key))) {\n            return;\n        }\n        /** @type {?} */\n        const moveType = event.shiftKey ? 'resize' : 'move';\n        /** @type {?} */\n        const position = event.altKey ? this.getInvertedPositionForKey(event.key) : this.getPositionForKey(event.key);\n        /** @type {?} */\n        const moveEvent = this.getEventForKey(event.key, this.stepSize);\n        event.preventDefault();\n        event.stopPropagation();\n        this.startMove({ clientX: 0, clientY: 0 }, moveType, position);\n        this.moveImg(moveEvent);\n        this.moveStop();\n    }\n    /**\n     * @private\n     * @param {?} key\n     * @return {?}\n     */\n    getPositionForKey(key) {\n        switch (key) {\n            case 'ArrowUp':\n                return 'top';\n            case 'ArrowRight':\n                return 'right';\n            case 'ArrowDown':\n                return 'bottom';\n            case 'ArrowLeft':\n            default:\n                return 'left';\n        }\n    }\n    /**\n     * @private\n     * @param {?} key\n     * @return {?}\n     */\n    getInvertedPositionForKey(key) {\n        switch (key) {\n            case 'ArrowUp':\n                return 'bottom';\n            case 'ArrowRight':\n                return 'left';\n            case 'ArrowDown':\n                return 'top';\n            case 'ArrowLeft':\n            default:\n                return 'right';\n        }\n    }\n    /**\n     * @private\n     * @param {?} key\n     * @param {?} stepSize\n     * @return {?}\n     */\n    getEventForKey(key, stepSize) {\n        switch (key) {\n            case 'ArrowUp':\n                return { clientX: 0, clientY: stepSize * -1 };\n            case 'ArrowRight':\n                return { clientX: stepSize, clientY: 0 };\n            case 'ArrowDown':\n                return { clientX: 0, clientY: stepSize };\n            case 'ArrowLeft':\n            default:\n                return { clientX: stepSize * -1, clientY: 0 };\n        }\n    }\n    /**\n     * @param {?} event\n     * @param {?} moveType\n     * @param {?=} position\n     * @return {?}\n     */\n    startMove(event, moveType, position = null) {\n        if (event.preventDefault) {\n            event.preventDefault();\n        }\n        this.moveStart = Object.assign({ active: true, type: moveType, position, clientX: this.getClientX(event), clientY: this.getClientY(event) }, this.cropper);\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    moveImg(event) {\n        if (this.moveStart.active) {\n            if (event.stopPropagation) {\n                event.stopPropagation();\n            }\n            if (event.preventDefault) {\n                event.preventDefault();\n            }\n            if (this.moveStart.type === 'move') {\n                this.move(event);\n                this.checkCropperPosition(true);\n            }\n            else if (this.moveStart.type === 'resize') {\n                this.resize(event);\n                this.checkCropperPosition(false);\n            }\n            this.cd.detectChanges();\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    setMaxSize() {\n        if (this.sourceImage) {\n            /** @type {?} */\n            const sourceImageElement = this.sourceImage.nativeElement;\n            this.maxSize.width = sourceImageElement.offsetWidth;\n            this.maxSize.height = sourceImageElement.offsetHeight;\n            this.marginLeft = this.sanitizer.bypassSecurityTrustStyle('calc(50% - ' + this.maxSize.width / 2 + 'px)');\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    setCropperScaledMinSize() {\n        if (this.transformedImage) {\n            this.setCropperScaledMinWidth();\n            this.setCropperScaledMinHeight();\n        }\n        else {\n            this.cropperScaledMinWidth = 20;\n            this.cropperScaledMinHeight = 20;\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    setCropperScaledMinWidth() {\n        this.cropperScaledMinWidth = this.cropperMinWidth > 0\n            ? Math.max(20, this.cropperMinWidth / this.transformedImage.width * this.maxSize.width)\n            : 20;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    setCropperScaledMinHeight() {\n        if (this.maintainAspectRatio) {\n            this.cropperScaledMinHeight = Math.max(20, this.cropperScaledMinWidth / this.aspectRatio);\n        }\n        else if (this.cropperMinHeight > 0) {\n            this.cropperScaledMinHeight = Math.max(20, this.cropperMinHeight / this.transformedImage.height * this.maxSize.height);\n        }\n        else {\n            this.cropperScaledMinHeight = 20;\n        }\n    }\n    /**\n     * @private\n     * @param {?=} maintainSize\n     * @return {?}\n     */\n    checkCropperPosition(maintainSize = false) {\n        if (this.cropper.x1 < 0) {\n            this.cropper.x2 -= maintainSize ? this.cropper.x1 : 0;\n            this.cropper.x1 = 0;\n        }\n        if (this.cropper.y1 < 0) {\n            this.cropper.y2 -= maintainSize ? this.cropper.y1 : 0;\n            this.cropper.y1 = 0;\n        }\n        if (this.cropper.x2 > this.maxSize.width) {\n            this.cropper.x1 -= maintainSize ? (this.cropper.x2 - this.maxSize.width) : 0;\n            this.cropper.x2 = this.maxSize.width;\n        }\n        if (this.cropper.y2 > this.maxSize.height) {\n            this.cropper.y1 -= maintainSize ? (this.cropper.y2 - this.maxSize.height) : 0;\n            this.cropper.y2 = this.maxSize.height;\n        }\n    }\n    /**\n     * @return {?}\n     */\n    moveStop() {\n        if (this.moveStart.active) {\n            this.moveStart.active = false;\n            this.doAutoCrop();\n        }\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    move(event) {\n        /** @type {?} */\n        const diffX = this.getClientX(event) - this.moveStart.clientX;\n        /** @type {?} */\n        const diffY = this.getClientY(event) - this.moveStart.clientY;\n        this.cropper.x1 = this.moveStart.x1 + diffX;\n        this.cropper.y1 = this.moveStart.y1 + diffY;\n        this.cropper.x2 = this.moveStart.x2 + diffX;\n        this.cropper.y2 = this.moveStart.y2 + diffY;\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    resize(event) {\n        /** @type {?} */\n        const diffX = this.getClientX(event) - this.moveStart.clientX;\n        /** @type {?} */\n        const diffY = this.getClientY(event) - this.moveStart.clientY;\n        switch (this.moveStart.position) {\n            case 'left':\n                this.cropper.x1 = Math.min(this.moveStart.x1 + diffX, this.cropper.x2 - this.cropperScaledMinWidth);\n                break;\n            case 'topleft':\n                this.cropper.x1 = Math.min(this.moveStart.x1 + diffX, this.cropper.x2 - this.cropperScaledMinWidth);\n                this.cropper.y1 = Math.min(this.moveStart.y1 + diffY, this.cropper.y2 - this.cropperScaledMinHeight);\n                break;\n            case 'top':\n                this.cropper.y1 = Math.min(this.moveStart.y1 + diffY, this.cropper.y2 - this.cropperScaledMinHeight);\n                break;\n            case 'topright':\n                this.cropper.x2 = Math.max(this.moveStart.x2 + diffX, this.cropper.x1 + this.cropperScaledMinWidth);\n                this.cropper.y1 = Math.min(this.moveStart.y1 + diffY, this.cropper.y2 - this.cropperScaledMinHeight);\n                break;\n            case 'right':\n                this.cropper.x2 = Math.max(this.moveStart.x2 + diffX, this.cropper.x1 + this.cropperScaledMinWidth);\n                break;\n            case 'bottomright':\n                this.cropper.x2 = Math.max(this.moveStart.x2 + diffX, this.cropper.x1 + this.cropperScaledMinWidth);\n                this.cropper.y2 = Math.max(this.moveStart.y2 + diffY, this.cropper.y1 + this.cropperScaledMinHeight);\n                break;\n            case 'bottom':\n                this.cropper.y2 = Math.max(this.moveStart.y2 + diffY, this.cropper.y1 + this.cropperScaledMinHeight);\n                break;\n            case 'bottomleft':\n                this.cropper.x1 = Math.min(this.moveStart.x1 + diffX, this.cropper.x2 - this.cropperScaledMinWidth);\n                this.cropper.y2 = Math.max(this.moveStart.y2 + diffY, this.cropper.y1 + this.cropperScaledMinHeight);\n                break;\n        }\n        if (this.maintainAspectRatio) {\n            this.checkAspectRatio();\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    checkAspectRatio() {\n        /** @type {?} */\n        let overflowX = 0;\n        /** @type {?} */\n        let overflowY = 0;\n        switch (this.moveStart.position) {\n            case 'top':\n                this.cropper.x2 = this.cropper.x1 + (this.cropper.y2 - this.cropper.y1) * this.aspectRatio;\n                overflowX = Math.max(this.cropper.x2 - this.maxSize.width, 0);\n                overflowY = Math.max(0 - this.cropper.y1, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    this.cropper.x2 -= (overflowY * this.aspectRatio) > overflowX ? (overflowY * this.aspectRatio) : overflowX;\n                    this.cropper.y1 += (overflowY * this.aspectRatio) > overflowX ? overflowY : overflowX / this.aspectRatio;\n                }\n                break;\n            case 'bottom':\n                this.cropper.x2 = this.cropper.x1 + (this.cropper.y2 - this.cropper.y1) * this.aspectRatio;\n                overflowX = Math.max(this.cropper.x2 - this.maxSize.width, 0);\n                overflowY = Math.max(this.cropper.y2 - this.maxSize.height, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    this.cropper.x2 -= (overflowY * this.aspectRatio) > overflowX ? (overflowY * this.aspectRatio) : overflowX;\n                    this.cropper.y2 -= (overflowY * this.aspectRatio) > overflowX ? overflowY : (overflowX / this.aspectRatio);\n                }\n                break;\n            case 'topleft':\n                this.cropper.y1 = this.cropper.y2 - (this.cropper.x2 - this.cropper.x1) / this.aspectRatio;\n                overflowX = Math.max(0 - this.cropper.x1, 0);\n                overflowY = Math.max(0 - this.cropper.y1, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    this.cropper.x1 += (overflowY * this.aspectRatio) > overflowX ? (overflowY * this.aspectRatio) : overflowX;\n                    this.cropper.y1 += (overflowY * this.aspectRatio) > overflowX ? overflowY : overflowX / this.aspectRatio;\n                }\n                break;\n            case 'topright':\n                this.cropper.y1 = this.cropper.y2 - (this.cropper.x2 - this.cropper.x1) / this.aspectRatio;\n                overflowX = Math.max(this.cropper.x2 - this.maxSize.width, 0);\n                overflowY = Math.max(0 - this.cropper.y1, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    this.cropper.x2 -= (overflowY * this.aspectRatio) > overflowX ? (overflowY * this.aspectRatio) : overflowX;\n                    this.cropper.y1 += (overflowY * this.aspectRatio) > overflowX ? overflowY : overflowX / this.aspectRatio;\n                }\n                break;\n            case 'right':\n            case 'bottomright':\n                this.cropper.y2 = this.cropper.y1 + (this.cropper.x2 - this.cropper.x1) / this.aspectRatio;\n                overflowX = Math.max(this.cropper.x2 - this.maxSize.width, 0);\n                overflowY = Math.max(this.cropper.y2 - this.maxSize.height, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    this.cropper.x2 -= (overflowY * this.aspectRatio) > overflowX ? (overflowY * this.aspectRatio) : overflowX;\n                    this.cropper.y2 -= (overflowY * this.aspectRatio) > overflowX ? overflowY : overflowX / this.aspectRatio;\n                }\n                break;\n            case 'left':\n            case 'bottomleft':\n                this.cropper.y2 = this.cropper.y1 + (this.cropper.x2 - this.cropper.x1) / this.aspectRatio;\n                overflowX = Math.max(0 - this.cropper.x1, 0);\n                overflowY = Math.max(this.cropper.y2 - this.maxSize.height, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    this.cropper.x1 += (overflowY * this.aspectRatio) > overflowX ? (overflowY * this.aspectRatio) : overflowX;\n                    this.cropper.y2 -= (overflowY * this.aspectRatio) > overflowX ? overflowY : overflowX / this.aspectRatio;\n                }\n                break;\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    doAutoCrop() {\n        if (this.autoCrop) {\n            this.crop();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    crop() {\n        if (this.sourceImage && this.sourceImage.nativeElement && this.transformedImage != null) {\n            this.startCropImage.emit();\n            /** @type {?} */\n            const imagePosition = this.getImagePosition();\n            /** @type {?} */\n            const width = imagePosition.x2 - imagePosition.x1;\n            /** @type {?} */\n            const height = imagePosition.y2 - imagePosition.y1;\n            /** @type {?} */\n            const cropCanvas = (/** @type {?} */ (document.createElement('canvas')));\n            cropCanvas.width = width;\n            cropCanvas.height = height;\n            /** @type {?} */\n            const ctx = cropCanvas.getContext('2d');\n            if (ctx) {\n                if (this.backgroundColor != null) {\n                    ctx.fillStyle = this.backgroundColor;\n                    ctx.fillRect(0, 0, width, height);\n                }\n                /** @type {?} */\n                const scaleX = (this.transform.scale || 1) * (this.transform.flipH ? -1 : 1);\n                /** @type {?} */\n                const scaleY = (this.transform.scale || 1) * (this.transform.flipV ? -1 : 1);\n                ctx.setTransform(scaleX, 0, 0, scaleY, this.transformedSize.width / 2, this.transformedSize.height / 2);\n                ctx.translate(-imagePosition.x1 / scaleX, -imagePosition.y1 / scaleY);\n                ctx.rotate((this.transform.rotate || 0) * Math.PI / 180);\n                ctx.drawImage(this.transformedImage, -this.transformedSize.width / 2, -this.transformedSize.height / 2);\n                /** @type {?} */\n                const output = {\n                    width, height,\n                    imagePosition,\n                    cropperPosition: Object.assign({}, this.cropper)\n                };\n                if (this.containWithinAspectRatio) {\n                    output.offsetImagePosition = this.getOffsetImagePosition();\n                }\n                /** @type {?} */\n                const resizeRatio = this.getResizeRatio(width, height);\n                if (resizeRatio !== 1) {\n                    output.width = Math.round(width * resizeRatio);\n                    output.height = this.maintainAspectRatio\n                        ? Math.round(output.width / this.aspectRatio)\n                        : Math.round(height * resizeRatio);\n                    resizeCanvas(cropCanvas, output.width, output.height);\n                }\n                output.base64 = this.cropToBase64(cropCanvas);\n                this.imageCropped.emit(output);\n                return output;\n            }\n        }\n        return null;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    getImagePosition() {\n        /** @type {?} */\n        const sourceImageElement = this.sourceImage.nativeElement;\n        /** @type {?} */\n        const ratio = this.transformedSize.width / sourceImageElement.offsetWidth;\n        /** @type {?} */\n        const out = {\n            x1: Math.round(this.cropper.x1 * ratio),\n            y1: Math.round(this.cropper.y1 * ratio),\n            x2: Math.round(this.cropper.x2 * ratio),\n            y2: Math.round(this.cropper.y2 * ratio)\n        };\n        if (!this.containWithinAspectRatio) {\n            out.x1 = Math.max(out.x1, 0);\n            out.y1 = Math.max(out.y1, 0);\n            out.x2 = Math.min(out.x2, this.transformedSize.width);\n            out.y2 = Math.min(out.y2, this.transformedSize.height);\n        }\n        return out;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    getOffsetImagePosition() {\n        /** @type {?} */\n        const canvasRotation = this.canvasRotation + this.exifTransform.rotate;\n        /** @type {?} */\n        const sourceImageElement = this.sourceImage.nativeElement;\n        /** @type {?} */\n        const ratio = this.transformedSize.width / sourceImageElement.offsetWidth;\n        /** @type {?} */\n        let offsetX;\n        /** @type {?} */\n        let offsetY;\n        if (canvasRotation % 2) {\n            offsetX = (this.transformedSize.width - this.originalSize.height) / 2;\n            offsetY = (this.transformedSize.height - this.originalSize.width) / 2;\n        }\n        else {\n            offsetX = (this.transformedSize.width - this.originalSize.width) / 2;\n            offsetY = (this.transformedSize.height - this.originalSize.height) / 2;\n        }\n        /** @type {?} */\n        const out = {\n            x1: Math.round(this.cropper.x1 * ratio) - offsetX,\n            y1: Math.round(this.cropper.y1 * ratio) - offsetY,\n            x2: Math.round(this.cropper.x2 * ratio) - offsetX,\n            y2: Math.round(this.cropper.y2 * ratio) - offsetY\n        };\n        if (!this.containWithinAspectRatio) {\n            out.x1 = Math.max(out.x1, 0);\n            out.y1 = Math.max(out.y1, 0);\n            out.x2 = Math.min(out.x2, this.transformedSize.width);\n            out.y2 = Math.min(out.y2, this.transformedSize.height);\n        }\n        return out;\n    }\n    /**\n     * @private\n     * @param {?} cropCanvas\n     * @return {?}\n     */\n    cropToBase64(cropCanvas) {\n        return cropCanvas.toDataURL('image/' + this.format, this.getQuality());\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    getQuality() {\n        return Math.min(1, Math.max(0, this.imageQuality / 100));\n    }\n    /**\n     * @private\n     * @param {?} width\n     * @param {?} height\n     * @return {?}\n     */\n    getResizeRatio(width, height) {\n        if (this.resizeToWidth > 0) {\n            if (!this.onlyScaleDown || width > this.resizeToWidth) {\n                return this.resizeToWidth / width;\n            }\n        }\n        else if (this.resizeToHeight > 0) {\n            if (!this.onlyScaleDown || height > this.resizeToHeight) {\n                return this.resizeToHeight / height;\n            }\n        }\n        return 1;\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    getClientX(event) {\n        return (event.touches && event.touches[0] ? event.touches[0].clientX : event.clientX) || 0;\n    }\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    getClientY(event) {\n        return (event.touches && event.touches[0] ? event.touches[0].clientY : event.clientY) || 0;\n    }\n}\nImageCropperComponent.ɵfac = function ImageCropperComponent_Factory(t) { return new (t || ImageCropperComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.DomSanitizer), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef)); };\nImageCropperComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: ImageCropperComponent, selectors: [[\"image-cropper\"]], viewQuery: function ImageCropperComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, 5);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.sourceImage = _t.first);\n    } }, hostVars: 4, hostBindings: function ImageCropperComponent_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"resize\", function ImageCropperComponent_resize_HostBindingHandler() { return ctx.onResize(); }, false, ɵngcc0.ɵɵresolveWindow)(\"mousemove\", function ImageCropperComponent_mousemove_HostBindingHandler($event) { return ctx.moveImg($event); }, false, ɵngcc0.ɵɵresolveDocument)(\"touchmove\", function ImageCropperComponent_touchmove_HostBindingHandler($event) { return ctx.moveImg($event); }, false, ɵngcc0.ɵɵresolveDocument)(\"mouseup\", function ImageCropperComponent_mouseup_HostBindingHandler() { return ctx.moveStop(); }, false, ɵngcc0.ɵɵresolveDocument)(\"touchend\", function ImageCropperComponent_touchend_HostBindingHandler() { return ctx.moveStop(); }, false, ɵngcc0.ɵɵresolveDocument);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵstyleProp(\"text-align\", ctx.alignImage);\n        ɵngcc0.ɵɵclassProp(\"disabled\", ctx.disabled);\n    } }, inputs: { format: \"format\", maintainAspectRatio: \"maintainAspectRatio\", transform: \"transform\", aspectRatio: \"aspectRatio\", resizeToWidth: \"resizeToWidth\", resizeToHeight: \"resizeToHeight\", cropperMinWidth: \"cropperMinWidth\", cropperMinHeight: \"cropperMinHeight\", canvasRotation: \"canvasRotation\", initialStepSize: \"initialStepSize\", roundCropper: \"roundCropper\", onlyScaleDown: \"onlyScaleDown\", imageQuality: \"imageQuality\", autoCrop: \"autoCrop\", containWithinAspectRatio: \"containWithinAspectRatio\", cropper: \"cropper\", alignImage: \"alignImage\", disabled: \"disabled\", imageChangedEvent: \"imageChangedEvent\", imageBase64: \"imageBase64\", imageFile: \"imageFile\", backgroundColor: \"backgroundColor\" }, outputs: { imageCropped: \"imageCropped\", startCropImage: \"startCropImage\", imageLoaded: \"imageLoaded\", cropperReady: \"cropperReady\", loadImageFailed: \"loadImageFailed\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 4, vars: 10, consts: [[\"class\", \"source-image\", 3, \"src\", \"visibility\", \"transform\", \"load\", 4, \"ngIf\"], [1, \"overlay\"], [\"class\", \"cropper\", \"tabindex\", \"0\", 3, \"rounded\", \"top\", \"left\", \"width\", \"height\", \"margin-left\", \"visibility\", \"keydown\", 4, \"ngIf\"], [1, \"source-image\", 3, \"src\", \"load\"], [\"sourceImage\", \"\"], [\"tabindex\", \"0\", 1, \"cropper\", 3, \"keydown\"], [1, \"move\", 3, \"mousedown\", \"touchstart\"], [1, \"resize\", \"topleft\", 3, \"mousedown\", \"touchstart\"], [1, \"square\"], [1, \"resize\", \"top\"], [1, \"resize\", \"topright\", 3, \"mousedown\", \"touchstart\"], [1, \"resize\", \"right\"], [1, \"resize\", \"bottomright\", 3, \"mousedown\", \"touchstart\"], [1, \"resize\", \"bottom\"], [1, \"resize\", \"bottomleft\", 3, \"mousedown\", \"touchstart\"], [1, \"resize\", \"left\"], [1, \"resize-bar\", \"top\", 3, \"mousedown\", \"touchstart\"], [1, \"resize-bar\", \"right\", 3, \"mousedown\", \"touchstart\"], [1, \"resize-bar\", \"bottom\", 3, \"mousedown\", \"touchstart\"], [1, \"resize-bar\", \"left\", 3, \"mousedown\", \"touchstart\"]], template: function ImageCropperComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\");\n        ɵngcc0.ɵɵtemplate(1, ImageCropperComponent_img_1_Template, 2, 5, \"img\", 0);\n        ɵngcc0.ɵɵelement(2, \"div\", 1);\n        ɵngcc0.ɵɵtemplate(3, ImageCropperComponent_div_3_Template, 23, 14, \"div\", 2);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵstyleProp(\"background\", ctx.imageVisible && ctx.backgroundColor);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.safeImgDataUrl);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵstyleProp(\"width\", ctx.maxSize.width, \"px\")(\"height\", ctx.maxSize.height, \"px\")(\"margin-left\", ctx.alignImage === \"center\" ? ctx.marginLeft : null);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.imageVisible);\n    } }, directives: [ɵngcc2.NgIf], styles: [\"[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{position:relative;width:100%}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;top:0;left:0;outline:#fff solid 100vw}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:0 0;touch-action:none;outline:rgba(255,255,255,.3) solid 100vw}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:after{position:absolute;content:\\\"\\\";top:0;bottom:0;left:0;right:0;pointer-events:none;border:1px dashed;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:focus   .move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw rgba(255,255,255,.3)}@media (orientation:portrait){[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{outline-width:100vh}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh rgba(255,255,255,.3)}}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{display:none}\"], changeDetection: 0 });\n/** @nocollapse */\nImageCropperComponent.ctorParameters = () => [\n    { type: DomSanitizer },\n    { type: ChangeDetectorRef }\n];\nImageCropperComponent.propDecorators = {\n    sourceImage: [{ type: ViewChild, args: ['sourceImage', { static: false },] }],\n    imageChangedEvent: [{ type: Input }],\n    imageBase64: [{ type: Input }],\n    imageFile: [{ type: Input }],\n    format: [{ type: Input }],\n    maintainAspectRatio: [{ type: Input }],\n    transform: [{ type: Input }],\n    aspectRatio: [{ type: Input }],\n    resizeToWidth: [{ type: Input }],\n    resizeToHeight: [{ type: Input }],\n    cropperMinWidth: [{ type: Input }],\n    cropperMinHeight: [{ type: Input }],\n    canvasRotation: [{ type: Input }],\n    initialStepSize: [{ type: Input }],\n    roundCropper: [{ type: Input }],\n    onlyScaleDown: [{ type: Input }],\n    imageQuality: [{ type: Input }],\n    autoCrop: [{ type: Input }],\n    backgroundColor: [{ type: Input }],\n    containWithinAspectRatio: [{ type: Input }],\n    cropper: [{ type: Input }],\n    alignImage: [{ type: HostBinding, args: ['style.text-align',] }, { type: Input }],\n    disabled: [{ type: HostBinding, args: ['class.disabled',] }, { type: Input }],\n    imageCropped: [{ type: Output }],\n    startCropImage: [{ type: Output }],\n    imageLoaded: [{ type: Output }],\n    cropperReady: [{ type: Output }],\n    loadImageFailed: [{ type: Output }],\n    onResize: [{ type: HostListener, args: ['window:resize',] }],\n    moveImg: [{ type: HostListener, args: ['document:mousemove', ['$event'],] }, { type: HostListener, args: ['document:touchmove', ['$event'],] }],\n    moveStop: [{ type: HostListener, args: ['document:mouseup',] }, { type: HostListener, args: ['document:touchend',] }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ImageCropperComponent, [{\n        type: Component,\n        args: [{\n                selector: 'image-cropper',\n                template: \"<div [style.background]=\\\"imageVisible && backgroundColor\\\">\\n    <img\\n        #sourceImage\\n        class=\\\"source-image\\\"\\n        *ngIf=\\\"safeImgDataUrl\\\"\\n        [src]=\\\"safeImgDataUrl\\\"\\n        [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\n        [style.transform]=\\\"safeTransformStyle\\\"\\n        (load)=\\\"imageLoadedInView()\\\"\\n    />\\n    <div\\n        class=\\\"overlay\\\"\\n        [style.width.px]=\\\"maxSize.width\\\"\\n        [style.height.px]=\\\"maxSize.height\\\"\\n        [style.margin-left]=\\\"alignImage === 'center' ? marginLeft : null\\\"\\n    ></div>\\n    <div class=\\\"cropper\\\"\\n         *ngIf=\\\"imageVisible\\\"\\n         [class.rounded]=\\\"roundCropper\\\"\\n         [style.top.px]=\\\"cropper.y1\\\"\\n         [style.left.px]=\\\"cropper.x1\\\"\\n         [style.width.px]=\\\"cropper.x2 - cropper.x1\\\"\\n         [style.height.px]=\\\"cropper.y2 - cropper.y1\\\"\\n         [style.margin-left]=\\\"alignImage === 'center' ? marginLeft : null\\\"\\n         [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\n         (keydown)=\\\"keyboardAccess($event)\\\"\\n         tabindex=\\\"0\\\"\\n    >\\n        <div\\n                (mousedown)=\\\"startMove($event, 'move')\\\"\\n                (touchstart)=\\\"startMove($event, 'move')\\\"\\n                class=\\\"move\\\"\\n        >&nbsp;</div>\\n        <span\\n                class=\\\"resize topleft\\\"\\n                (mousedown)=\\\"startMove($event, 'resize', 'topleft')\\\"\\n                (touchstart)=\\\"startMove($event, 'resize', 'topleft')\\\"\\n        ><span class=\\\"square\\\"></span></span>\\n        <span\\n                class=\\\"resize top\\\"\\n        ><span class=\\\"square\\\"></span></span>\\n        <span\\n                class=\\\"resize topright\\\"\\n                (mousedown)=\\\"startMove($event, 'resize', 'topright')\\\"\\n                (touchstart)=\\\"startMove($event, 'resize', 'topright')\\\"\\n        ><span class=\\\"square\\\"></span></span>\\n        <span\\n                class=\\\"resize right\\\"\\n        ><span class=\\\"square\\\"></span></span>\\n        <span\\n                class=\\\"resize bottomright\\\"\\n                (mousedown)=\\\"startMove($event, 'resize', 'bottomright')\\\"\\n                (touchstart)=\\\"startMove($event, 'resize', 'bottomright')\\\"\\n        ><span class=\\\"square\\\"></span></span>\\n        <span\\n                class=\\\"resize bottom\\\"\\n        ><span class=\\\"square\\\"></span></span>\\n        <span\\n                class=\\\"resize bottomleft\\\"\\n                (mousedown)=\\\"startMove($event, 'resize', 'bottomleft')\\\"\\n                (touchstart)=\\\"startMove($event, 'resize', 'bottomleft')\\\"\\n        ><span class=\\\"square\\\"></span></span>\\n        <span\\n                class=\\\"resize left\\\"\\n        ><span class=\\\"square\\\"></span></span>\\n        <span\\n                class=\\\"resize-bar top\\\"\\n                (mousedown)=\\\"startMove($event, 'resize', 'top')\\\"\\n                (touchstart)=\\\"startMove($event, 'resize', 'top')\\\"\\n        ></span>\\n        <span\\n                class=\\\"resize-bar right\\\"\\n                (mousedown)=\\\"startMove($event, 'resize', 'right')\\\"\\n                (touchstart)=\\\"startMove($event, 'resize', 'right')\\\"\\n        ></span>\\n        <span\\n                class=\\\"resize-bar bottom\\\"\\n                (mousedown)=\\\"startMove($event, 'resize', 'bottom')\\\"\\n                (touchstart)=\\\"startMove($event, 'resize', 'bottom')\\\"\\n        ></span>\\n        <span\\n                class=\\\"resize-bar left\\\"\\n                (mousedown)=\\\"startMove($event, 'resize', 'left')\\\"\\n                (touchstart)=\\\"startMove($event, 'resize', 'left')\\\"\\n        ></span>\\n    </div>\\n</div>\\n\",\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                styles: [\":host{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host>div{position:relative;width:100%}:host>div img.source-image{max-width:100%;max-height:100%;transform-origin:center}:host .overlay{position:absolute;pointer-events:none;touch-action:none;top:0;left:0;outline:#fff solid 100vw}:host .cropper{position:absolute;display:flex;color:#53535c;background:0 0;touch-action:none;outline:rgba(255,255,255,.3) solid 100vw}:host .cropper:after{position:absolute;content:\\\"\\\";top:0;bottom:0;left:0;right:0;pointer-events:none;border:1px dashed;opacity:.75;color:inherit;z-index:1}:host .cropper .move{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}:host .cropper:focus .move{border-color:#1e90ff;border-width:2px}:host .cropper .resize{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}:host .cropper .resize .square{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}:host .cropper .resize.topleft{top:-12px;left:-12px;cursor:nwse-resize}:host .cropper .resize.top{top:-12px;left:calc(50% - 12px);cursor:ns-resize}:host .cropper .resize.topright{top:-12px;right:-12px;cursor:nesw-resize}:host .cropper .resize.right{top:calc(50% - 12px);right:-12px;cursor:ew-resize}:host .cropper .resize.bottomright{bottom:-12px;right:-12px;cursor:nwse-resize}:host .cropper .resize.bottom{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}:host .cropper .resize.bottomleft{bottom:-12px;left:-12px;cursor:nesw-resize}:host .cropper .resize.left{top:calc(50% - 12px);left:-12px;cursor:ew-resize}:host .cropper .resize-bar{position:absolute;z-index:1}:host .cropper .resize-bar.top{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}:host .cropper .resize-bar.right{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}:host .cropper .resize-bar.bottom{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}:host .cropper .resize-bar.left{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}:host .cropper.rounded{outline-color:transparent}:host .cropper.rounded:after{border-radius:100%;box-shadow:0 0 0 100vw rgba(255,255,255,.3)}@media (orientation:portrait){:host .cropper{outline-width:100vh}:host .cropper.rounded:after{box-shadow:0 0 0 100vh rgba(255,255,255,.3)}}:host .cropper.rounded .move{border-radius:100%}:host.disabled .cropper .move,:host.disabled .cropper .resize,:host.disabled .cropper .resize-bar{display:none}\"]\n            }]\n    }], function () { return [{ type: ɵngcc1.DomSanitizer }, { type: ɵngcc0.ChangeDetectorRef }]; }, { format: [{\n            type: Input\n        }], maintainAspectRatio: [{\n            type: Input\n        }], transform: [{\n            type: Input\n        }], aspectRatio: [{\n            type: Input\n        }], resizeToWidth: [{\n            type: Input\n        }], resizeToHeight: [{\n            type: Input\n        }], cropperMinWidth: [{\n            type: Input\n        }], cropperMinHeight: [{\n            type: Input\n        }], canvasRotation: [{\n            type: Input\n        }], initialStepSize: [{\n            type: Input\n        }], roundCropper: [{\n            type: Input\n        }], onlyScaleDown: [{\n            type: Input\n        }], imageQuality: [{\n            type: Input\n        }], autoCrop: [{\n            type: Input\n        }], containWithinAspectRatio: [{\n            type: Input\n        }], cropper: [{\n            type: Input\n        }], alignImage: [{\n            type: HostBinding,\n            args: ['style.text-align']\n        }, {\n            type: Input\n        }], disabled: [{\n            type: HostBinding,\n            args: ['class.disabled']\n        }, {\n            type: Input\n        }], imageCropped: [{\n            type: Output\n        }], startCropImage: [{\n            type: Output\n        }], imageLoaded: [{\n            type: Output\n        }], cropperReady: [{\n            type: Output\n        }], loadImageFailed: [{\n            type: Output\n        }], imageChangedEvent: [{\n            type: Input\n        }], imageBase64: [{\n            type: Input\n        }], imageFile: [{\n            type: Input\n        }], \n    /**\n     * @return {?}\n     */\n    onResize: [{\n            type: HostListener,\n            args: ['window:resize']\n        }], \n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    moveImg: [{\n            type: HostListener,\n            args: ['document:mousemove', ['$event']]\n        }, {\n            type: HostListener,\n            args: ['document:touchmove', ['$event']]\n        }], \n    /**\n     * @return {?}\n     */\n    moveStop: [{\n            type: HostListener,\n            args: ['document:mouseup']\n        }, {\n            type: HostListener,\n            args: ['document:touchend']\n        }], sourceImage: [{\n            type: ViewChild,\n            args: ['sourceImage', { static: false }]\n        }], backgroundColor: [{\n            type: Input\n        }] }); })();\nif (false) {\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.originalImage;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.transformedImage;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.originalBase64;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.transformedBase64;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.moveStart;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.originalSize;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.transformedSize;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.setImageMaxSizeRetries;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.cropperScaledMinWidth;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.cropperScaledMinHeight;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.exifTransform;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.stepSize;\n    /** @type {?} */\n    ImageCropperComponent.prototype.safeImgDataUrl;\n    /** @type {?} */\n    ImageCropperComponent.prototype.safeTransformStyle;\n    /** @type {?} */\n    ImageCropperComponent.prototype.marginLeft;\n    /** @type {?} */\n    ImageCropperComponent.prototype.maxSize;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageVisible;\n    /** @type {?} */\n    ImageCropperComponent.prototype.sourceImage;\n    /** @type {?} */\n    ImageCropperComponent.prototype.format;\n    /** @type {?} */\n    ImageCropperComponent.prototype.maintainAspectRatio;\n    /** @type {?} */\n    ImageCropperComponent.prototype.transform;\n    /** @type {?} */\n    ImageCropperComponent.prototype.aspectRatio;\n    /** @type {?} */\n    ImageCropperComponent.prototype.resizeToWidth;\n    /** @type {?} */\n    ImageCropperComponent.prototype.resizeToHeight;\n    /** @type {?} */\n    ImageCropperComponent.prototype.cropperMinWidth;\n    /** @type {?} */\n    ImageCropperComponent.prototype.cropperMinHeight;\n    /** @type {?} */\n    ImageCropperComponent.prototype.canvasRotation;\n    /** @type {?} */\n    ImageCropperComponent.prototype.initialStepSize;\n    /** @type {?} */\n    ImageCropperComponent.prototype.roundCropper;\n    /** @type {?} */\n    ImageCropperComponent.prototype.onlyScaleDown;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageQuality;\n    /** @type {?} */\n    ImageCropperComponent.prototype.autoCrop;\n    /** @type {?} */\n    ImageCropperComponent.prototype.backgroundColor;\n    /** @type {?} */\n    ImageCropperComponent.prototype.containWithinAspectRatio;\n    /** @type {?} */\n    ImageCropperComponent.prototype.cropper;\n    /** @type {?} */\n    ImageCropperComponent.prototype.alignImage;\n    /** @type {?} */\n    ImageCropperComponent.prototype.disabled;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageCropped;\n    /** @type {?} */\n    ImageCropperComponent.prototype.startCropImage;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageLoaded;\n    /** @type {?} */\n    ImageCropperComponent.prototype.cropperReady;\n    /** @type {?} */\n    ImageCropperComponent.prototype.loadImageFailed;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.sanitizer;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.cd;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ImageCropperModule {\n}\nImageCropperModule.ɵfac = function ImageCropperModule_Factory(t) { return new (t || ImageCropperModule)(); };\nImageCropperModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: ImageCropperModule });\nImageCropperModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [[\n            CommonModule\n        ]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ImageCropperModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    CommonModule\n                ],\n                declarations: [\n                    ImageCropperComponent\n                ],\n                exports: [\n                    ImageCropperComponent\n                ]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ImageCropperModule, { declarations: function () { return [ImageCropperComponent]; }, imports: function () { return [CommonModule]; }, exports: function () { return [ImageCropperComponent]; } }); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} base64Image\n * @return {?}\n */\nfunction base64ToFile(base64Image) {\n    /** @type {?} */\n    const split = base64Image.split(',');\n    /** @type {?} */\n    const type = split[0].replace('data:', '').replace(';base64', '');\n    /** @type {?} */\n    const byteString = atob(split[1]);\n    /** @type {?} */\n    const ab = new ArrayBuffer(byteString.length);\n    /** @type {?} */\n    const ia = new Uint8Array(ab);\n    for (let i = 0; i < byteString.length; i += 1) {\n        ia[i] = byteString.charCodeAt(i);\n    }\n    return new Blob([ab], { type });\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { ImageCropperComponent, ImageCropperModule, base64ToFile };\n\n//# sourceMappingURL=ngx-image-cropper.js.map","import { InjectionToken, isDevMode, Injectable, Inject, ɵɵdefineInjectable, ɵɵinject, NgModule } from '@angular/core';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * An Interface specifying the possible options to be passed into the newInstance() factory method\n * @record\n */\nimport * as ɵngcc0 from '@angular/core';\nfunction PageScrollOptions() { }\nif (false) {\n    /**\n     * The document object of the current app\n     * @type {?}\n     */\n    PageScrollOptions.prototype.document;\n    /**\n     * A specification of the DOM element to scroll to. Either a string referring to an\n     * element using a valid css selector (`#target`, `.class`, `div.class`) or a HTMLElement\n     * that is attached to the document's DOM tree.\n     * @type {?}\n     */\n    PageScrollOptions.prototype.scrollTarget;\n    /**\n     * Array of HTMLElements or the body object that should be manipulated while performing\n     * the scroll animation.\n     * @type {?|undefined}\n     */\n    PageScrollOptions.prototype.scrollViews;\n    /**\n     * Maximum speed to be used for the scroll animation. Only taken\n     * into account of no duration is provided\n     * @type {?|undefined}\n     */\n    PageScrollOptions.prototype.speed;\n    /**\n     * A listener to be called whenever the scroll animation stops\n     * @type {?|undefined}\n     */\n    PageScrollOptions.prototype.scrollFinishListener;\n    /** @type {?|undefined} */\n    PageScrollOptions.prototype.namespace;\n    /** @type {?|undefined} */\n    PageScrollOptions.prototype.verticalScrolling;\n    /** @type {?|undefined} */\n    PageScrollOptions.prototype.duration;\n    /** @type {?|undefined} */\n    PageScrollOptions.prototype.scrollOffset;\n    /** @type {?|undefined} */\n    PageScrollOptions.prototype.advancedInlineOffsetCalculation;\n    /** @type {?|undefined} */\n    PageScrollOptions.prototype.interruptEvents;\n    /** @type {?|undefined} */\n    PageScrollOptions.prototype.interruptKeys;\n    /** @type {?|undefined} */\n    PageScrollOptions.prototype.interruptible;\n    /** @type {?|undefined} */\n    PageScrollOptions.prototype.scrollInView;\n    /** @type {?|undefined} */\n    PageScrollOptions.prototype.easingLogic;\n}\n/**\n * Represents a scrolling action\n */\nclass PageScrollInstance {\n    /**\n     * Private constructor, requires the properties assumed to be the bare minimum.\n     * Use the factory methods to create instances:\n     *      {\\@link PageScrollService#create}\n     * @param {?} pageScrollOptions\n     */\n    constructor(pageScrollOptions) {\n        /**\n         * These properties will be set/manipulated if the scroll animation starts\n         */\n        /* The initial value of the scrollTop or scrollLeft position when the animation starts */\n        this.startScrollPosition = 0;\n        /* Whether an interrupt listener is attached to the body or not */\n        this.interruptListenersAttached = false;\n        /* References to the timer instance that is used to perform the scroll animation to be\n           able to clear it on animation end*/\n        this.timer = null;\n        if (!pageScrollOptions.scrollViews || pageScrollOptions.scrollViews.length === 0) {\n            pageScrollOptions.scrollViews = [\n                pageScrollOptions.document.documentElement,\n                pageScrollOptions.document.body,\n                pageScrollOptions.document.body.parentNode,\n            ];\n            this.isInlineScrolling = false;\n        }\n        else {\n            this.isInlineScrolling = true;\n        }\n        this.pageScrollOptions = pageScrollOptions;\n    }\n    /**\n     * @private\n     * @param {?} pageScrollOptions\n     * @param {?} scrollTargetElement\n     * @return {?}\n     */\n    static getScrollingTargetPosition(pageScrollOptions, scrollTargetElement) {\n        /** @type {?} */\n        const body = pageScrollOptions.document.body;\n        /** @type {?} */\n        const docEl = pageScrollOptions.document.documentElement;\n        /** @type {?} */\n        const windowPageYOffset = pageScrollOptions.document.defaultView &&\n            pageScrollOptions.document.defaultView.pageYOffset || undefined;\n        /** @type {?} */\n        const windowPageXOffset = pageScrollOptions.document.defaultView &&\n            pageScrollOptions.document.defaultView.pageXOffset || undefined;\n        /** @type {?} */\n        const scrollTop = windowPageYOffset || docEl.scrollTop || body.scrollTop;\n        /** @type {?} */\n        const scrollLeft = windowPageXOffset || docEl.scrollLeft || body.scrollLeft;\n        /** @type {?} */\n        const clientTop = docEl.clientTop || body.clientTop || 0;\n        /** @type {?} */\n        const clientLeft = docEl.clientLeft || body.clientLeft || 0;\n        if (scrollTargetElement === undefined || scrollTargetElement === null) {\n            // No element found, so return the current position to not cause any change in scroll position\n            return { top: scrollTop, left: scrollLeft };\n        }\n        /** @type {?} */\n        const box = scrollTargetElement.getBoundingClientRect();\n        /** @type {?} */\n        const top = box.top + scrollTop - clientTop;\n        /** @type {?} */\n        const left = box.left + scrollLeft - clientLeft;\n        return { top: Math.round(top), left: Math.round(left) };\n    }\n    /**\n     * @private\n     * @param {?} pageScrollOptions\n     * @param {?} scrollTargetElement\n     * @return {?}\n     */\n    static getInlineScrollingTargetPosition(pageScrollOptions, scrollTargetElement) {\n        /** @type {?} */\n        const position = { top: scrollTargetElement.offsetTop, left: scrollTargetElement.offsetLeft };\n        if (pageScrollOptions.advancedInlineOffsetCalculation && pageScrollOptions.scrollViews.length === 1) {\n            /** @type {?} */\n            const accumulatedParentsPos = { top: 0, left: 0 };\n            // not named window to make sure we're not getting the global window variable by accident\n            /** @type {?} */\n            const theWindow = scrollTargetElement.ownerDocument.defaultView;\n            /** @type {?} */\n            let parentFound = false;\n            // Start parent is the immediate parent\n            /** @type {?} */\n            let parent = scrollTargetElement.parentElement;\n            // Iterate upwards all parents\n            while (!parentFound && parent !== undefined && parent !== null) {\n                if (theWindow.getComputedStyle(parent).getPropertyValue('position') === 'relative') {\n                    accumulatedParentsPos.top += parent.offsetTop;\n                    accumulatedParentsPos.left += parent.offsetLeft;\n                }\n                // Next iteration\n                parent = parent.parentElement;\n                parentFound = parent === pageScrollOptions.scrollViews[0];\n            }\n            if (parentFound) {\n                // Only use the results if we found the parent, otherwise we accumulated too much anyway\n                position.top += accumulatedParentsPos.top;\n                position.left += accumulatedParentsPos.left;\n            }\n            else {\n                /* TODO Uncomment\n                if (PageScrollConfig._logLevel >= 2 || (PageScrollConfig._logLevel >= 1 && isDevMode())) {\n                  console.warn('Unable to find nested scrolling targets parent!');\n                }*/\n            }\n        }\n        return position;\n    }\n    /**\n     * @param {?} scrollingView\n     * @return {?}\n     */\n    getScrollPropertyValue(scrollingView) {\n        if (!this.pageScrollOptions.verticalScrolling) {\n            return scrollingView.scrollLeft;\n        }\n        return scrollingView.scrollTop;\n    }\n    /**\n     * @param {?} scrollingView\n     * @return {?}\n     */\n    getScrollClientPropertyValue(scrollingView) {\n        if (!this.pageScrollOptions.verticalScrolling) {\n            return scrollingView.clientWidth;\n        }\n        return scrollingView.clientHeight;\n    }\n    /**\n     * Extract the exact location of the scrollTarget element.\n     *\n     * Extract the scrollTarget HTMLElement from the given PageScrollTarget object. The latter one may be\n     * a string like \"#heading2\", then this method returns the corresponding DOM element for that id.\n     *\n     * @return {?}\n     */\n    extractScrollTargetPosition() {\n        /** @type {?} */\n        const scrollTargetElement = this.getScrollTargetElement();\n        if (scrollTargetElement === null || scrollTargetElement === undefined) {\n            // Scroll target not found\n            return { top: NaN, left: NaN };\n        }\n        if (this.isInlineScrolling) {\n            return PageScrollInstance.getInlineScrollingTargetPosition(this.pageScrollOptions, scrollTargetElement);\n        }\n        return PageScrollInstance.getScrollingTargetPosition(this.pageScrollOptions, scrollTargetElement);\n    }\n    /**\n     * Get the top offset of the scroll animation.\n     * This automatically takes the offset location of the scrolling container/scrolling view\n     * into account (for nested/inline scrolling).\n     * @return {?}\n     */\n    getCurrentOffset() {\n        return this.pageScrollOptions.scrollOffset;\n    }\n    /**\n     * Sets the \"scrollTop\" or \"scrollLeft\" property for all scrollViews to the provided value\n     * @param {?} position\n     * @return {?} true if at least for one ScrollTopSource the scrollTop/scrollLeft value could be set and it kept the new value.\n     *          false if it failed for all ScrollViews, meaning that we should stop the animation\n     *          (probably because we're at the end of the scrolling region)\n     */\n    setScrollPosition(position) {\n        // Set the new scrollTop/scrollLeft to all scrollViews elements\n        return this.pageScrollOptions.scrollViews.reduce((/**\n         * @param {?} oneAlreadyWorked\n         * @param {?} scrollingView\n         * @return {?}\n         */\n        (oneAlreadyWorked, scrollingView) => {\n            /** @type {?} */\n            const startScrollPropertyValue = this.getScrollPropertyValue(scrollingView);\n            if (scrollingView && startScrollPropertyValue !== undefined && startScrollPropertyValue !== null) {\n                /** @type {?} */\n                const scrollDistance = Math.abs(startScrollPropertyValue - position);\n                // The movement we need to perform is less than 2px\n                // This we consider a small movement which some browser may not perform when\n                // changing the scrollTop/scrollLeft property\n                // Thus in this cases we do not stop the scroll animation, although setting the\n                // scrollTop/scrollLeft value \"fails\"\n                /** @type {?} */\n                const isSmallMovement = scrollDistance < this.pageScrollOptions._minScrollDistance;\n                if (!this.pageScrollOptions.verticalScrolling) {\n                    scrollingView.scrollLeft = position;\n                }\n                else {\n                    scrollingView.scrollTop = position;\n                }\n                // Return true if setting the new scrollTop/scrollLeft value worked\n                // We consider that it worked if the new scrollTop/scrollLeft value is closer to the\n                // desired scrollTop/scrollLeft than before (it might not be exactly the value we\n                // set due to dpi or rounding irregularities)\n                if (isSmallMovement || scrollDistance > Math.abs(this.getScrollPropertyValue(scrollingView) - position)) {\n                    return true;\n                }\n            }\n            return oneAlreadyWorked;\n        }), false);\n    }\n    /**\n     * Trigger firing a animation finish event\n     * @param {?} value Whether the animation finished at the target (true) or got interrupted (false)\n     * @return {?}\n     */\n    fireEvent(value) {\n        if (this.pageScrollOptions.scrollFinishListener) {\n            this.pageScrollOptions.scrollFinishListener.emit(value);\n        }\n    }\n    /**\n     * Attach the interrupt listeners to the PageScrollInstance body. The given interruptReporter\n     * will be called if any of the attached events is fired.\n     *\n     * Possibly attached interruptListeners are automatically removed from the body before the new one will be attached.\n     * @param {?} interruptReporter\n     * @return {?}\n     */\n    attachInterruptListeners(interruptReporter) {\n        if (this.interruptListenersAttached) {\n            // Detach possibly existing listeners first\n            this.detachInterruptListeners();\n        }\n        this.interruptListener = (/**\n         * @param {?} event\n         * @return {?}\n         */\n        (event) => {\n            interruptReporter.report(event, this);\n        });\n        this.pageScrollOptions.interruptEvents.forEach((/**\n         * @param {?} event\n         * @return {?}\n         */\n        (event) => this.pageScrollOptions.document.body.addEventListener(event, this.interruptListener)));\n        this.interruptListenersAttached = true;\n    }\n    /**\n     * Remove event listeners from the body and stop listening for events that might be treated as \"animation\n     * interrupt\" events.\n     * @return {?}\n     */\n    detachInterruptListeners() {\n        this.pageScrollOptions.interruptEvents.forEach((/**\n         * @param {?} event\n         * @return {?}\n         */\n        (event) => this.pageScrollOptions.document.body.removeEventListener(event, this.interruptListener)));\n        this.interruptListenersAttached = false;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    getScrollTargetElement() {\n        if (typeof this.pageScrollOptions.scrollTarget === 'string') {\n            /** @type {?} */\n            const targetSelector = (/** @type {?} */ (this.pageScrollOptions.scrollTarget));\n            if (targetSelector.match(/^#[^\\s]+$/g) !== null) {\n                // It's an id selector and a valid id, as it does not contain any white space characters\n                return this.pageScrollOptions.document.getElementById(targetSelector.substr(1));\n            }\n            return (/** @type {?} */ (this.pageScrollOptions.document.querySelector(targetSelector)));\n        }\n        return (/** @type {?} */ (this.pageScrollOptions.scrollTarget));\n    }\n}\nif (false) {\n    /** @type {?} */\n    PageScrollInstance.prototype.pageScrollOptions;\n    /**\n     * @type {?}\n     * @private\n     */\n    PageScrollInstance.prototype.isInlineScrolling;\n    /**\n     * @type {?}\n     * @private\n     */\n    PageScrollInstance.prototype.interruptListener;\n    /**\n     * These properties will be set/manipulated if the scroll animation starts\n     * @type {?}\n     */\n    PageScrollInstance.prototype.startScrollPosition;\n    /** @type {?} */\n    PageScrollInstance.prototype.targetScrollPosition;\n    /** @type {?} */\n    PageScrollInstance.prototype.distanceToScroll;\n    /** @type {?} */\n    PageScrollInstance.prototype.startTime;\n    /** @type {?} */\n    PageScrollInstance.prototype.endTime;\n    /** @type {?} */\n    PageScrollInstance.prototype.executionDuration;\n    /** @type {?} */\n    PageScrollInstance.prototype.interruptListenersAttached;\n    /** @type {?} */\n    PageScrollInstance.prototype.timer;\n}\n/**\n * An Interface a listener should implement to be notified about possible interrupt events\n * that happened due to user interaction while a scroll animation takes place.\n *\n * The PageScrollService provides an implementation to a PageScrollInstance to be notified\n * about scroll animation interrupts and stop related animations.\n * @record\n */\nfunction InterruptReporter() { }\nif (false) {\n    /**\n     * @param {?} event\n     * @param {?} pageScrollInstance\n     * @return {?}\n     */\n    InterruptReporter.prototype.report = function (event, pageScrollInstance) { };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst NGXPS_CONFIG = new InjectionToken('ngxps_config');\nconst ɵ0 = /**\n * @param {?} t\n * @param {?} b\n * @param {?} c\n * @param {?} d\n * @return {?}\n */\n(t, b, c, d) => {\n    // Linear easing\n    return c * t / d + b;\n};\n/** @type {?} */\nconst defaultPageScrollConfig = {\n    _interval: 10,\n    _minScrollDistance: 2,\n    _logLevel: 1,\n    namespace: 'default',\n    verticalScrolling: true,\n    duration: 1250,\n    scrollOffset: 0,\n    advancedInlineOffsetCalculation: false,\n    interruptEvents: ['mousedown', 'wheel', 'DOMMouseScroll', 'mousewheel', 'keyup', 'touchmove'],\n    interruptKeys: [' ', 'Escape', 'Tab', 'Enter', 'PageUp', 'PageDown', 'Home', 'End', 'ArrowUp', 'ArrowRight', 'ArrowLeft', 'ArrowDown'],\n    interruptible: true,\n    scrollInView: true,\n    easingLogic: (ɵ0),\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass PageScrollService {\n    /**\n     * @param {?} customConfig\n     */\n    constructor(customConfig) {\n        this.runningInstances = [];\n        this.onInterrupted = {\n            report: (/**\n             * @param {?} event\n             * @param {?} pageScrollInstance\n             * @return {?}\n             */\n            (event, pageScrollInstance) => {\n                if (!pageScrollInstance.pageScrollOptions.interruptible) {\n                    // Non-interruptible anyway, so do not stop anything\n                    return;\n                }\n                /** @type {?} */\n                let shouldStop = true;\n                if (event.type === 'keyup') {\n                    // Only stop if specific keys have been pressed, for all others don't stop anything\n                    if (this.config.interruptKeys.indexOf(((/** @type {?} */ (event))).key) === -1) {\n                        // The pressed key is not in the list of interrupting keys\n                        shouldStop = false;\n                    }\n                }\n                else if (event.type === 'mousedown') {\n                    // For mousedown events we only stop the scroll animation of the mouse has\n                    // been clicked inside the scrolling container\n                    if (!pageScrollInstance.pageScrollOptions.scrollViews.some((/**\n                     * @param {?} scrollingView\n                     * @return {?}\n                     */\n                    scrollingView => scrollingView.contains((/** @type {?} */ (event.target)))))) {\n                        // Mouse clicked an element which is not inside any of the the scrolling containers\n                        shouldStop = false;\n                    }\n                }\n                if (shouldStop) {\n                    this.stopAll(pageScrollInstance.pageScrollOptions.namespace);\n                }\n            }),\n        };\n        this.config = Object.assign({}, defaultPageScrollConfig, customConfig);\n        if (PageScrollService.instanceCounter > 0 &&\n            (this.config._logLevel >= 2 || (this.config._logLevel >= 1 && isDevMode()))) {\n            console.warn('An instance of PageScrollService already exists, usually ' +\n                'including one provider should be enough, so double check.');\n        }\n        PageScrollService.instanceCounter++;\n    }\n    /**\n     * @private\n     * @param {?} interrupted\n     * @param {?} pageScrollInstance\n     * @return {?}\n     */\n    stopInternal(interrupted, pageScrollInstance) {\n        /** @type {?} */\n        const index = this.runningInstances.indexOf(pageScrollInstance);\n        if (index >= 0) {\n            this.runningInstances.splice(index, 1);\n        }\n        if (pageScrollInstance.interruptListenersAttached) {\n            pageScrollInstance.detachInterruptListeners();\n        }\n        if (pageScrollInstance.timer) {\n            // Clear/Stop the timer\n            clearInterval(pageScrollInstance.timer);\n            // Clear the reference to this timer\n            pageScrollInstance.timer = undefined;\n            pageScrollInstance.fireEvent(!interrupted);\n            return true;\n        }\n        return false;\n    }\n    /**\n     * @param {?} options\n     * @return {?}\n     */\n    create(options) {\n        return new PageScrollInstance((/** @type {?} */ (Object.assign({}, this.config, options))));\n    }\n    /**\n     * Start a scroll animation. All properties of the animation are stored in the given {\\@link PageScrollInstance} object.\n     *\n     * This is the core functionality of the whole library.\n     * @param {?} pageScrollInstance\n     * @return {?}\n     */\n    // tslint:disable-next-line:cyclomatic-complexity\n    start(pageScrollInstance) {\n        // Merge the default options in the pageScrollInstance options\n        pageScrollInstance.pageScrollOptions = (/** @type {?} */ (Object.assign({}, this.config, pageScrollInstance.pageScrollOptions)));\n        // Stop all possibly running scroll animations in the same namespace\n        this.stopAll(pageScrollInstance.pageScrollOptions.namespace);\n        if (pageScrollInstance.pageScrollOptions.scrollViews === null || pageScrollInstance.pageScrollOptions.scrollViews.length === 0) {\n            // No scrollViews specified, thus we can't animate anything\n            if (this.config._logLevel >= 2 || (this.config._logLevel >= 1 && isDevMode())) {\n                console.warn('No scrollViews specified, thus ngx-page-scroll does not know which DOM elements to scroll');\n            }\n            return;\n        }\n        /** @type {?} */\n        let startScrollPositionFound = false;\n        /** @type {?} */\n        let scrollRange = pageScrollInstance.getScrollClientPropertyValue(pageScrollInstance.pageScrollOptions.scrollViews[0]);\n        // Reset start scroll position to 0. If any of the scrollViews has a different one, it will be extracted next\n        pageScrollInstance.startScrollPosition = 0;\n        // Get the start scroll position from the scrollViews (e.g. if the user already scrolled down the content)\n        pageScrollInstance.pageScrollOptions.scrollViews.forEach((/**\n         * @param {?} scrollingView\n         * @return {?}\n         */\n        scrollingView => {\n            if (scrollingView === undefined || scrollingView === null) {\n                return;\n            }\n            // Get the scrollTop or scrollLeft value of the first scrollingView that returns a value for its \"scrollTop\"\n            // or \"scrollLeft\" property that is not undefined and unequal to 0\n            /** @type {?} */\n            const scrollPosition = pageScrollInstance.getScrollPropertyValue(scrollingView);\n            if (!startScrollPositionFound && scrollPosition) {\n                // We found a scrollingView that does not have scrollTop or scrollLeft 0\n                // Return the scroll position value, as this will be our startScrollPosition\n                pageScrollInstance.startScrollPosition = scrollPosition;\n                startScrollPositionFound = true;\n                // Remember te scrollRange of this scrollingView\n                scrollRange = pageScrollInstance.getScrollClientPropertyValue(scrollingView);\n            }\n        }));\n        /** @type {?} */\n        const pageScrollOffset = pageScrollInstance.getCurrentOffset();\n        // Calculate the target position that the scroll animation should go to\n        /** @type {?} */\n        const scrollTargetPosition = pageScrollInstance.extractScrollTargetPosition();\n        pageScrollInstance.targetScrollPosition = Math.round((pageScrollInstance.pageScrollOptions.verticalScrolling ? scrollTargetPosition.top : scrollTargetPosition.left) - pageScrollOffset);\n        // Calculate the distance we need to go in total\n        pageScrollInstance.distanceToScroll = pageScrollInstance.targetScrollPosition - pageScrollInstance.startScrollPosition;\n        if (isNaN(pageScrollInstance.distanceToScroll)) {\n            // We weren't able to find the target position, maybe the element does not exist?\n            if (this.config._logLevel >= 2 || (this.config._logLevel >= 1 && isDevMode())) {\n                console.log('Scrolling not possible, as we can\\'t find the specified target');\n            }\n            pageScrollInstance.fireEvent(false);\n            return;\n        }\n        // We're at the final destination already\n        // OR we need to scroll down but are already at the end\n        // OR we need to scroll up but are at the top already\n        /** @type {?} */\n        const allReadyAtDestination = Math.abs(pageScrollInstance.distanceToScroll) < pageScrollInstance.pageScrollOptions._minScrollDistance;\n        // Check how long we need to scroll if a speed option is given\n        // Default executionDuration is the specified duration\n        pageScrollInstance.executionDuration = pageScrollInstance.pageScrollOptions.duration;\n        // Maybe we need to pay attention to the speed option?\n        if ((pageScrollInstance.pageScrollOptions.speed !== undefined && pageScrollInstance.pageScrollOptions.speed !== null) &&\n            (pageScrollInstance.pageScrollOptions.duration === undefined || pageScrollInstance.pageScrollOptions.duration === null)) {\n            // Speed option is set and no duration => calculate duration based on speed and scroll distance\n            pageScrollInstance.executionDuration =\n                Math.abs(pageScrollInstance.distanceToScroll) / pageScrollInstance.pageScrollOptions.speed * 1000;\n        }\n        // We should go there directly, as our \"animation\" would have one big step\n        // only anyway and this way we save the interval stuff\n        /** @type {?} */\n        const tooShortInterval = pageScrollInstance.executionDuration <= pageScrollInstance.pageScrollOptions._interval;\n        if (allReadyAtDestination || tooShortInterval) {\n            if (this.config._logLevel >= 2 || (this.config._logLevel >= 1 && isDevMode())) {\n                if (allReadyAtDestination) {\n                    console.log('Scrolling not possible, as we can\\'t get any closer to the destination');\n                }\n                else {\n                    console.log('Scroll duration shorter that interval length, jumping to target');\n                }\n            }\n            pageScrollInstance.setScrollPosition(pageScrollInstance.targetScrollPosition);\n            pageScrollInstance.fireEvent(true);\n            return;\n        }\n        if (!pageScrollInstance.pageScrollOptions.scrollInView) {\n            /** @type {?} */\n            const alreadyInView = pageScrollInstance.targetScrollPosition > pageScrollInstance.startScrollPosition &&\n                pageScrollInstance.targetScrollPosition <= pageScrollInstance.startScrollPosition + scrollRange;\n            if (alreadyInView) {\n                if (this.config._logLevel >= 2 || (this.config._logLevel >= 1 && isDevMode())) {\n                    console.log('Not scrolling, as target already in view');\n                }\n                pageScrollInstance.fireEvent(true);\n                return;\n            }\n        }\n        // Register the interrupt listeners if we want an interruptible scroll animation\n        if (pageScrollInstance.pageScrollOptions.interruptible) {\n            pageScrollInstance.attachInterruptListeners(this.onInterrupted);\n        }\n        // Let's get started, get the start time...\n        pageScrollInstance.startTime = new Date().getTime();\n        // .. and calculate the end time (when we need to finish at last)\n        pageScrollInstance.endTime = pageScrollInstance.startTime + pageScrollInstance.executionDuration;\n        pageScrollInstance.timer = setInterval((/**\n         * @param {?} _pageScrollInstance\n         * @return {?}\n         */\n        (_pageScrollInstance) => {\n            // Take the current time\n            /** @type {?} */\n            const currentTime = new Date().getTime();\n            // Determine the new scroll position\n            /** @type {?} */\n            let newScrollPosition;\n            /** @type {?} */\n            let stopNow = false;\n            if (_pageScrollInstance.endTime <= currentTime) {\n                // We're over the time already, so go the targetScrollPosition (aka destination)\n                newScrollPosition = _pageScrollInstance.targetScrollPosition;\n                stopNow = true;\n            }\n            else {\n                // Calculate the scroll position based on the current time using the easing function\n                newScrollPosition = Math.round(_pageScrollInstance.pageScrollOptions.easingLogic(currentTime - _pageScrollInstance.startTime, _pageScrollInstance.startScrollPosition, _pageScrollInstance.distanceToScroll, _pageScrollInstance.executionDuration));\n            }\n            if (this.config._logLevel >= 5 && isDevMode()) {\n                console.warn('Scroll Position: ' + newScrollPosition);\n            }\n            // Set the new scrollPosition to all scrollViews elements\n            if (!_pageScrollInstance.setScrollPosition(newScrollPosition)) {\n                // Setting the new scrollTop/scrollLeft value failed for all ScrollViews\n                // early stop the scroll animation to save resources\n                stopNow = true;\n            }\n            // At the end do the internal stop maintenance and fire the pageScrollFinish event\n            // (otherwise the event might arrive at \"too early\")\n            if (stopNow) {\n                this.stopInternal(false, _pageScrollInstance);\n            }\n        }), this.config._interval, pageScrollInstance);\n        // Register the instance as running one\n        this.runningInstances.push(pageScrollInstance);\n    }\n    /**\n     * @param {?} options\n     * @return {?}\n     */\n    scroll(options) {\n        this.start(this.create(options));\n    }\n    /**\n     * Stop all running scroll animations. Optionally limit to stop only the ones of specific namespace.\n     * @param {?=} namespace\n     * @return {?}\n     */\n    stopAll(namespace) {\n        if (this.runningInstances.length > 0) {\n            /** @type {?} */\n            let stoppedSome = false;\n            for (let i = 0; i < this.runningInstances.length; ++i) {\n                /** @type {?} */\n                const pageScrollInstance = this.runningInstances[i];\n                if (!namespace || pageScrollInstance.pageScrollOptions.namespace === namespace) {\n                    stoppedSome = true;\n                    this.stopInternal(true, pageScrollInstance);\n                    // Decrease the counter, as we removed an item from the array we iterate over\n                    i--;\n                }\n            }\n            return stoppedSome;\n        }\n        return false;\n    }\n    /**\n     * @param {?} pageScrollInstance\n     * @return {?}\n     */\n    stop(pageScrollInstance) {\n        return this.stopInternal(true, pageScrollInstance);\n    }\n}\nPageScrollService.ɵfac = function PageScrollService_Factory(t) { return new (t || PageScrollService)(ɵngcc0.ɵɵinject(NGXPS_CONFIG)); };\nPageScrollService.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: PageScrollService, factory: PageScrollService.ɵfac, providedIn: 'root' });\nPageScrollService.instanceCounter = 0;\n/** @nocollapse */\nPageScrollService.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Inject, args: [NGXPS_CONFIG,] }] }\n];\n/** @nocollapse */ PageScrollService.ngInjectableDef = ɵɵdefineInjectable({ factory: function PageScrollService_Factory() { return new PageScrollService(ɵɵinject(NGXPS_CONFIG)); }, token: PageScrollService, providedIn: \"root\" });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(PageScrollService, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root'\n            }]\n    }], function () { return [{ type: undefined, decorators: [{\n                type: Inject,\n                args: [NGXPS_CONFIG]\n            }] }]; }, null); })();\nif (false) {\n    /**\n     * @type {?}\n     * @private\n     */\n    PageScrollService.instanceCounter;\n    /**\n     * @type {?}\n     * @private\n     */\n    PageScrollService.prototype.config;\n    /**\n     * @type {?}\n     * @private\n     */\n    PageScrollService.prototype.runningInstances;\n    /**\n     * @type {?}\n     * @private\n     */\n    PageScrollService.prototype.onInterrupted;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nconst ɵ0$1 = {};\nclass NgxPageScrollCoreModule {\n    /**\n     * @param {?=} config\n     * @return {?}\n     */\n    static forRoot(config) {\n        return {\n            ngModule: NgxPageScrollCoreModule,\n            providers: [PageScrollService, { provide: NGXPS_CONFIG, useValue: config }],\n        };\n    }\n}\nNgxPageScrollCoreModule.ɵfac = function NgxPageScrollCoreModule_Factory(t) { return new (t || NgxPageScrollCoreModule)(); };\nNgxPageScrollCoreModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: NgxPageScrollCoreModule });\nNgxPageScrollCoreModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ providers: [\n        PageScrollService,\n        { provide: NGXPS_CONFIG, useValue: ɵ0$1 },\n    ] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NgxPageScrollCoreModule, [{\n        type: NgModule,\n        args: [{\n                providers: [\n                    PageScrollService,\n                    { provide: NGXPS_CONFIG, useValue: ɵ0$1 },\n                ]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @record\n */\nfunction PageScrollConfig() { }\nif (false) {\n    /**\n     * The number of milliseconds to wait till updating the scroll position again.\n     * Small amounts may produce smoother animations but require more processing power.\n     * @type {?|undefined}\n     */\n    PageScrollConfig.prototype._interval;\n    /**\n     * The amount of pixels that need to be between the current scrollTop/scrollLeft position\n     * and the target position the cause a scroll animation. In case distance is below\n     * this threshold, an immediate jump will be performed.\n     * Due to dpi or rounding irregularities in browsers floating point numbers for scrollTop/scrollLeft values\n     * are possible, making a === comparison of current scrollTop or scrollLeft and target scrollPosition error-prone.\n     * @type {?|undefined}\n     */\n    PageScrollConfig.prototype._minScrollDistance;\n    /**\n     * How many console logs should be emitted. Also influenced by angular mode (dev or prod mode)\n     * 0: No logs, neither in dev nor in prod mode\n     * 1: Animation errors in dev mode, no logs in prod mode\n     * 2: Animation errors in dev and prod mode\n     * 5: Animation errors in dev and all scroll position values that get set; animation errors in prod mode\n     * @type {?|undefined}\n     */\n    PageScrollConfig.prototype._logLevel;\n    /**\n     * Name of the default namespace.\n     * @type {?|undefined}\n     */\n    PageScrollConfig.prototype.namespace;\n    /**\n     * Whether by default the scrolling should happen in vertical direction (by manipulating the scrollTop property)\n     * (= true; default) or in horizontal direction (by manipulating the scrollLeft property) (= false\n     * @type {?|undefined}\n     */\n    PageScrollConfig.prototype.verticalScrolling;\n    /**\n     * The duration how long a scrollTo animation should last by default.\n     * May be overridden using the page-scroll-duration attribute on a single ngxPageScroll instance.\n     * @type {?|undefined}\n     */\n    PageScrollConfig.prototype.duration;\n    /**\n     * The distance in pixels above scroll target where the animation should stop. Setting a positive number results in\n     * the scroll target being more in the middle of the screen, negative numbers will produce scrolling \"too far\"\n     * @type {?|undefined}\n     */\n    PageScrollConfig.prototype.scrollOffset;\n    /**\n     * Whether by default for inline scroll animations the advanced offset calculation should take place (true) or\n     * not (false). Default is false.\n     * The advanced offset calculation will traverse the DOM tree upwards, starting at the scrollTarget, until it finds\n     * the scrollingView container element. Along the way the offset positions of the relative positioned\n     * (position: relative) elements will be taken into account for calculating the target elements position.\n     * @type {?|undefined}\n     */\n    PageScrollConfig.prototype.advancedInlineOffsetCalculation;\n    /**\n     * The events that are listened to on the body to decide whether a scroll animation has been interfered/interrupted by the user\n     * @type {?|undefined}\n     */\n    PageScrollConfig.prototype.interruptEvents;\n    /**\n     * The keys that are considered to interrupt a scroll animation (mainly the arrow keys). All other key presses will not stop the\n     * scroll animation.\n     * @type {?|undefined}\n     */\n    PageScrollConfig.prototype.interruptKeys;\n    /**\n     * Whether a scroll animation should be interruptible by user interaction (true) or not (false). If the user performs an\n     * interrupting event while a scroll animation takes place, the scroll animation stops.\n     * @type {?|undefined}\n     */\n    PageScrollConfig.prototype.interruptible;\n    /**\n     * Whether the scroll animation should take place if the target is already in the view (true). If set to false the scroll\n     * animation will not start, in case the target pixel is already inside the current view.\n     * @type {?|undefined}\n     */\n    PageScrollConfig.prototype.scrollInView;\n    /**\n     * Easing logic to be applied when performing the scroll animation\n     * @type {?|undefined}\n     */\n    PageScrollConfig.prototype.easingLogic;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { NGXPS_CONFIG, NgxPageScrollCoreModule, PageScrollInstance, PageScrollService, defaultPageScrollConfig };\n\n//# sourceMappingURL=ngx-page-scroll-core.js.map","import { __decorate, __metadata } from 'tslib';\nimport { HostBinding, Input, HostListener, Directive, ElementRef, Renderer2, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport * as ɵngcc0 from '@angular/core';\nlet AutosizeDirective = class AutosizeDirective {\n    constructor(elem, renderer) {\n        this.elem = elem;\n        this.renderer = renderer;\n        this.overflow = 'hidden';\n        this.rows = 1;\n    }\n    ngAfterViewInit() {\n        this.resize();\n    }\n    ngDoCheck() {\n        this.resize();\n    }\n    resize() {\n        const textarea = this.elem.nativeElement;\n        // Calculate border height which is not included in scrollHeight\n        const borderHeight = textarea.offsetHeight - textarea.clientHeight;\n        // Reset textarea height to auto that correctly calculate the new height\n        this.setHeight('auto');\n        // Set new height\n        this.setHeight(`${textarea.scrollHeight + borderHeight}px`);\n    }\n    setHeight(value) {\n        this.renderer.setStyle(this.elem.nativeElement, 'height', value);\n    }\n};\nAutosizeDirective.ɵfac = function AutosizeDirective_Factory(t) { return new (t || AutosizeDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2)); };\nAutosizeDirective.ɵdir = /*@__PURE__*/ ɵngcc0.ɵɵdefineDirective({ type: AutosizeDirective, selectors: [[\"textarea\", \"autosize\", \"\"]], hostVars: 3, hostBindings: function AutosizeDirective_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"input\", function AutosizeDirective_input_HostBindingHandler() { return ctx.resize(); });\n    } if (rf & 2) {\n        ɵngcc0.ɵɵhostProperty(\"rows\", ctx.rows);\n        ɵngcc0.ɵɵstyleProp(\"overflow\", ctx.overflow);\n    } }, inputs: { rows: \"rows\" } });\n__decorate([\n    HostBinding('style.overflow'),\n    __metadata(\"design:type\", Object)\n], AutosizeDirective.prototype, \"overflow\", void 0);\n__decorate([\n    Input(),\n    HostBinding('rows'),\n    __metadata(\"design:type\", Object)\n], AutosizeDirective.prototype, \"rows\", void 0);\n__decorate([\n    HostListener('input'),\n    __metadata(\"design:type\", Function),\n    __metadata(\"design:paramtypes\", []),\n    __metadata(\"design:returntype\", void 0)\n], AutosizeDirective.prototype, \"resize\", null);\nAutosizeDirective = __decorate([ __metadata(\"design:paramtypes\", [ElementRef, Renderer2])\n], AutosizeDirective);\n\nlet TextareaAutosizeModule = class TextareaAutosizeModule {\n};\nTextareaAutosizeModule.ɵfac = function TextareaAutosizeModule_Factory(t) { return new (t || TextareaAutosizeModule)(); };\nTextareaAutosizeModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: TextareaAutosizeModule });\nTextareaAutosizeModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [[CommonModule]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(AutosizeDirective, [{\n        type: Directive,\n        args: [{\n                selector: 'textarea[autosize]'\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.Renderer2 }]; }, { overflow: [{\n            type: HostBinding,\n            args: ['style.overflow']\n        }], rows: [{\n            type: Input\n        }, {\n            type: HostBinding,\n            args: ['rows']\n        }], resize: [{\n            type: HostListener,\n            args: ['input']\n        }] }); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(TextareaAutosizeModule, [{\n        type: NgModule,\n        args: [{\n                imports: [CommonModule],\n                declarations: [AutosizeDirective],\n                exports: [AutosizeDirective]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(TextareaAutosizeModule, { declarations: function () { return [AutosizeDirective]; }, imports: function () { return [CommonModule]; }, exports: function () { return [AutosizeDirective]; } }); })();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TextareaAutosizeModule, AutosizeDirective as ɵa };\n\n//# sourceMappingURL=ngx-textarea-autosize.js.map","import { __decorate, __metadata } from 'tslib';\nimport { EventEmitter, Input, Output, ViewChild, Component, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Observable } from 'rxjs';\n\n/**\r\n * Container class for a captured webcam image\r\n * @author basst314, davidshen84\r\n */\r\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\n\nconst _c0 = [\"video\"];\nconst _c1 = [\"canvas\"];\nfunction WebcamComponent_div_3_Template(rf, ctx) { if (rf & 1) {\n    const _r4 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 6);\n    ɵngcc0.ɵɵlistener(\"click\", function WebcamComponent_div_3_Template_div_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r4); const ctx_r3 = ɵngcc0.ɵɵnextContext(); return ctx_r3.rotateVideoInput(true); });\n    ɵngcc0.ɵɵelementEnd();\n} }\nclass WebcamImage {\r\n    constructor(imageAsDataUrl, mimeType, imageData) {\r\n        this._mimeType = null;\r\n        this._imageAsBase64 = null;\r\n        this._imageAsDataUrl = null;\r\n        this._imageData = null;\r\n        this._mimeType = mimeType;\r\n        this._imageAsDataUrl = imageAsDataUrl;\r\n        this._imageData = imageData;\r\n    }\r\n    /**\r\n     * Extracts the Base64 data out of the given dataUrl.\r\n     * @param dataUrl the given dataUrl\r\n     * @param mimeType the mimeType of the data\r\n     */\r\n    static getDataFromDataUrl(dataUrl, mimeType) {\r\n        return dataUrl.replace(`data:${mimeType};base64,`, '');\r\n    }\r\n    /**\r\n     * Get the base64 encoded image data\r\n     * @returns base64 data of the image\r\n     */\r\n    get imageAsBase64() {\r\n        return this._imageAsBase64 ? this._imageAsBase64\r\n            : this._imageAsBase64 = WebcamImage.getDataFromDataUrl(this._imageAsDataUrl, this._mimeType);\r\n    }\r\n    /**\r\n     * Get the encoded image as dataUrl\r\n     * @returns the dataUrl of the image\r\n     */\r\n    get imageAsDataUrl() {\r\n        return this._imageAsDataUrl;\r\n    }\r\n    /**\r\n     * Get the ImageData object associated with the canvas' 2d context.\r\n     * @returns the ImageData of the canvas's 2d context.\r\n     */\r\n    get imageData() {\r\n        return this._imageData;\r\n    }\r\n}\n\nclass WebcamUtil {\r\n    /**\r\n     * Lists available videoInput devices\r\n     * @returns a list of media device info.\r\n     */\r\n    static getAvailableVideoInputs() {\r\n        if (!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices) {\r\n            return Promise.reject('enumerateDevices() not supported.');\r\n        }\r\n        return new Promise((resolve, reject) => {\r\n            navigator.mediaDevices.enumerateDevices()\r\n                .then((devices) => {\r\n                resolve(devices.filter((device) => device.kind === 'videoinput'));\r\n            })\r\n                .catch(err => {\r\n                reject(err.message || err);\r\n            });\r\n        });\r\n    }\r\n}\n\nvar WebcamComponent_1;\r\nlet WebcamComponent = WebcamComponent_1 = class WebcamComponent {\r\n    constructor() {\r\n        /** Defines the max width of the webcam area in px */\r\n        this.width = 640;\r\n        /** Defines the max height of the webcam area in px */\r\n        this.height = 480;\r\n        /** Defines base constraints to apply when requesting video track from UserMedia */\r\n        this.videoOptions = WebcamComponent_1.DEFAULT_VIDEO_OPTIONS;\r\n        /** Flag to enable/disable camera switch. If enabled, a switch icon will be displayed if multiple cameras were found */\r\n        this.allowCameraSwitch = true;\r\n        /** Flag to control whether an ImageData object is stored into the WebcamImage object. */\r\n        this.captureImageData = false;\r\n        /** The image type to use when capturing snapshots */\r\n        this.imageType = WebcamComponent_1.DEFAULT_IMAGE_TYPE;\r\n        /** The image quality to use when capturing snapshots (number between 0 and 1) */\r\n        this.imageQuality = WebcamComponent_1.DEFAULT_IMAGE_QUALITY;\r\n        /** EventEmitter which fires when an image has been captured */\r\n        this.imageCapture = new EventEmitter();\r\n        /** Emits a mediaError if webcam cannot be initialized (e.g. missing user permissions) */\r\n        this.initError = new EventEmitter();\r\n        /** Emits when the webcam video was clicked */\r\n        this.imageClick = new EventEmitter();\r\n        /** Emits the active deviceId after the active video device was switched */\r\n        this.cameraSwitched = new EventEmitter();\r\n        /** available video devices */\r\n        this.availableVideoInputs = [];\r\n        /** Indicates whether the video device is ready to be switched */\r\n        this.videoInitialized = false;\r\n        /** Index of active video in availableVideoInputs */\r\n        this.activeVideoInputIndex = -1;\r\n        /** MediaStream object in use for streaming UserMedia data */\r\n        this.mediaStream = null;\r\n        /** width and height of the active video stream */\r\n        this.activeVideoSettings = null;\r\n    }\r\n    /**\r\n     * If the given Observable emits, an image will be captured and emitted through 'imageCapture' EventEmitter\r\n     */\r\n    set trigger(trigger) {\r\n        if (this.triggerSubscription) {\r\n            this.triggerSubscription.unsubscribe();\r\n        }\r\n        // Subscribe to events from this Observable to take snapshots\r\n        this.triggerSubscription = trigger.subscribe(() => {\r\n            this.takeSnapshot();\r\n        });\r\n    }\r\n    /**\r\n     * If the given Observable emits, the active webcam will be switched to the one indicated by the emitted value.\r\n     * @param switchCamera Indicates which webcam to switch to\r\n     *   true: cycle forwards through available webcams\r\n     *   false: cycle backwards through available webcams\r\n     *   string: activate the webcam with the given id\r\n     */\r\n    set switchCamera(switchCamera) {\r\n        if (this.switchCameraSubscription) {\r\n            this.switchCameraSubscription.unsubscribe();\r\n        }\r\n        // Subscribe to events from this Observable to switch video device\r\n        this.switchCameraSubscription = switchCamera.subscribe((value) => {\r\n            if (typeof value === 'string') {\r\n                // deviceId was specified\r\n                this.switchToVideoInput(value);\r\n            }\r\n            else {\r\n                // direction was specified\r\n                this.rotateVideoInput(value !== false);\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Get MediaTrackConstraints to request streaming the given device\r\n     * @param deviceId\r\n     * @param baseMediaTrackConstraints base constraints to merge deviceId-constraint into\r\n     * @returns\r\n     */\r\n    static getMediaConstraintsForDevice(deviceId, baseMediaTrackConstraints) {\r\n        const result = baseMediaTrackConstraints ? baseMediaTrackConstraints : this.DEFAULT_VIDEO_OPTIONS;\r\n        if (deviceId) {\r\n            result.deviceId = { exact: deviceId };\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     * Tries to harvest the deviceId from the given mediaStreamTrack object.\r\n     * Browsers populate this object differently; this method tries some different approaches\r\n     * to read the id.\r\n     * @param mediaStreamTrack\r\n     * @returns deviceId if found in the mediaStreamTrack\r\n     */\r\n    static getDeviceIdFromMediaStreamTrack(mediaStreamTrack) {\r\n        if (mediaStreamTrack.getSettings && mediaStreamTrack.getSettings() && mediaStreamTrack.getSettings().deviceId) {\r\n            return mediaStreamTrack.getSettings().deviceId;\r\n        }\r\n        else if (mediaStreamTrack.getConstraints && mediaStreamTrack.getConstraints() && mediaStreamTrack.getConstraints().deviceId) {\r\n            const deviceIdObj = mediaStreamTrack.getConstraints().deviceId;\r\n            return WebcamComponent_1.getValueFromConstrainDOMString(deviceIdObj);\r\n        }\r\n    }\r\n    /**\r\n     * Tries to harvest the facingMode from the given mediaStreamTrack object.\r\n     * Browsers populate this object differently; this method tries some different approaches\r\n     * to read the value.\r\n     * @param mediaStreamTrack\r\n     * @returns facingMode if found in the mediaStreamTrack\r\n     */\r\n    static getFacingModeFromMediaStreamTrack(mediaStreamTrack) {\r\n        if (mediaStreamTrack) {\r\n            if (mediaStreamTrack.getSettings && mediaStreamTrack.getSettings() && mediaStreamTrack.getSettings().facingMode) {\r\n                return mediaStreamTrack.getSettings().facingMode;\r\n            }\r\n            else if (mediaStreamTrack.getConstraints && mediaStreamTrack.getConstraints() && mediaStreamTrack.getConstraints().facingMode) {\r\n                const facingModeConstraint = mediaStreamTrack.getConstraints().facingMode;\r\n                return WebcamComponent_1.getValueFromConstrainDOMString(facingModeConstraint);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Determines whether the given mediaStreamTrack claims itself as user facing\r\n     * @param mediaStreamTrack\r\n     */\r\n    static isUserFacing(mediaStreamTrack) {\r\n        const facingMode = WebcamComponent_1.getFacingModeFromMediaStreamTrack(mediaStreamTrack);\r\n        return facingMode ? 'user' === facingMode.toLowerCase() : false;\r\n    }\r\n    /**\r\n     * Extracts the value from the given ConstrainDOMString\r\n     * @param constrainDOMString\r\n     */\r\n    static getValueFromConstrainDOMString(constrainDOMString) {\r\n        if (constrainDOMString) {\r\n            if (constrainDOMString instanceof String) {\r\n                return String(constrainDOMString);\r\n            }\r\n            else if (Array.isArray(constrainDOMString) && Array(constrainDOMString).length > 0) {\r\n                return String(constrainDOMString[0]);\r\n            }\r\n            else if (typeof constrainDOMString === 'object') {\r\n                if (constrainDOMString['exact']) {\r\n                    return String(constrainDOMString['exact']);\r\n                }\r\n                else if (constrainDOMString['ideal']) {\r\n                    return String(constrainDOMString['ideal']);\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    ngAfterViewInit() {\r\n        this.detectAvailableDevices()\r\n            .then(() => {\r\n            // start video\r\n            this.switchToVideoInput(null);\r\n        })\r\n            .catch((err) => {\r\n            this.initError.next({ message: err });\r\n            // fallback: still try to load webcam, even if device enumeration failed\r\n            this.switchToVideoInput(null);\r\n        });\r\n    }\r\n    ngOnDestroy() {\r\n        this.stopMediaTracks();\r\n        this.unsubscribeFromSubscriptions();\r\n    }\r\n    /**\r\n     * Takes a snapshot of the current webcam's view and emits the image as an event\r\n     */\r\n    takeSnapshot() {\r\n        // set canvas size to actual video size\r\n        const _video = this.nativeVideoElement;\r\n        const dimensions = { width: this.width, height: this.height };\r\n        if (_video.videoWidth) {\r\n            dimensions.width = _video.videoWidth;\r\n            dimensions.height = _video.videoHeight;\r\n        }\r\n        const _canvas = this.canvas.nativeElement;\r\n        _canvas.width = dimensions.width;\r\n        _canvas.height = dimensions.height;\r\n        // paint snapshot image to canvas\r\n        const context2d = _canvas.getContext('2d');\r\n        context2d.drawImage(_video, 0, 0);\r\n        // read canvas content as image\r\n        const mimeType = this.imageType ? this.imageType : WebcamComponent_1.DEFAULT_IMAGE_TYPE;\r\n        const quality = this.imageQuality ? this.imageQuality : WebcamComponent_1.DEFAULT_IMAGE_QUALITY;\r\n        const dataUrl = _canvas.toDataURL(mimeType, quality);\r\n        // get the ImageData object from the canvas' context.\r\n        let imageData = null;\r\n        if (this.captureImageData) {\r\n            imageData = context2d.getImageData(0, 0, _canvas.width, _canvas.height);\r\n        }\r\n        this.imageCapture.next(new WebcamImage(dataUrl, mimeType, imageData));\r\n    }\r\n    /**\r\n     * Switches to the next/previous video device\r\n     * @param forward\r\n     */\r\n    rotateVideoInput(forward) {\r\n        if (this.availableVideoInputs && this.availableVideoInputs.length > 1) {\r\n            const increment = forward ? 1 : (this.availableVideoInputs.length - 1);\r\n            const nextInputIndex = (this.activeVideoInputIndex + increment) % this.availableVideoInputs.length;\r\n            this.switchToVideoInput(this.availableVideoInputs[nextInputIndex].deviceId);\r\n        }\r\n    }\r\n    /**\r\n     * Switches the camera-view to the specified video device\r\n     */\r\n    switchToVideoInput(deviceId) {\r\n        this.videoInitialized = false;\r\n        this.stopMediaTracks();\r\n        this.initWebcam(deviceId, this.videoOptions);\r\n    }\r\n    /**\r\n     * Event-handler for video resize event.\r\n     * Triggers Angular change detection so that new video dimensions get applied\r\n     */\r\n    videoResize() {\r\n        // here to trigger Angular change detection\r\n    }\r\n    get videoWidth() {\r\n        const videoRatio = this.getVideoAspectRatio();\r\n        return Math.min(this.width, this.height * videoRatio);\r\n    }\r\n    get videoHeight() {\r\n        const videoRatio = this.getVideoAspectRatio();\r\n        return Math.min(this.height, this.width / videoRatio);\r\n    }\r\n    get videoStyleClasses() {\r\n        let classes = '';\r\n        if (this.isMirrorImage()) {\r\n            classes += 'mirrored ';\r\n        }\r\n        return classes.trim();\r\n    }\r\n    get nativeVideoElement() {\r\n        return this.video.nativeElement;\r\n    }\r\n    /**\r\n     * Returns the video aspect ratio of the active video stream\r\n     */\r\n    getVideoAspectRatio() {\r\n        // calculate ratio from video element dimensions if present\r\n        const videoElement = this.nativeVideoElement;\r\n        if (videoElement.videoWidth && videoElement.videoWidth > 0 &&\r\n            videoElement.videoHeight && videoElement.videoHeight > 0) {\r\n            return videoElement.videoWidth / videoElement.videoHeight;\r\n        }\r\n        // nothing present - calculate ratio based on width/height params\r\n        return this.width / this.height;\r\n    }\r\n    /**\r\n     * Init webcam live view\r\n     */\r\n    initWebcam(deviceId, userVideoTrackConstraints) {\r\n        const _video = this.nativeVideoElement;\r\n        if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n            // merge deviceId -> userVideoTrackConstraints\r\n            const videoTrackConstraints = WebcamComponent_1.getMediaConstraintsForDevice(deviceId, userVideoTrackConstraints);\r\n            navigator.mediaDevices.getUserMedia({ video: videoTrackConstraints })\r\n                .then((stream) => {\r\n                this.mediaStream = stream;\r\n                _video.srcObject = stream;\r\n                _video.play();\r\n                this.activeVideoSettings = stream.getVideoTracks()[0].getSettings();\r\n                const activeDeviceId = WebcamComponent_1.getDeviceIdFromMediaStreamTrack(stream.getVideoTracks()[0]);\r\n                this.cameraSwitched.next(activeDeviceId);\r\n                // Initial detect may run before user gave permissions, returning no deviceIds. This prevents later camera switches. (#47)\r\n                // Run detect once again within getUserMedia callback, to make sure this time we have permissions and get deviceIds.\r\n                this.detectAvailableDevices()\r\n                    .then(() => {\r\n                    this.activeVideoInputIndex = activeDeviceId ? this.availableVideoInputs\r\n                        .findIndex((mediaDeviceInfo) => mediaDeviceInfo.deviceId === activeDeviceId) : -1;\r\n                    this.videoInitialized = true;\r\n                })\r\n                    .catch(() => {\r\n                    this.activeVideoInputIndex = -1;\r\n                    this.videoInitialized = true;\r\n                });\r\n            })\r\n                .catch((err) => {\r\n                this.initError.next({ message: err.message, mediaStreamError: err });\r\n            });\r\n        }\r\n        else {\r\n            this.initError.next({ message: 'Cannot read UserMedia from MediaDevices.' });\r\n        }\r\n    }\r\n    getActiveVideoTrack() {\r\n        return this.mediaStream ? this.mediaStream.getVideoTracks()[0] : null;\r\n    }\r\n    isMirrorImage() {\r\n        if (!this.getActiveVideoTrack()) {\r\n            return false;\r\n        }\r\n        // check for explicit mirror override parameter\r\n        {\r\n            let mirror = 'auto';\r\n            if (this.mirrorImage) {\r\n                if (typeof this.mirrorImage === 'string') {\r\n                    mirror = String(this.mirrorImage).toLowerCase();\r\n                }\r\n                else {\r\n                    // WebcamMirrorProperties\r\n                    if (this.mirrorImage.x) {\r\n                        mirror = this.mirrorImage.x.toLowerCase();\r\n                    }\r\n                }\r\n            }\r\n            switch (mirror) {\r\n                case 'always':\r\n                    return true;\r\n                case 'never':\r\n                    return false;\r\n            }\r\n        }\r\n        // default: enable mirroring if webcam is user facing\r\n        return WebcamComponent_1.isUserFacing(this.getActiveVideoTrack());\r\n    }\r\n    /**\r\n     * Stops all active media tracks.\r\n     * This prevents the webcam from being indicated as active,\r\n     * even if it is no longer used by this component.\r\n     */\r\n    stopMediaTracks() {\r\n        if (this.mediaStream && this.mediaStream.getTracks) {\r\n            // getTracks() returns all media tracks (video+audio)\r\n            this.mediaStream.getTracks()\r\n                .forEach((track) => track.stop());\r\n        }\r\n    }\r\n    /**\r\n     * Unsubscribe from all open subscriptions\r\n     */\r\n    unsubscribeFromSubscriptions() {\r\n        if (this.triggerSubscription) {\r\n            this.triggerSubscription.unsubscribe();\r\n        }\r\n        if (this.switchCameraSubscription) {\r\n            this.switchCameraSubscription.unsubscribe();\r\n        }\r\n    }\r\n    /**\r\n     * Reads available input devices\r\n     */\r\n    detectAvailableDevices() {\r\n        return new Promise((resolve, reject) => {\r\n            WebcamUtil.getAvailableVideoInputs()\r\n                .then((devices) => {\r\n                this.availableVideoInputs = devices;\r\n                resolve(devices);\r\n            })\r\n                .catch(err => {\r\n                this.availableVideoInputs = [];\r\n                reject(err);\r\n            });\r\n        });\r\n    }\r\n};\nWebcamComponent.ɵfac = function WebcamComponent_Factory(t) { return new (t || WebcamComponent)(); };\nWebcamComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: WebcamComponent, selectors: [[\"webcam\"]], viewQuery: function WebcamComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, 7);\n        ɵngcc0.ɵɵviewQuery(_c1, 7);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.video = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.canvas = _t.first);\n    } }, inputs: { width: \"width\", height: \"height\", videoOptions: \"videoOptions\", allowCameraSwitch: \"allowCameraSwitch\", captureImageData: \"captureImageData\", imageType: \"imageType\", imageQuality: \"imageQuality\", trigger: \"trigger\", switchCamera: \"switchCamera\", mirrorImage: \"mirrorImage\" }, outputs: { imageCapture: \"imageCapture\", initError: \"initError\", imageClick: \"imageClick\", cameraSwitched: \"cameraSwitched\" }, decls: 6, vars: 7, consts: [[1, \"webcam-wrapper\", 3, \"click\"], [\"autoplay\", \"\", \"muted\", \"\", \"playsinline\", \"\", 3, \"width\", \"height\", \"resize\"], [\"video\", \"\"], [\"class\", \"camera-switch\", 3, \"click\", 4, \"ngIf\"], [3, \"width\", \"height\"], [\"canvas\", \"\"], [1, \"camera-switch\", 3, \"click\"]], template: function WebcamComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵlistener(\"click\", function WebcamComponent_Template_div_click_0_listener() { return ctx.imageClick.next(); });\n        ɵngcc0.ɵɵelementStart(1, \"video\", 1, 2);\n        ɵngcc0.ɵɵlistener(\"resize\", function WebcamComponent_Template_video_resize_1_listener() { return ctx.videoResize(); });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(3, WebcamComponent_div_3_Template, 1, 0, \"div\", 3);\n        ɵngcc0.ɵɵelement(4, \"canvas\", 4, 5);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵclassMap(ctx.videoStyleClasses);\n        ɵngcc0.ɵɵproperty(\"width\", ctx.videoWidth)(\"height\", ctx.videoHeight);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.allowCameraSwitch && ctx.availableVideoInputs.length > 1 && ctx.videoInitialized);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"width\", ctx.width)(\"height\", ctx.height);\n    } }, directives: [ɵngcc1.NgIf], styles: [\".webcam-wrapper[_ngcontent-%COMP%]{display:inline-block;position:relative;line-height:0}.webcam-wrapper[_ngcontent-%COMP%]   video.mirrored[_ngcontent-%COMP%]{transform:scale(-1,1)}.webcam-wrapper[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{display:none}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.1);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE9UlEQVR42u2aT2hdRRTGf+cRQqghSqihdBFDkRISK2KDfzDWxHaRQHEhaINKqa1gKQhd6EZLN+IidCH+Q0oWIkVRC21BQxXRitVaSbKoJSGtYGoK2tQ/tU1jY5v0c5F54Xl7b/KSO/PyEt+3e5f75p7zzZwzZ74zUEIJJfyfYaEGllQGVAGZlENdBy6Z2cSiYFTSKkkfS/pH/nBF0kFJdUW9AiRVASeAukD8DgNrzOySrwEzng18KaDzALXuG8W3AiStAvqBisBRNg40mtlPxbYCOgvgPO4bncWW+JpVeDQXRQhIygDfA00F5r0XuNfMrgclQFI98DDQCNQA5ZFXqoCWBVp8XwHRHeEqcN7loy/NbHBesyqpQ1KfFj/6nC+ZvFaApFrgPaCZpYVvgCfNbDiRAElNwGFg+RIt/X8H2s2s9wYCJDUAR4HqJX7++RN40MwGpgmQVAH0AQ2BPz4AHHPl8nBOAqtyFWQjsA6oL4Ada81sPDv7uwImod8kvSJp9RyS8O2SXnb/DYVd2Y9VSroQ4ANXJO2WVJmixqh0kzMWwL4LkiqRtDnA4D1zmfE8j9g9AezcnAHaPcfXdbfdnPZ2Yps6+DwAvO/Z1naTdApY7Xng48BDZnY1MpMVQBuw3iXc5Tnb0wBwBPjUzP6eoezuArZ6svM0geJLkvZEYnl3nkntoqROSbckSW2Suj3ZOIangc7GPJuUtNGdFIfmMeavktoSSKiW9LMPw30Q8JqkekmjCbOZRhuclLQjgYSNxUBAj6RyZ9ATgUJpUtJTCSR8vpAEXHAyWK5BXYFIGHOlepSAloUk4NEYgyoknQhEwhFJ0e8h6VSaQeerCb5uZgdi9utxYBNwOUD93hIVXswM4INCi6K9wAszFC2DwLOBDjHbYp59karIUnRdzYy/3ClqVklaUhfwTICj7K25OqA7a4wWagVsm4Me/xzwg2cCqqONFzO7DPxSCAJi436GUBgHHguQD2oTlJ55oSzP9ybccsttSJw1szdjFOSnI/8dTCGZHwcORp4Nx7y3B1iZ8/sm4MW8/Euxg5wIsS/HaAp3zeP4/G7obRDXI4jiTIA22H7Xdc7X+S3A5lC7QBQ357aq3VAjCeSkwUfAJrfvz+R8A9ADLAtZB+TinpjC5JMA+//jwPZZnF8G7J+L8z4IWB/zbG+gIujVWfLBW/NStVMmqaG4POJRsIjix7h8IGnLQuoBbQki5sVAJHyYm7YkNaRRtXwQ8G1cHpX0iKRrgUjYno17Sf0LrQhJUkdCeHWkVITGJI0k1QeS3ikGSUzOyJUJJNznYneuOCnpTldcxa2kP3xJYqOeSDjqZG8ShJLnE8TTuMS6Iyu1BW7djZqkfo9N0QOuYJmYQddfB7RG+gLTNzqAY9FrL+5/nwEbvDdJJe3zzOrhNP3AWRqmk55t3ZcBuj3b2gb0Sbrbo/NNzk7fFzu7s/E5EiC+rrmeQU0Kx2skvRFoOx2ZzlmSdgbsw49JetvtBpk8nM64d/cGbNtJ0s7cGyJlwHeEv+t3nqnLSgPAUOSGyG3AHUxdzqoJbEcvcL+ZTeTeEapzJKxgaeOcc/7Mf06D7kFrguS0VDAMtGadv+E47DT9tcChJej8ISfpD+abgTe45uOkFi8mnQ+JBVQ+d4VXuOptjavcyot8pq86mfwk8LWZnaOEEkoooYQSSojDv8AhQNeGfe0jAAAAAElFTkSuQmCC);background-repeat:no-repeat;border-radius:5px;position:absolute;right:13px;top:10px;height:48px;width:48px;background-size:80%;cursor:pointer;background-position:center;transition:background-color .2s}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.18)}\"] });\r\nWebcamComponent.DEFAULT_VIDEO_OPTIONS = { facingMode: 'environment' };\r\nWebcamComponent.DEFAULT_IMAGE_TYPE = 'image/jpeg';\r\nWebcamComponent.DEFAULT_IMAGE_QUALITY = 0.92;\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Number)\r\n], WebcamComponent.prototype, \"width\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Number)\r\n], WebcamComponent.prototype, \"height\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Object)\r\n], WebcamComponent.prototype, \"videoOptions\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Boolean)\r\n], WebcamComponent.prototype, \"allowCameraSwitch\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Object)\r\n], WebcamComponent.prototype, \"mirrorImage\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Boolean)\r\n], WebcamComponent.prototype, \"captureImageData\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", String)\r\n], WebcamComponent.prototype, \"imageType\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Number)\r\n], WebcamComponent.prototype, \"imageQuality\", void 0);\r\n__decorate([\r\n    Output(),\r\n    __metadata(\"design:type\", EventEmitter)\r\n], WebcamComponent.prototype, \"imageCapture\", void 0);\r\n__decorate([\r\n    Output(),\r\n    __metadata(\"design:type\", EventEmitter)\r\n], WebcamComponent.prototype, \"initError\", void 0);\r\n__decorate([\r\n    Output(),\r\n    __metadata(\"design:type\", EventEmitter)\r\n], WebcamComponent.prototype, \"imageClick\", void 0);\r\n__decorate([\r\n    Output(),\r\n    __metadata(\"design:type\", EventEmitter)\r\n], WebcamComponent.prototype, \"cameraSwitched\", void 0);\r\n__decorate([\r\n    ViewChild('video', { static: true }),\r\n    __metadata(\"design:type\", Object)\r\n], WebcamComponent.prototype, \"video\", void 0);\r\n__decorate([\r\n    ViewChild('canvas', { static: true }),\r\n    __metadata(\"design:type\", Object)\r\n], WebcamComponent.prototype, \"canvas\", void 0);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Observable),\r\n    __metadata(\"design:paramtypes\", [Observable])\r\n], WebcamComponent.prototype, \"trigger\", null);\r\n__decorate([\r\n    Input(),\r\n    __metadata(\"design:type\", Observable),\r\n    __metadata(\"design:paramtypes\", [Observable])\r\n], WebcamComponent.prototype, \"switchCamera\", null);\n\nconst COMPONENTS = [\r\n    WebcamComponent\r\n];\r\nlet WebcamModule = class WebcamModule {\r\n};\nWebcamModule.ɵfac = function WebcamModule_Factory(t) { return new (t || WebcamModule)(); };\nWebcamModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: WebcamModule });\nWebcamModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [[\n            CommonModule\n        ]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(WebcamComponent, [{\n        type: Component,\n        args: [{\n                selector: 'webcam',\n                template: \"<div class=\\\"webcam-wrapper\\\" (click)=\\\"imageClick.next();\\\">\\r\\n  <video #video [width]=\\\"videoWidth\\\" [height]=\\\"videoHeight\\\" [class]=\\\"videoStyleClasses\\\" autoplay muted playsinline (resize)=\\\"videoResize()\\\"></video>\\r\\n  <div class=\\\"camera-switch\\\" *ngIf=\\\"allowCameraSwitch && availableVideoInputs.length > 1 && videoInitialized\\\" (click)=\\\"rotateVideoInput(true)\\\"></div>\\r\\n  <canvas #canvas [width]=\\\"width\\\" [height]=\\\"height\\\"></canvas>\\r\\n</div>\\r\\n\",\n                styles: [\".webcam-wrapper{display:inline-block;position:relative;line-height:0}.webcam-wrapper video.mirrored{transform:scale(-1,1)}.webcam-wrapper canvas{display:none}.webcam-wrapper .camera-switch{background-color:rgba(0,0,0,.1);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE9UlEQVR42u2aT2hdRRTGf+cRQqghSqihdBFDkRISK2KDfzDWxHaRQHEhaINKqa1gKQhd6EZLN+IidCH+Q0oWIkVRC21BQxXRitVaSbKoJSGtYGoK2tQ/tU1jY5v0c5F54Xl7b/KSO/PyEt+3e5f75p7zzZwzZ74zUEIJJfyfYaEGllQGVAGZlENdBy6Z2cSiYFTSKkkfS/pH/nBF0kFJdUW9AiRVASeAukD8DgNrzOySrwEzng18KaDzALXuG8W3AiStAvqBisBRNg40mtlPxbYCOgvgPO4bncWW+JpVeDQXRQhIygDfA00F5r0XuNfMrgclQFI98DDQCNQA5ZFXqoCWBVp8XwHRHeEqcN7loy/NbHBesyqpQ1KfFj/6nC+ZvFaApFrgPaCZpYVvgCfNbDiRAElNwGFg+RIt/X8H2s2s9wYCJDUAR4HqJX7++RN40MwGpgmQVAH0AQ2BPz4AHHPl8nBOAqtyFWQjsA6oL4Ada81sPDv7uwImod8kvSJp9RyS8O2SXnb/DYVd2Y9VSroQ4ANXJO2WVJmixqh0kzMWwL4LkiqRtDnA4D1zmfE8j9g9AezcnAHaPcfXdbfdnPZ2Yps6+DwAvO/Z1naTdApY7Xng48BDZnY1MpMVQBuw3iXc5Tnb0wBwBPjUzP6eoezuArZ6svM0geJLkvZEYnl3nkntoqROSbckSW2Suj3ZOIangc7GPJuUtNGdFIfmMeavktoSSKiW9LMPw30Q8JqkekmjCbOZRhuclLQjgYSNxUBAj6RyZ9ATgUJpUtJTCSR8vpAEXHAyWK5BXYFIGHOlepSAloUk4NEYgyoknQhEwhFJ0e8h6VSaQeerCb5uZgdi9utxYBNwOUD93hIVXswM4INCi6K9wAszFC2DwLOBDjHbYp59karIUnRdzYy/3ClqVklaUhfwTICj7K25OqA7a4wWagVsm4Me/xzwg2cCqqONFzO7DPxSCAJi436GUBgHHguQD2oTlJ55oSzP9ybccsttSJw1szdjFOSnI/8dTCGZHwcORp4Nx7y3B1iZ8/sm4MW8/Euxg5wIsS/HaAp3zeP4/G7obRDXI4jiTIA22H7Xdc7X+S3A5lC7QBQ357aq3VAjCeSkwUfAJrfvz+R8A9ADLAtZB+TinpjC5JMA+//jwPZZnF8G7J+L8z4IWB/zbG+gIujVWfLBW/NStVMmqaG4POJRsIjix7h8IGnLQuoBbQki5sVAJHyYm7YkNaRRtXwQ8G1cHpX0iKRrgUjYno17Sf0LrQhJUkdCeHWkVITGJI0k1QeS3ikGSUzOyJUJJNznYneuOCnpTldcxa2kP3xJYqOeSDjqZG8ShJLnE8TTuMS6Iyu1BW7djZqkfo9N0QOuYJmYQddfB7RG+gLTNzqAY9FrL+5/nwEbvDdJJe3zzOrhNP3AWRqmk55t3ZcBuj3b2gb0Sbrbo/NNzk7fFzu7s/E5EiC+rrmeQU0Kx2skvRFoOx2ZzlmSdgbsw49JetvtBpk8nM64d/cGbNtJ0s7cGyJlwHeEv+t3nqnLSgPAUOSGyG3AHUxdzqoJbEcvcL+ZTeTeEapzJKxgaeOcc/7Mf06D7kFrguS0VDAMtGadv+E47DT9tcChJej8ISfpD+abgTe45uOkFi8mnQ+JBVQ+d4VXuOptjavcyot8pq86mfwk8LWZnaOEEkoooYQSSojDv8AhQNeGfe0jAAAAAElFTkSuQmCC);background-repeat:no-repeat;border-radius:5px;position:absolute;right:13px;top:10px;height:48px;width:48px;background-size:80%;cursor:pointer;background-position:center;transition:background-color .2s}.webcam-wrapper .camera-switch:hover{background-color:rgba(0,0,0,.18)}\"]\n            }]\n    }], function () { return []; }, { width: [{\n            type: Input\n        }], height: [{\n            type: Input\n        }], videoOptions: [{\n            type: Input\n        }], allowCameraSwitch: [{\n            type: Input\n        }], captureImageData: [{\n            type: Input\n        }], imageType: [{\n            type: Input\n        }], imageQuality: [{\n            type: Input\n        }], imageCapture: [{\n            type: Output\n        }], initError: [{\n            type: Output\n        }], imageClick: [{\n            type: Output\n        }], cameraSwitched: [{\n            type: Output\n        }], trigger: [{\n            type: Input\n        }], switchCamera: [{\n            type: Input\n        }], mirrorImage: [{\n            type: Input\n        }], video: [{\n            type: ViewChild,\n            args: ['video', { static: true }]\n        }], canvas: [{\n            type: ViewChild,\n            args: ['canvas', { static: true }]\n        }] }); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(WebcamModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    CommonModule\n                ],\n                declarations: [\n                    COMPONENTS\n                ],\n                exports: [\n                    COMPONENTS\n                ]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(WebcamModule, { declarations: function () { return [WebcamComponent]; }, imports: function () { return [CommonModule]; }, exports: function () { return [WebcamComponent]; } }); })();\n\nclass WebcamInitError {\r\n    constructor() {\r\n        this.message = null;\r\n        this.mediaStreamError = null;\r\n    }\r\n}\n\nclass WebcamMirrorProperties {\r\n}\n\nexport { WebcamComponent, WebcamImage, WebcamInitError, WebcamMirrorProperties, WebcamModule, WebcamUtil };\n\n//# sourceMappingURL=ngx-webcam.js.map","// Copyright 2014 Simon Lydell\r\n// X11 (“MIT”) Licensed. (See LICENSE.)\r\n\r\nvoid (function(root, factory) {\r\n  if (typeof define === \"function\" && define.amd) {\r\n    define(factory)\r\n  } else if (typeof exports === \"object\") {\r\n    module.exports = factory()\r\n  } else {\r\n    root.resolveUrl = factory()\r\n  }\r\n}(this, function() {\r\n\r\n  function resolveUrl(/* ...urls */) {\r\n    var numUrls = arguments.length\r\n\r\n    if (numUrls === 0) {\r\n      throw new Error(\"resolveUrl requires at least one argument; got none.\")\r\n    }\r\n\r\n    var base = document.createElement(\"base\")\r\n    base.href = arguments[0]\r\n\r\n    if (numUrls === 1) {\r\n      return base.href\r\n    }\r\n\r\n    var head = document.getElementsByTagName(\"head\")[0]\r\n    head.insertBefore(base, head.firstChild)\r\n\r\n    var a = document.createElement(\"a\")\r\n    var resolved\r\n\r\n    for (var index = 1; index < numUrls; index++) {\r\n      a.href = arguments[index]\r\n      resolved = a.href\r\n      base.href = resolved\r\n    }\r\n\r\n    head.removeChild(base)\r\n\r\n    return resolved\r\n  }\r\n\r\n  return resolveUrl\r\n\r\n}));\r\n","const createWorker = require('./createWorker');\n\nconst recognize = async (image, langs, options) => {\n  const worker = createWorker(options);\n  await worker.load();\n  await worker.loadLanguage(langs);\n  await worker.initialize(langs);\n  return worker.recognize(image)\n    .finally(async () => {\n      await worker.terminate();\n    });\n};\n\nconst detect = async (image, options) => {\n  const worker = createWorker(options);\n  await worker.load();\n  await worker.loadLanguage('osd');\n  await worker.initialize('osd');\n  return worker.detect(image)\n    .finally(async () => {\n      await worker.terminate();\n    });\n};\n\nmodule.exports = {\n  recognize,\n  detect,\n};\n","/*\n * OEM = OCR Engine Mode, and there are 4 possible modes.\n *\n * By default tesseract.js uses LSTM_ONLY mode.\n *\n */\nmodule.exports = {\n  TESSERACT_ONLY: 0,\n  LSTM_ONLY: 1,\n  TESSERACT_LSTM_COMBINED: 2,\n  DEFAULT: 3,\n};\n","/*\n * PSM = Page Segmentation Mode\n */\nmodule.exports = {\n  OSD_ONLY: '0',\n  AUTO_OSD: '1',\n  AUTO_ONLY: '2',\n  AUTO: '3',\n  SINGLE_COLUMN: '4',\n  SINGLE_BLOCK_VERT_TEXT: '5',\n  SINGLE_BLOCK: '6',\n  SINGLE_LINE: '7',\n  SINGLE_WORD: '8',\n  CIRCLE_WORD: '9',\n  SINGLE_CHAR: '10',\n  SPARSE_TEXT: '11',\n  SPARSE_TEXT_OSD: '12',\n};\n","const OEM = require('./OEM');\n\nmodule.exports = {\n  defaultOEM: OEM.DEFAULT,\n};\n","module.exports = {\n  /*\n   * default path for downloading *.traineddata\n   */\n  langPath: 'https://tessdata.projectnaptha.com/4.0.0',\n  /*\n   * Use BlobURL for worker script by default\n   * TODO: remove this option\n   *\n   */\n  workerBlobURL: true,\n  logger: () => {},\n};\n","const getId = require('./utils/getId');\n\nlet jobCounter = 0;\n\nmodule.exports = ({\n  id: _id,\n  action,\n  payload = {},\n}) => {\n  let id = _id;\n  if (typeof id === 'undefined') {\n    id = getId('Job', jobCounter);\n    jobCounter += 1;\n  }\n\n  return {\n    id,\n    action,\n    payload,\n  };\n};\n","const createJob = require('./createJob');\nconst { log } = require('./utils/log');\nconst getId = require('./utils/getId');\n\nlet schedulerCounter = 0;\n\nmodule.exports = () => {\n  const id = getId('Scheduler', schedulerCounter);\n  const workers = {};\n  const runningWorkers = {};\n  let jobQueue = [];\n\n  schedulerCounter += 1;\n\n  const getQueueLen = () => jobQueue.length;\n  const getNumWorkers = () => Object.keys(workers).length;\n\n  const dequeue = () => {\n    if (jobQueue.length !== 0) {\n      const wIds = Object.keys(workers);\n      for (let i = 0; i < wIds.length; i += 1) {\n        if (typeof runningWorkers[wIds[i]] === 'undefined') {\n          jobQueue[0](workers[wIds[i]]);\n          break;\n        }\n      }\n    }\n  };\n\n  const queue = (action, payload) => (\n    new Promise((resolve, reject) => {\n      const job = createJob({ action, payload });\n      jobQueue.push(async (w) => {\n        jobQueue.shift();\n        runningWorkers[w.id] = job;\n        try {\n          resolve(await w[action].apply(this, [...payload, job.id]));\n        } catch (err) {\n          reject(err);\n        } finally {\n          delete runningWorkers[w.id];\n          dequeue();\n        }\n      });\n      log(`[${id}]: Add ${job.id} to JobQueue`);\n      log(`[${id}]: JobQueue length=${jobQueue.length}`);\n      dequeue();\n    })\n  );\n\n  const addWorker = (w) => {\n    workers[w.id] = w;\n    log(`[${id}]: Add ${w.id}`);\n    log(`[${id}]: Number of workers=${getNumWorkers()}`);\n    dequeue();\n    return w.id;\n  };\n\n  const addJob = async (action, ...payload) => {\n    if (getNumWorkers() === 0) {\n      throw Error(`[${id}]: You need to have at least one worker before adding jobs`);\n    }\n    return queue(action, payload);\n  };\n\n  const terminate = async () => {\n    Object.keys(workers).forEach(async (wid) => {\n      await workers[wid].terminate();\n    });\n    jobQueue = [];\n  };\n\n  return {\n    addWorker,\n    addJob,\n    terminate,\n    getQueueLen,\n    getNumWorkers,\n  };\n};\n","const resolvePaths = require('./utils/resolvePaths');\nconst circularize = require('./utils/circularize');\nconst createJob = require('./createJob');\nconst { log } = require('./utils/log');\nconst getId = require('./utils/getId');\nconst { defaultOEM } = require('./constants/config');\nconst {\n  defaultOptions,\n  spawnWorker,\n  terminateWorker,\n  onMessage,\n  loadImage,\n  send,\n} = require('./worker/node');\n\nlet workerCounter = 0;\n\nmodule.exports = (_options = {}) => {\n  const id = getId('Worker', workerCounter);\n  const {\n    logger,\n    errorHandler,\n    ...options\n  } = resolvePaths({\n    ...defaultOptions,\n    ..._options,\n  });\n  const resolves = {};\n  const rejects = {};\n  let worker = spawnWorker(options);\n\n  workerCounter += 1;\n\n  const setResolve = (action, res) => {\n    resolves[action] = res;\n  };\n\n  const setReject = (action, rej) => {\n    rejects[action] = rej;\n  };\n\n  const startJob = ({ id: jobId, action, payload }) => (\n    new Promise((resolve, reject) => {\n      log(`[${id}]: Start ${jobId}, action=${action}`);\n      setResolve(action, resolve);\n      setReject(action, reject);\n      send(worker, {\n        workerId: id,\n        jobId,\n        action,\n        payload,\n      });\n    })\n  );\n\n  const load = jobId => (\n    startJob(createJob({\n      id: jobId, action: 'load', payload: { options },\n    }))\n  );\n\n  const loadLanguage = (langs = 'eng', jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'loadLanguage',\n      payload: { langs, options },\n    }))\n  );\n\n  const initialize = (langs = 'eng', oem = defaultOEM, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'initialize',\n      payload: { langs, oem },\n    }))\n  );\n\n  const setParameters = (params = {}, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'setParameters',\n      payload: { params },\n    }))\n  );\n\n  const recognize = async (image, opts = {}, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'recognize',\n      payload: { image: await loadImage(image), options: opts },\n    }))\n  );\n\n  const getPDF = (title = 'Tesseract OCR Result', textonly = false, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'getPDF',\n      payload: { title, textonly },\n    }))\n  );\n\n  const detect = async (image, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'detect',\n      payload: { image: await loadImage(image) },\n    }))\n  );\n\n  const terminate = async () => {\n    if (worker !== null) {\n      /*\n      await startJob(createJob({\n        id: jobId,\n        action: 'terminate',\n      }));\n      */\n      terminateWorker(worker);\n      worker = null;\n    }\n    return Promise.resolve();\n  };\n\n  onMessage(worker, ({\n    workerId, jobId, status, action, data,\n  }) => {\n    if (status === 'resolve') {\n      log(`[${workerId}]: Complete ${jobId}`);\n      let d = data;\n      if (action === 'recognize') {\n        d = circularize(data);\n      } else if (action === 'getPDF') {\n        d = Array.from({ ...data, length: Object.keys(data).length });\n      }\n      resolves[action]({ jobId, data: d });\n    } else if (status === 'reject') {\n      rejects[action](data);\n      if (errorHandler) {\n        errorHandler(data);\n      } else {\n        throw Error(data);\n      }\n    } else if (status === 'progress') {\n      logger(data);\n    }\n  });\n\n  return {\n    id,\n    worker,\n    setResolve,\n    setReject,\n    load,\n    loadLanguage,\n    initialize,\n    setParameters,\n    recognize,\n    getPDF,\n    detect,\n    terminate,\n  };\n};\n","/**\n *\n * Entry point for tesseract.js, should be the entry when bundling.\n *\n * @fileoverview entry point for tesseract.js\n * @author Kevin Kwok <antimatter15@gmail.com>\n * @author Guillermo Webster <gui@mit.edu>\n * @author Jerome Wu <jeromewus@gmail.com>\n */\nrequire('regenerator-runtime/runtime');\nconst createScheduler = require('./createScheduler');\nconst createWorker = require('./createWorker');\nconst Tesseract = require('./Tesseract');\nconst OEM = require('./constants/OEM');\nconst PSM = require('./constants/PSM');\nconst { setLogging } = require('./utils/log');\n\nmodule.exports = {\n  OEM,\n  PSM,\n  createScheduler,\n  createWorker,\n  setLogging,\n  ...Tesseract,\n};\n","/**\n * In the recognition result of tesseract, there\n * is a deep JSON object for details, it has around\n *\n * The result of dump.js is a big JSON tree\n * which can be easily serialized (for instance\n * to be sent from a webworker to the main app\n * or through Node's IPC), but we want\n * a (circular) DOM-like interface for walking\n * through the data.\n *\n * @fileoverview DOM-like interface for walking through data\n * @author Kevin Kwok <antimatter15@gmail.com>\n * @author Guillermo Webster <gui@mit.edu>\n * @author Jerome Wu <jeromewus@gmail.com>\n */\n\nmodule.exports = (page) => {\n  const blocks = [];\n  const paragraphs = [];\n  const lines = [];\n  const words = [];\n  const symbols = [];\n\n  page.blocks.forEach((block) => {\n    block.paragraphs.forEach((paragraph) => {\n      paragraph.lines.forEach((line) => {\n        line.words.forEach((word) => {\n          word.symbols.forEach((sym) => {\n            symbols.push({\n              ...sym, page, block, paragraph, line, word,\n            });\n          });\n          words.push({\n            ...word, page, block, paragraph, line,\n          });\n        });\n        lines.push({\n          ...line, page, block, paragraph,\n        });\n      });\n      paragraphs.push({\n        ...paragraph, page, block,\n      });\n    });\n    blocks.push({\n      ...block, page,\n    });\n  });\n\n  return {\n    ...page, blocks, paragraphs, lines, words, symbols,\n  };\n};\n","const isElectron = require('is-electron');\n\nmodule.exports = (key) => {\n  const env = {};\n\n  if (isElectron()) {\n    env.type = 'electron';\n  } else if (typeof window === 'object') {\n    env.type = 'browser';\n  } else if (typeof importScripts === 'function') {\n    env.type = 'webworker';\n  } else if (typeof process === 'object' && typeof require === 'function') {\n    env.type = 'node';\n  }\n\n  if (typeof key === 'undefined') {\n    return env;\n  }\n\n  return env[key];\n};\n","module.exports = (prefix, cnt) => (\n  `${prefix}-${cnt}-${Math.random().toString(16).slice(3, 8)}`\n);\n","let logging = false;\n\nexports.logging = logging;\n\nexports.setLogging = (_logging) => {\n  logging = _logging;\n};\n\nexports.log = (...args) => (logging ? console.log.apply(this, args) : null);\n","const isBrowser = require('./getEnvironment')('type') === 'browser';\nconst resolveURL = isBrowser ? require('resolve-url') : s => s; // eslint-disable-line\n\nmodule.exports = (options) => {\n  const opts = { ...options };\n  ['corePath', 'workerPath', 'langPath'].forEach((key) => {\n    if (typeof options[key] !== 'undefined') {\n      opts[key] = resolveURL(opts[key]);\n    }\n  });\n  return opts;\n};\n","const resolveURL = require('resolve-url');\nconst { version, dependencies } = require('../../../package.json');\nconst defaultOptions = require('../../constants/defaultOptions');\n\n/*\n * Default options for browser worker\n */\nmodule.exports = {\n  ...defaultOptions,\n  workerPath: (typeof process !== 'undefined' && process.env.TESS_ENV === 'development')\n    ? resolveURL(`/dist/worker.dev.js?nocache=${Math.random().toString(36).slice(3)}`)\n    : `https://unpkg.com/tesseract.js@v${version}/dist/worker.min.js`,\n  /*\n   * If browser doesn't support WebAssembly,\n   * load ASM version instead\n   */\n  corePath: `https://unpkg.com/tesseract.js-core@v${dependencies['tesseract.js-core'].substring(1)}/tesseract-core.${typeof WebAssembly === 'object' ? 'wasm' : 'asm'}.js`,\n};\n","/**\n *\n * Tesseract Worker adapter for browser\n *\n * @fileoverview Tesseract Worker adapter for browser\n * @author Kevin Kwok <antimatter15@gmail.com>\n * @author Guillermo Webster <gui@mit.edu>\n * @author Jerome Wu <jeromewus@gmail.com>\n */\nconst defaultOptions = require('./defaultOptions');\nconst spawnWorker = require('./spawnWorker');\nconst terminateWorker = require('./terminateWorker');\nconst onMessage = require('./onMessage');\nconst send = require('./send');\nconst loadImage = require('./loadImage');\n\nmodule.exports = {\n  defaultOptions,\n  spawnWorker,\n  terminateWorker,\n  onMessage,\n  send,\n  loadImage,\n};\n","const resolveURL = require('resolve-url');\n\n/**\n * readFromBlobOrFile\n *\n * @name readFromBlobOrFile\n * @function\n * @access private\n */\nconst readFromBlobOrFile = blob => (\n  new Promise((resolve, reject) => {\n    const fileReader = new FileReader();\n    fileReader.onload = () => {\n      resolve(fileReader.result);\n    };\n    fileReader.onerror = ({ target: { error: { code } } }) => {\n      reject(Error(`File could not be read! Code=${code}`));\n    };\n    fileReader.readAsArrayBuffer(blob);\n  })\n);\n\n/**\n * loadImage\n *\n * @name loadImage\n * @function load image from different source\n * @access private\n */\nconst loadImage = async (image) => {\n  let data = image;\n  if (typeof image === 'undefined') {\n    return 'undefined';\n  }\n\n  if (typeof image === 'string') {\n    // Base64 Image\n    if (/data:image\\/([a-zA-Z]*);base64,([^\"]*)/.test(image)) {\n      data = atob(image.split(',')[1])\n        .split('')\n        .map(c => c.charCodeAt(0));\n    } else {\n      const resp = await fetch(resolveURL(image));\n      data = await resp.arrayBuffer();\n    }\n  } else if (image instanceof HTMLElement) {\n    if (image.tagName === 'IMG') {\n      data = await loadImage(image.src);\n    }\n    if (image.tagName === 'VIDEO') {\n      data = await loadImage(image.poster);\n    }\n    if (image.tagName === 'CANVAS') {\n      await new Promise((resolve) => {\n        image.toBlob(async (blob) => {\n          data = await readFromBlobOrFile(blob);\n          resolve();\n        });\n      });\n    }\n  } else if (image instanceof File || image instanceof Blob) {\n    data = await readFromBlobOrFile(image);\n  }\n\n  return new Uint8Array(data);\n};\n\nmodule.exports = loadImage;\n","module.exports = (worker, handler) => {\n  worker.onmessage = ({ data }) => { // eslint-disable-line\n    handler(data);\n  };\n};\n","/**\n * send\n *\n * @name send\n * @function send packet to worker and create a job\n * @access public\n */\nmodule.exports = async (worker, packet) => {\n  worker.postMessage(packet);\n};\n","/**\n * spawnWorker\n *\n * @name spawnWorker\n * @function create a new Worker in browser\n * @access public\n */\nmodule.exports = ({ workerPath, workerBlobURL }) => {\n  let worker;\n  if (Blob && URL && workerBlobURL) {\n    const blob = new Blob([`importScripts(\"${workerPath}\");`], {\n      type: 'application/javascript',\n    });\n    worker = new Worker(URL.createObjectURL(blob));\n  } else {\n    worker = new Worker(workerPath);\n  }\n\n  return worker;\n};\n","/**\n * terminateWorker\n *\n * @name terminateWorker\n * @function terminate worker\n * @access public\n */\nmodule.exports = (worker) => {\n  worker.terminate();\n};\n","import { Component, OnInit, ViewChild, QueryList, ViewChildren, ElementRef, Inject, EventEmitter, AfterViewChecked, AfterContentChecked } from '@angular/core';\nimport {Subject, Observable, of} from 'rxjs';\nimport {WebcamImage, WebcamInitError, WebcamUtil} from 'ngx-webcam';\nimport { createWorker } from 'tesseract.js';\nimport { ImageCroppedEvent } from 'ngx-image-cropper';\nimport { CommonService } from '../services/common.service';\nimport { LoadingController, NavController, AngularDelegate, IonContent, ActionSheetController, IonButton } from '@ionic/angular';\nimport { Mark6Service } from '../services/mark6.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { DataVal } from '../models/DataVal';\nimport { MarkSixResult, M6CheckResult, copyInstance, clone, isNumberVal, hasDuplicates } from '../models/common.model';\nimport { ViewportScroller, DOCUMENT } from '@angular/common';\nimport { PageScrollService } from 'ngx-page-scroll-core';\n\n\n@Component({\n  selector: 'app-capcheck',\n  templateUrl: './capcheck.component.html',\n  styleUrls: ['./capcheck.component.scss']\n})\nexport class CapCheckComponent implements OnInit, AfterViewChecked {\n\n  @ViewChildren('inputNums')inputNums: QueryList<ElementRef>;\n  @ViewChild('fileButtonClick', {static: true})fileButton: ElementRef<HTMLElement>;\n  @ViewChild(IonContent, { static: true }) content: IonContent;\n\n  constructor(private commonService: CommonService, private mark6Service: Mark6Service,\n    private _router: Router, private _activeRoute: ActivatedRoute,\n    private navCtrl: NavController, private loadingController: LoadingController,\n    private dataVal: DataVal, private pageScrollService: PageScrollService,\n    private actionCtrl: ActionSheetController,\n    @Inject(DOCUMENT) private document: any) { }\n\n    private MAX_NUM = 49;\n\n  public screenWidth = window.innerWidth;\n\n  public resultList: Array<String> = new Array<String>();\n  public result = '-';\n  public result1 = '-';\n  public showError: false;\n  public analysisClick = false;\n  public subject: any;\n\n  // toggle webcam on/off\n  public showWebcam = true;\n  public allowCameraSwitch = true;\n  public multipleWebcamsAvailable = false;\n  public deviceId: string;\n  public videoOptions: MediaTrackConstraints = {\n    // width: {ideal: 1024},\n    // height: {ideal: 576}\n  };\n  public errors: WebcamInitError[] = [];\n\n  // latest snapshot\n  public webcamImage: WebcamImage = null;\n  public rotateVal: number = 0;\n\n  // webcam snapshot trigger\n  private trigger: Subject<void> = new Subject<void>();\n  // switch to next / previous / specific webcam; true/false: forward/backwards, string: deviceId\n  private nextWebcam: Subject<boolean|string> = new Subject<boolean|string>();\n\n  public ngOnInit(): void {\n    WebcamUtil.getAvailableVideoInputs()\n      .then((mediaDevices: MediaDeviceInfo[]) => {\n        this.multipleWebcamsAvailable = mediaDevices && mediaDevices.length > 1;\n      });\n  }\n\n  ionViewDidEnter() {\n    this.commonService.prepareInterstitialAds();\n  }\n\n  ngAfterViewChecked() {\n\n  }\n\n\n  public triggerSnapshot(): void {\n    this.trigger.next();\n  }\n\n  public toggleWebcam(): void {\n    this.showWebcam = !this.showWebcam;\n  }\n\n  public handleInitError(error: WebcamInitError): void {\n    this.errors.push(error);\n\n    if (!this.showError) {\n      this.commonService.showAlert('ERROR', 'iPhone(iOS) 用户請使用 Safari 開啟!');\n    }\n  }\n\n  public showNextWebcam(directionOrDeviceId: boolean|string): void {\n    // true => move forward through devices\n    // false => move backwards through devices\n    // string => move to device with given deviceId\n    this.nextWebcam.next(directionOrDeviceId);\n  }\n\n  public handleImage(webcamImage: WebcamImage): void {\n    console.info('received webcam image', webcamImage);\n    this.webcamImage = webcamImage;\n    this.theCamImage = this.webcamImage.imageAsDataUrl;\n  }\n\n  public cameraWasSwitched(deviceId: string): void {\n    console.log('active device: ' + deviceId);\n    this.deviceId = deviceId;\n  }\n\n  public get triggerObservable(): Observable<void> {\n    return this.trigger.asObservable();\n  }\n\n  public get nextWebcamObservable(): Observable<boolean|string> {\n    return this.nextWebcam.asObservable();\n  }\n\n  takePhoto() {\n    this.result = '-';\n    this.croppedImage = null;\n    this.trigger.next();\n  }\n\n\n  check() {\n    this.resultList.length = 0;\n    this.resultList = [];\n    if (this.croppedImage) {\n      this.doOCR();\n    } else {\n      this.commonService.showAlert('Error', '請先 [選取彩票]，然後裁剪彩票至只有投注號碼！');\n    }\n  }\n\n  doRotate() {\n    this.rotateVal = this.rotateVal + 1;\n\n    if (this.rotateVal == 4) {\n      this.rotateVal = 0;\n    }\n  }\n\n  reset() {\n    this.result = '-';\n    this.croppedImage = null;\n    this.resultList.length = 0;\n    this.resultList = [];\n    this.analysisClick = false;\n  }\n\n\n  theCamImage: any;\n  imageChangedEvent: any = '';\n  croppedImage: any = '';\n \n  fileChangeEvent(event: any): void {\n    this.reset();\n    this.imageChangedEvent = event;\n  }\n\n    imageCropped(event: ImageCroppedEvent) {\n        this.croppedImage = event.base64;\n    }\n    imageLoaded() {\n      //console.log('cropper image loaded');\n    }\n    cropperReady() {\n        // cropper ready\n        //console.log('cropper ready');\n    }\n    loadImageFailed() {\n        // show message\n        //console.log('cropper loadImageFailed');\n    }\n\n\n    async doOCR() {\n\n      const worker = createWorker({\n        logger: m => console.log(m)\n      });\n\n      \n      let loading = await this.loadingController.create({\n        message: '號碼辨識中...',\n        spinner: 'circles'\n      });\n  \n      loading.present().then(() => {\n        worker.load().then(() => {\n          worker.loadLanguage('eng').then(() => {\n            worker.initialize('eng').then(() => {\n              worker.setParameters({\n                  tessedit_char_whitelist: '0123456789+/',\n              }).then(() => {\n                worker.recognize(this.croppedImage).then((resultData) => {\n                  //console.log(resultData.data.text);\n                  this.result = resultData.data.text;\n                  worker.terminate();\n                  /*\n                  this.doCheck(loading).subscribe((data) => {\n                    console.log('CHECK RESULT: ' + JSON.stringify(data));\n                    this.result1 = JSON.stringify(data);\n                    loading.dismiss();\n                  });\n                  */\n\n                 if (this.result != null && this.result.length > 0) {\n\n                  const nums = this.result.split('/');\n\n                  // tslint:disable-next-line: forin\n                  for (const n in nums) {\n                    const theNum = nums[n].replace(/(\\r\\n|\\n|\\r)/gm, '').replace(/\\s/g, '');\n                    this.resultList.push(theNum);\n                  }\n                }\n\n                  loading.dismiss();\n\n                  setTimeout(() => {this.content.scrollToBottom();}, 300);\n\n                });\n              });\n            });\n          });\n        });\n      }).finally(() => {\n\n      });\n\n  }\n\n \n\n\n    async doCheck() {\n      let finalResult: Array<M6CheckResult>;\n\n      finalResult = new Array<M6CheckResult>();\n\n\n      if (this.resultList.length !== 0) {\n        let loading = await this.loadingController.create({\n          message: '核對中...',\n          spinner: 'circles'\n        });\n\n        loading.present().then(() => {\n\n          this.mark6Service.getLast30().subscribe(result30 => {\n            if (result30 != null && result30.length > 0) {\n\n\n              let inUums: ElementRef[] = this.inputNums.toArray();\n\n              this.resultList.length = 0;\n              this.resultList = [];\n\n              // tslint:disable-next-line: forin\n              for(const inu in inUums) {\n                this.resultList.push(inUums[inu].nativeElement.value);\n              }\n\n\n              //const nums = this.result.split('/');\n\n              // tslint:disable-next-line: forin\n              //for (const n in nums) {\n              for (const n in this.resultList) {\n                let bNoVal = Number(n) + 1;\n\n                //const theNum = nums[n].replace(/(\\r\\n|\\n|\\r)/gm, '');\n                const theNum = this.resultList[n].replace(/(\\r\\n|\\n|\\r)/gm, '');\n\n                const bankerList = theNum.split('+');\n\n                let selectedNumber = new Array<number>();\n\n                // tslint:disable-next-line: forin\n                for (const bNo in bankerList) {\n                  // console.log(Number(bankerList[bNo]));\n\n                  const theBNumber = Number(bankerList[bNo]);\n\n                  if (theBNumber > this.MAX_NUM || theBNumber <= 0 || !isNumberVal(bankerList[bNo])) {\n                    this.commonService.showAlert('ERROR', `第 ${bNoVal} 注含有錯誤號碼，請修正！`);\n                    loading.dismiss();\n\n                    finalResult.length = 0;\n                    finalResult = [];\n\n                    return;\n                  } else {\n                    selectedNumber.push(theBNumber);\n                  }\n                }\n\n                if (selectedNumber.length < 6) {\n                  this.commonService.showAlert('Error', `第 ${bNoVal} 注最少要有6個字，請修正！`);\n                  loading.dismiss();\n                  finalResult.length = 0;\n                  finalResult = [];\n                  return;\n                }\n\n                if (hasDuplicates(selectedNumber)) {\n                  this.commonService.showAlert('Error', `第 ${bNoVal} 注含有重覆號碼，請修正！`);\n                  loading.dismiss();\n                  finalResult.length = 0;\n                  finalResult = [];\n                  return;\n                }\n\n\n                if (selectedNumber.length > this.MAX_NUM) {\n                  this.commonService.showAlert('Error', `第 {bNoVal} 注不能多於 ${this.MAX_NUM} 個字，請修正！`);\n                  loading.dismiss();\n                  finalResult.length = 0;\n                  finalResult = [];\n                  return;\n                }\n\n                let iCheckResult = new M6CheckResult();\n                iCheckResult.numbers = theNum;\n\n                let matchedResults = new Array<MarkSixResult>();\n\n                  for (const tmpResult30 of result30) {\n                    let iResult: MarkSixResult = new MarkSixResult();\n                    iResult = JSON.parse(JSON.stringify(tmpResult30));\n\n                    let matchCount = 0;\n\n                    for (const selNo of selectedNumber) {\n                      if (selNo === iResult.number1) {\n                        iResult.matched[0] = true;\n\n                        matchCount++;\n                      } else if (selNo === iResult.number2) {\n                        iResult.matched[1] = true;\n\n                        matchCount++;\n                      } else if (selNo === iResult.number3) {\n                        iResult.matched[2] = true;\n\n                        matchCount++;\n                      } else if (selNo === iResult.number4) {\n                        iResult.matched[3] = true;\n\n                        matchCount++;\n                      } else if (selNo === iResult.number5) {\n                        iResult.matched[4] = true;\n\n                        matchCount++;\n                      } else if (selNo === iResult.number6) {\n                        iResult.matched[5] = true;\n\n                        matchCount++;\n                      }\n\n                      if (selNo === iResult.numberX) {\n                        iResult.matched[6] = true;\n                        matchCount = matchCount + 0.5;\n                      }\n\n                    }\n\n                    if (matchCount >= 3) {\n                      matchedResults.push(iResult);\n                    }\n\n                  }\n\n                  iCheckResult.matchedResults = matchedResults;\n\n                  finalResult.push(iCheckResult);\n\n                }\n\n                this.result1 = JSON.stringify(finalResult);\n\n                loading.dismiss();\n\n                if (finalResult.length >= 1) {\n                  this.dataVal.storage = finalResult;\n                  this.navCtrl.navigateForward(['capcheck/result']);\n                } else {\n                  this.commonService.showAlert('Info', '閣下的彩票在最近30期沒有中獎');\n                }\n              } else {\n                  //console.log('>>>> no result:::');\n                  loading.dismiss();\n                  finalResult.length = 0;\n                  finalResult = [];\n\n                  return;\n              }\n          }, error => {\n              loading.dismiss();\n              console.log(error);\n              finalResult.length = 0;\n              finalResult = [];\n\n              return;\n          });\n        });\n      } else {\n         //console.log('ELSE::::' + JSON.stringify(finalResult));\n         this.commonService.showAlert('Error', '請先 [選取彩票]，然後裁剪彩票至只有投注號碼！');\n         return;\n      }\n    }\n\n\n    openActionSheet() {\n      this.actionCtrl.create({\n        buttons: [\n          {\n            text: '選取彩票',\n            icon: 'camera',\n            handler: () => {\n              const el: HTMLElement = document.getElementById('fileButtonClick') as HTMLElement;\n              el.click();\n            }\n          },\n          {\n            text: '辨識號碼',\n            icon: 'barcode',\n            handler: () => {\n              this.check();\n            }\n          },\n          {\n            text: '核對彩票',\n            icon: 'contract',\n            handler: () => {\n              this.commonService.showInterstitialAds();\n              this.doCheck();\n            }\n          },\n          {\n            text: '旋轉',\n            icon: 'return-up-forward-outline',\n            handler: () => {\n              this.doRotate();\n            }\n          },\n          {\n            text: \"取消\",\n            role: 'cancel'\n          }\n        ]\n      }).then(ac => ac.present());\n    }\n\n}\n","<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-menu-button></ion-menu-button>\n    </ion-buttons>\n    <ion-buttons slot=\"end\"  class=\"ion-padding\">\n        <!--\n        <ion-button (click)=\"reset()\">重選</ion-button>\n        -->\n        <!--\n        <ion-button (click)=\"check()\">彩票號碼辨識</ion-button>\n        -->\n        <ion-button (click)=\"openActionSheet()\"><ion-icon name=\"chevron-down-circle-outline\"></ion-icon></ion-button>\n    </ion-buttons>    \n    <ion-title>\n      一拍即對\n    </ion-title> \n  </ion-toolbar>\n</ion-header>\n\n  <ion-content class=\"ion-padding\">\n    \n\n    <div id='contentID' style=\"text-align: center;\">\n      <label for=\"m6pic\" style=\"color: blue;\">1.[選取/拍照彩票]，2.剪裁到只有號碼部份，3.[辨識號碼]，4.[核對彩票]！<br/><span style=\"color: green\">(暫不支持核對膽拖彩票)</span></label>\n      <!--\n      <input id=\"m6pic\" type=\"file\" (change)=\"fileChangeEvent($event)\"/>\n      -->\n      <br/>\n        <ion-button #fileButtonClick id=\"fileButtonClick\" (click)=\"fileInput.click()\" color=\"warning\" style=\"display: none;\">按這裏選取你的彩票</ion-button>\n        <input #fileInput type=\"file\" (change)=\"fileChangeEvent($event)\" style=\"display:none;\" />\n      \n      <!--\n      \n      <webcam [height]=\"200\" [width]=\"screenWidth\" [trigger]=\"triggerObservable\" (imageCapture)=\"handleImage($event)\" *ngIf=\"showWebcam\"\n      [allowCameraSwitch]=\"allowCameraSwitch\" [switchCamera]=\"nextWebcamObservable\"\n      [videoOptions]=\"videoOptions\"\n      [imageQuality]=\"1\"\n      (cameraSwitched)=\"cameraWasSwitched($event)\"\n      (initError)=\"handleInitError($event)\">      \n      </webcam>\n      \n        \n      <div class=\"row\">\n        <div class=\"col text-center\">\n          <ion-button (click)=\"takePhoto()\" style=\"text-align: center;\">拍照</ion-button> \n        </div>\n      </div>\n      -->\n      <div class=\"cropper-container\">        \n      <image-cropper\n        [imageChangedEvent]=\"imageChangedEvent\"\n        [maintainAspectRatio]=\"false\"\n        [cropperMinHeight]=\"30\"\n        format=\"png\"\n        (imageCropped)=\"imageCropped($event)\"\n        (imageLoaded)=\"imageLoaded()\"\n        (cropperReady)=\"cropperReady()\"\n        (loadImageFailed)=\"loadImageFailed()\"        \n        [canvasRotation]=\"rotateVal\"\n        style=\"width: 300px; height: 50x; text-align: left;\"\n      ></image-cropper>\n      </div>\n      \n      <img [src]=\"croppedImage\"/>\n\n      <br/>\n      <ion-list *ngIf=\"resultList.length !== 0\">        \n        <ion-item *ngFor=\"let num of resultList; index as i; last as l\">\n                <ion-row style=\"vertical-align: middle; text-align: center; width: 100%;\">\n                    <ion-col style=\"width: 100%;\">                        \n                        <textarea #inputNums id=\"num{{i}}\" autosize style=\"width: 100%; background-color: navajowhite;\">{{num}}</textarea>\n                    </ion-col>\n                </ion-row>\n        </ion-item>\n      </ion-list>\n      \n      <ion-text color=\"primary\" *ngIf=\"resultList.length !== 0\">\n        共 <strong>{{resultList.length}}</strong> 注\u0013\n      </ion-text>\n      <ion-text color=\"danger\" *ngIf=\"resultList.length !== 0\">\n        若有號碼辨識有誤，請自行修正！\n      </ion-text>\n      <!--\n      <br/>      \n      <ion-button #resultCheckBtn (click)=\"doCheck()\" color=\"success\" *ngIf=\"resultList.length !== 0\">\n        按這裏確定上面號碼正確 (共 <span color='red'>{{resultList.length}}</span> 注\u0013)\n      </ion-button>\n      -->\n      <div class=\"theEnd\"></div>\n    </div>\n    \n</ion-content>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { CapCheckComponent } from './capcheck.component';\nimport { WebcamModule } from 'ngx-webcam';\nimport { ImageCropperModule } from 'ngx-image-cropper';\nimport { TextareaAutosizeModule } from 'ngx-textarea-autosize';\nimport { CapCheckResultComponent } from './capcheckresult/capcheckresult.component';\nimport { CapcheckListComponent } from './capchecklist/capchecklist.component';\nimport { NgxPageScrollCoreModule } from 'ngx-page-scroll-core';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    WebcamModule,\n    ImageCropperModule,\n    TextareaAutosizeModule,\n    NgxPageScrollCoreModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: CapCheckComponent\n      },\n      {\n        path: 'result',\n        component: CapCheckResultComponent\n      },\n      {\n        path: 'list',\n        component: CapcheckListComponent\n      }\n    ])\n  ],\n  declarations: [CapCheckComponent, CapCheckResultComponent, CapcheckListComponent]\n})\nexport class CapCheckComponentModule {}\n","<ion-header>\n  <ion-toolbar>        \n      <ion-buttons slot=\"start\">\n          <ion-back-button [text]=\"\"></ion-back-button>\n      </ion-buttons>\n      <ion-title>\n          最近30期中獎結果\n      </ion-title>    \n</ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <ion-row style=\"vertical-align: middle; text-align: center; background-color: burlywood;\">\n    <ion-col>\n      <ion-label class=\"wrap\">{{m6results.numbers}}</ion-label>\n    </ion-col>                   \n</ion-row>\n    \n    <ion-list>        \n        <ion-item *ngFor=\"let m6result of m6results.matchedResults; index as i; last as l\"  (click)=\"showDetail(m6result)\">\n            <ion-grid>\n                <ion-row style=\"vertical-align: middle; text-align: center;\">\n                    <ion-col>\n                          <img src=\"./assets/images/no_{{m6result.number1}}.png\" class=\"ball\" *ngIf=\"m6result.matched[0]\"/>\n                          <img src=\"./assets/images/no_{{m6result.number1}}x.png\" class=\"ball\" *ngIf=\"!m6result.matched[0]\"/>\n                    </ion-col>\n                    <ion-col>\n                          <img src=\"./assets/images/no_{{m6result.number2}}.png\" class=\"ball\" *ngIf=\"m6result.matched[1]\"/>\n                          <img src=\"./assets/images/no_{{m6result.number2}}x.png\" class=\"ball\" *ngIf=\"!m6result.matched[1]\"/>\n                    </ion-col>\n                    <ion-col>\n                          <img src=\"./assets/images/no_{{m6result.number3}}.png\" class=\"ball\" *ngIf=\"m6result.matched[2]\"/>\n                          <img src=\"./assets/images/no_{{m6result.number3}}x.png\" class=\"ball\" *ngIf=\"!m6result.matched[2]\"/>\n                    </ion-col>\n                    <ion-col>\n                          <img src=\"./assets/images/no_{{m6result.number4}}.png\" class=\"ball\" *ngIf=\"m6result.matched[3]\"/>\n                          <img src=\"./assets/images/no_{{m6result.number4}}x.png\" class=\"ball\" *ngIf=\"!m6result.matched[3]\"/>\n                    </ion-col>\n                    <ion-col>\n                          <img src=\"./assets/images/no_{{m6result.number5}}.png\" class=\"ball\" *ngIf=\"m6result.matched[4]\"/>\n                          <img src=\"./assets/images/no_{{m6result.number5}}x.png\" class=\"ball\" *ngIf=\"!m6result.matched[4]\"/>\n                    </ion-col>\n                    <ion-col>\n                          <img src=\"./assets/images/no_{{m6result.number6}}.png\" class=\"ball\" *ngIf=\"m6result.matched[5]\"/>\n                          <img src=\"./assets/images/no_{{m6result.number6}}x.png\" class=\"ball\" *ngIf=\"!m6result.matched[5]\"/>\n                    </ion-col>\n                    <ion-col style=\"margin-top: 5px\">\n                        +\n                    </ion-col>\n                    <ion-col>\n                          <img src=\"./assets/images/no_{{m6result.numberX}}.png\" class=\"ball\" *ngIf=\"m6result.matched[6]\"/>\n                          <img src=\"./assets/images/no_{{m6result.numberX}}x.png\" class=\"ball\" *ngIf=\"!m6result.matched[6]\"/>\n                    </ion-col>\n                </ion-row>\n\n                <ion-row>\n                  <ion-col size=\"4\">\n                      <ion-label>{{m6result.drawNo}}</ion-label>\n                  </ion-col>\n                  <ion-col size=\"8\">\n                      <ion-label>{{toDate(m6result.drawDate)}}</ion-label>\n                  </ion-col>\n                </ion-row>\n            </ion-grid>\n        </ion-item>\n  </ion-list>\n</ion-content>\n","import { Component, OnInit } from '@angular/core';\nimport { DataVal } from 'src/app/models/DataVal';\nimport { CommonService } from 'src/app/services/common.service';\nimport { Mark6Service } from 'src/app/services/mark6.service';\nimport { Router } from '@angular/router';\nimport { LoadingController, NavController } from '@ionic/angular';\nimport { MarkSixResult, M6CheckResult } from 'src/app/models/common.model';\n\n@Component({\n  selector: 'app-capchecklist',\n  templateUrl: './capchecklist.component.html',\n  styleUrls: ['./capchecklist.component.scss']\n})\nexport class CapcheckListComponent implements OnInit {\n\n  m6results: M6CheckResult;\n\n  constructor(private dataVal: DataVal,\n    private commonService: CommonService, private m6service: Mark6Service, private _router: Router,\n    private navCtrl: NavController, private loadingController: LoadingController) { }\n\n  ngOnInit() {\n    this.m6results = this.dataVal.storage;\n\n    if (this.m6results == null) {\n      this.navCtrl.navigateRoot('/404');\n    }\n  }\n\n\n  async showDetail(val) {\n    // console.log(val);\n    // this._router.navigate(['last30/detail' , val]);\n\n    let loading = await this.loadingController.create({\n      message: 'Loading',\n      spinner: 'circles'\n    });\n\n    loading.present().then(() => {\n      this.navCtrl.navigateForward(['last30/detail' , val]);\n      loading.dismiss();\n    });\n  }\n\n  toDate(val) {\n    if (val != null) {\n      return this.m6service.toDateStr(Number(val));\n    } else {\n      return '';\n    }\n    // return this.m6service.toDateStr(Number(val));\n  }\n}\n","<ion-header>\n  <ion-toolbar>        \n      <ion-buttons slot=\"start\">          \n          <ion-back-button [text]=\"\"></ion-back-button>\n      </ion-buttons>\n      <ion-title>\n          最近30期中獎摘要\n      </ion-title>    \n</ion-toolbar>\n</ion-header>\n\n<ion-content> \n    <ion-list>        \n        <ion-item *ngFor=\"let m6result of results; index as i; last as l\"  (click)=\"showDetail(m6result)\" detail-push>\n            <ion-grid>\n                <ion-row style=\"vertical-align: middle; text-align: left; background-color: burlywood;\">\n                    <ion-col>\n                      <ion-label class=\"wrap\">{{m6result.numbers}}</ion-label>\n                    </ion-col>                   \n                </ion-row>\n\n                <ion-row style=\"background-color: lightcoral; vertical-align: middle;\">\n                    <ion-col style=\"vertical-align: middle;\">                                        \n                        <ion-label style=\"vertical-align: middle;\">中獎期數： {{m6result.matchedResults.length}}</ion-label>\n                    </ion-col>  \n                    <ion-col style=\"text-align: right; vertical-align: middle;\">\n                        <ion-icon name=\"arrow-dropright\" *ngIf=\"m6result.matchedResults.length !== 0\"></ion-icon>\n                    </ion-col>                \n                </ion-row>\n            </ion-grid>\n        </ion-item>\n  </ion-list>  \n</ion-content>\n","import { Component, OnInit } from '@angular/core';\nimport { DataVal } from 'src/app/models/DataVal';\nimport { Mark6Service } from 'src/app/services/mark6.service';\nimport { Router } from '@angular/router';\nimport { LoadingController, NavController } from '@ionic/angular';\nimport { CommonService } from 'src/app/services/common.service';\nimport { M6CheckResult, MarkSixResult } from 'src/app/models/common.model';\n\n@Component({\n  selector: 'app-capcheckresult',\n  templateUrl: './capcheckresult.component.html',\n  styleUrls: ['./capcheckresult.component.scss']\n})\nexport class CapCheckResultComponent implements OnInit {\n\n  public results: M6CheckResult[];\n\n  constructor(private dataVal: DataVal,\n    private commonService: CommonService, private m6service: Mark6Service, private _router: Router,\n    private navCtrl: NavController, private loadingController: LoadingController) { }\n\n  ngOnInit() {\n    let tmpResults: M6CheckResult[] = this.dataVal.storage;\n\n    this.results = [];\n\n    // tslint:disable-next-line: forin\n    for (const iResult in tmpResults) {\n      let iRes = tmpResults[iResult];\n      iRes.numbers = iRes.numbers.replace(/([+])/g, ' $1 ');\n\n      this.results.push(iRes);\n    }\n  }\n\n  showDetail(m6Result: M6CheckResult) {\n    if (m6Result.matchedResults.length > 0) {\n      this.dataVal.storage = m6Result;\n      this.navCtrl.navigateForward(['capcheck/list']);\n    }\n  }\n\n}\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var defineProperty = require(\"./defineProperty.js\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread2;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose.js\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n"],"sourceRoot":"webpack:///"}