(self.webpackChunkHKM6=self.webpackChunkHKM6||[]).push([[1264],{5504:function(t){t.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}},9036:function(t,e,r){var i,n;void 0===(n="function"==typeof(i=function(){return function(){var t=arguments.length;if(0===t)throw new Error("resolveUrl requires at least one argument; got none.");var e=document.createElement("base");if(e.href=arguments[0],1===t)return e.href;var r=document.getElementsByTagName("head")[0];r.insertBefore(e,r.firstChild);for(var i,n=document.createElement("a"),o=1;o<t;o++)n.href=arguments[o],e.href=i=n.href;return r.removeChild(e),i}})?i.call(e,r,e,t):i)||(t.exports=n)},4645:function(t,e,r){var i=r(8774),n=r(1052).default,o=r(7747);t.exports={recognize:function(){var t=n(i.mark(function t(e,r,s){var a;return i.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=o(s),t.next=3,a.load();case 3:return t.next=5,a.loadLanguage(r);case 5:return t.next=7,a.initialize(r);case 7:return t.abrupt("return",a.recognize(e).finally(n(i.mark(function t(){return i.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.terminate();case 2:case"end":return t.stop()}},t)}))));case 8:case"end":return t.stop()}},t)}));return function(e,r,i){return t.apply(this,arguments)}}(),detect:function(){var t=n(i.mark(function t(e,r){var s;return i.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=o(r),t.next=3,s.load();case 3:return t.next=5,s.loadLanguage("osd");case 5:return t.next=7,s.initialize("osd");case 7:return t.abrupt("return",s.detect(e).finally(n(i.mark(function t(){return i.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.terminate();case 2:case"end":return t.stop()}},t)}))));case 8:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}()}},85:function(t){t.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},1840:function(t){t.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12"}},7925:function(t,e,r){var i=r(85);t.exports={defaultOEM:i.DEFAULT}},2709:function(t){t.exports={langPath:"https://tessdata.projectnaptha.com/4.0.0",workerBlobURL:!0,logger:function(){}}},1740:function(t,e,r){var i=r(6012),n=0;t.exports=function(t){var e=t.action,r=t.payload,o=void 0===r?{}:r,s=t.id;return void 0===s&&(s=i("Job",n),n+=1),{id:s,action:e,payload:o}}},2818:function(t,e,r){var i=r(8774),n=r(9545).default,o=r(1052).default,s=this,a=r(1740),c=r(253).log,l=r(6012),p=0;t.exports=function(){var t=l("Scheduler",p),e={},r={},h=[];p+=1;var u=function(){return Object.keys(e).length},g=function(){if(0!==h.length)for(var t=Object.keys(e),i=0;i<t.length;i+=1)if(void 0===r[t[i]]){h[0](e[t[i]]);break}},f=function(e,l){return new Promise(function(p,u){var f=a({action:e,payload:l});h.push(function(){var t=o(i.mark(function t(o){return i.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return h.shift(),r[o.id]=f,t.prev=2,t.t0=p,t.next=6,o[e].apply(s,[].concat(n(l),[f.id]));case 6:t.t1=t.sent,(0,t.t0)(t.t1),t.next=13;break;case 10:t.prev=10,t.t2=t.catch(2),u(t.t2);case 13:return t.prev=13,delete r[o.id],g(),t.finish(13);case 17:case"end":return t.stop()}},t,null,[[2,10,13,17]])}));return function(e){return t.apply(this,arguments)}}()),c("[".concat(t,"]: Add ").concat(f.id," to JobQueue")),c("[".concat(t,"]: JobQueue length=").concat(h.length)),g()})};return{addWorker:function(r){return e[r.id]=r,c("[".concat(t,"]: Add ").concat(r.id)),c("[".concat(t,"]: Number of workers=").concat(u())),g(),r.id},addJob:function(){var e=o(i.mark(function e(r){var n,o,s,a=arguments;return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==u()){e.next=2;break}throw Error("[".concat(t,"]: You need to have at least one worker before adding jobs"));case 2:for(n=a.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=a[s];return e.abrupt("return",f(r,o));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),terminate:function(){var t=o(i.mark(function t(){return i.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object.keys(e).forEach(function(){var t=o(i.mark(function t(r){return i.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e[r].terminate();case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),h=[];case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),getQueueLen:function(){return h.length},getNumWorkers:u}}},7747:function(t,e,r){var i=r(8774),n=r(1052).default,o=r(4539).default,s=r(8764).default,a=r(8623),c=r(4897),l=r(1740),p=r(253).log,h=r(6012),u=r(7925).defaultOEM,g=r(4034),f=g.defaultOptions,d=g.spawnWorker,m=g.terminateWorker,v=g.onMessage,x=g.loadImage,y=g.send,w=0;t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=h("Worker",w),r=a(o(o({},f),t)),g=r.logger,b=r.errorHandler,S=s(r,["logger","errorHandler"]),M={},k={},C=d(S);w+=1;var O=function(t,e){M[t]=e},A=function(t,e){k[t]=e},I=function(t){var r=t.id,i=t.action,n=t.payload;return new Promise(function(t,o){p("[".concat(e,"]: Start ").concat(r,", action=").concat(i)),O(i,t),A(i,o),y(C,{workerId:e,jobId:r,action:i,payload:n})})},_=function(t){return I(l({id:t,action:"load",payload:{options:S}}))},z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",e=arguments.length>1?arguments[1]:void 0;return I(l({id:e,action:"loadLanguage",payload:{langs:t,options:S}}))},Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,r=arguments.length>2?arguments[2]:void 0;return I(l({id:r,action:"initialize",payload:{langs:t,oem:e}}))},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return I(l({id:e,action:"setParameters",payload:{params:t}}))},T=function(){var t=n(i.mark(function t(e){var r,n,o=arguments;return i.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n=o.length>2?o[2]:void 0,t.t0=I,t.t1=l,t.t2=n,t.next=7,x(e);case 7:return t.t3=t.sent,t.t4=r,t.t5={image:t.t3,options:t.t4},t.t6={id:t.t2,action:"recognize",payload:t.t5},t.t7=(0,t.t1)(t.t6),t.abrupt("return",(0,t.t0)(t.t7));case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Tesseract OCR Result",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;return I(l({id:r,action:"getPDF",payload:{title:t,textonly:e}}))},L=function(){var t=n(i.mark(function t(e,r){return i.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=I,t.t1=l,t.t2=r,t.next=5,x(e);case 5:return t.t3=t.sent,t.t4={image:t.t3},t.t5={id:t.t2,action:"detect",payload:t.t4},t.t6=(0,t.t1)(t.t5),t.abrupt("return",(0,t.t0)(t.t6));case 10:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}(),E=function(){var t=n(i.mark(function t(){return i.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return null!==C&&(m(C),C=null),t.abrupt("return",Promise.resolve());case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return v(C,function(t){var e=t.jobId,r=t.status,i=t.action,n=t.data;if("resolve"===r){p("[".concat(t.workerId,"]: Complete ").concat(e));var s=n;"recognize"===i?s=c(n):"getPDF"===i&&(s=Array.from(o(o({},n),{},{length:Object.keys(n).length}))),M[i]({jobId:e,data:s})}else if("reject"===r){if(k[i](n),!b)throw Error(n);b(n)}else"progress"===r&&g(n)}),{id:e,worker:C,setResolve:O,setReject:A,load:_,loadLanguage:z,initialize:Z,setParameters:P,recognize:T,getPDF:R,detect:L,terminate:E}}},8917:function(t,e,r){var i=r(4539).default;r(5579);var n=r(2818),o=r(7747),s=r(4645),a=r(85),c=r(1840),l=r(253);t.exports=i({OEM:a,PSM:c,createScheduler:n,createWorker:o,setLogging:l.setLogging},s)},4897:function(t,e,r){var i=r(4539).default;t.exports=function(t){var e=[],r=[],n=[],o=[],s=[];return t.blocks.forEach(function(a){a.paragraphs.forEach(function(e){e.lines.forEach(function(r){r.words.forEach(function(n){n.symbols.forEach(function(o){s.push(i(i({},o),{},{page:t,block:a,paragraph:e,line:r,word:n}))}),o.push(i(i({},n),{},{page:t,block:a,paragraph:e,line:r}))}),n.push(i(i({},r),{},{page:t,block:a,paragraph:e}))}),r.push(i(i({},e),{},{page:t,block:a}))}),e.push(i(i({},a),{},{page:t}))}),i(i({},t),{},{blocks:e,paragraphs:r,lines:n,words:o,symbols:s})}},4576:function(t,e,r){var i=r(5504);t.exports=function(t){var e={};return i()?e.type="electron":"object"==typeof window?e.type="browser":"function"==typeof importScripts?e.type="webworker":"object"==typeof process&&(e.type="node"),void 0===t?e:e[t]}},6012:function(t){t.exports=function(t,e){return"".concat(t,"-").concat(e,"-").concat(Math.random().toString(16).slice(3,8))}},253:function(t,e){var r=this,i=!1;e.logging=i,e.setLogging=function(t){i=t},e.log=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i?console.log.apply(r,e):null}},8623:function(t,e,r){var i=r(4539).default,n="browser"===r(4576)("type")?r(9036):function(t){return t};t.exports=function(t){var e=i({},t);return["corePath","workerPath","langPath"].forEach(function(r){void 0!==t[r]&&(e[r]=n(e[r]))}),e}},6379:function(t,e,r){var i=r(4539).default,n=r(9036),o=r(2413),s=o.version,a=o.dependencies,c=r(2709);t.exports=i(i({},c),{},{workerPath:"undefined"!=typeof process&&"development"===process.env.TESS_ENV?n("/dist/worker.dev.js?nocache=".concat(Math.random().toString(36).slice(3))):"https://unpkg.com/tesseract.js@v".concat(s,"/dist/worker.min.js"),corePath:"https://unpkg.com/tesseract.js-core@v".concat(a["tesseract.js-core"].substring(1),"/tesseract-core.").concat("object"==typeof WebAssembly?"wasm":"asm",".js")})},4034:function(t,e,r){var i=r(6379),n=r(7262),o=r(8229),s=r(8081),a=r(9514),c=r(4161);t.exports={defaultOptions:i,spawnWorker:n,terminateWorker:o,onMessage:s,send:a,loadImage:c}},4161:function(t,e,r){var i=r(8774),n=r(1052).default,o=r(9036),s=function(t){return new Promise(function(e,r){var i=new FileReader;i.onload=function(){e(i.result)},i.onerror=function(t){r(Error("File could not be read! Code=".concat(t.target.error.code)))},i.readAsArrayBuffer(t)})},a=function(){var t=n(i.mark(function t(e){var r,c;return i.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e,void 0!==e){t.next=3;break}return t.abrupt("return","undefined");case 3:if("string"!=typeof e){t.next=16;break}if(!/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)){t.next=8;break}r=atob(e.split(",")[1]).split("").map(function(t){return t.charCodeAt(0)}),t.next=14;break;case 8:return t.next=10,fetch(o(e));case 10:return c=t.sent,t.next=13,c.arrayBuffer();case 13:r=t.sent;case 14:t.next=34;break;case 16:if(!(e instanceof HTMLElement)){t.next=30;break}if("IMG"!==e.tagName){t.next=21;break}return t.next=20,a(e.src);case 20:r=t.sent;case 21:if("VIDEO"!==e.tagName){t.next=25;break}return t.next=24,a(e.poster);case 24:r=t.sent;case 25:if("CANVAS"!==e.tagName){t.next=28;break}return t.next=28,new Promise(function(t){e.toBlob(function(){var e=n(i.mark(function e(n){return i.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(n);case 2:r=e.sent,t();case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())});case 28:t.next=34;break;case 30:if(!(e instanceof File||e instanceof Blob)){t.next=34;break}return t.next=33,s(e);case 33:r=t.sent;case 34:return t.abrupt("return",new Uint8Array(r));case 35:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();t.exports=a},8081:function(t){t.exports=function(t,e){t.onmessage=function(t){e(t.data)}}},9514:function(t,e,r){var i=r(8774),n=r(1052).default;t.exports=function(){var t=n(i.mark(function t(e,r){return i.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.postMessage(r);case 1:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}()},7262:function(t){t.exports=function(t){var e,r=t.workerPath;if(Blob&&URL&&t.workerBlobURL){var i=new Blob(['importScripts("'.concat(r,'");')],{type:"application/javascript"});e=new Worker(URL.createObjectURL(i))}else e=new Worker(r);return e}},8229:function(t){t.exports=function(t){t.terminate()}},1264:function(t,e,r){"use strict";r.r(e),r.d(e,{CapCheckComponentModule:function(){return at}});var i=r(1116),n=r(1462),o=r(8809),s=r(9185),a=r(3559),c=r(1112),l=r(1998),p=r(5614),h=function(){function t(){(0,c.Z)(this,t)}return(0,l.Z)(t,null,[{key:"getAvailableVideoInputs",value:function(){return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?new Promise(function(t,e){navigator.mediaDevices.enumerateDevices().then(function(e){t(e.filter(function(t){return"videoinput"===t.kind}))}).catch(function(t){e(t.message||t)})}):Promise.reject("enumerateDevices() not supported.")}}]),t}(),u=function(){var t=function t(){(0,c.Z)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[i.ez]]}),t}(),g=r(8917),f=r(5234),d=r(5365),m=r(4545),v=r(257),x=function(){function t(e){(0,c.Z)(this,t),this.startScrollPosition=0,this.interruptListenersAttached=!1,this.timer=null,e.scrollViews&&0!==e.scrollViews.length?this.isInlineScrolling=!0:(e.scrollViews=[e.document.documentElement,e.document.body,e.document.body.parentNode],this.isInlineScrolling=!1),this.pageScrollOptions=e}return(0,l.Z)(t,[{key:"getScrollPropertyValue",value:function(t){return this.pageScrollOptions.verticalScrolling?t.scrollTop:t.scrollLeft}},{key:"getScrollClientPropertyValue",value:function(t){return this.pageScrollOptions.verticalScrolling?t.clientHeight:t.clientWidth}},{key:"extractScrollTargetPosition",value:function(){var e=this.getScrollTargetElement();return null==e?{top:NaN,left:NaN}:this.isInlineScrolling?t.getInlineScrollingTargetPosition(this.pageScrollOptions,e):t.getScrollingTargetPosition(this.pageScrollOptions,e)}},{key:"getCurrentOffset",value:function(){return this.pageScrollOptions.scrollOffset}},{key:"setScrollPosition",value:function(t){var e=this;return this.pageScrollOptions.scrollViews.reduce(function(r,i){var n=e.getScrollPropertyValue(i);if(i&&null!=n){var o=Math.abs(n-t),s=o<e.pageScrollOptions._minScrollDistance;if(e.pageScrollOptions.verticalScrolling?i.scrollTop=t:i.scrollLeft=t,s||o>Math.abs(e.getScrollPropertyValue(i)-t))return!0}return r},!1)}},{key:"fireEvent",value:function(t){this.pageScrollOptions.scrollFinishListener&&this.pageScrollOptions.scrollFinishListener.emit(t)}},{key:"attachInterruptListeners",value:function(t){var e=this;this.interruptListenersAttached&&this.detachInterruptListeners(),this.interruptListener=function(r){t.report(r,e)},this.pageScrollOptions.interruptEvents.forEach(function(t){return e.pageScrollOptions.document.body.addEventListener(t,e.interruptListener)}),this.interruptListenersAttached=!0}},{key:"detachInterruptListeners",value:function(){var t=this;this.pageScrollOptions.interruptEvents.forEach(function(e){return t.pageScrollOptions.document.body.removeEventListener(e,t.interruptListener)}),this.interruptListenersAttached=!1}},{key:"getScrollTargetElement",value:function(){if("string"==typeof this.pageScrollOptions.scrollTarget){var t=this.pageScrollOptions.scrollTarget;return null!==t.match(/^#[^\s]+$/g)?this.pageScrollOptions.document.getElementById(t.substr(1)):this.pageScrollOptions.document.querySelector(t)}return this.pageScrollOptions.scrollTarget}}],[{key:"getScrollingTargetPosition",value:function(t,e){var r=t.document.body,i=t.document.documentElement,n=t.document.defaultView&&t.document.defaultView.pageYOffset||i.scrollTop||r.scrollTop,o=t.document.defaultView&&t.document.defaultView.pageXOffset||i.scrollLeft||r.scrollLeft,s=i.clientTop||r.clientTop||0,a=i.clientLeft||r.clientLeft||0;if(null==e)return{top:n,left:o};var c=e.getBoundingClientRect(),l=c.left+o-a;return{top:Math.round(c.top+n-s),left:Math.round(l)}}},{key:"getInlineScrollingTargetPosition",value:function(t,e){var r={top:e.offsetTop,left:e.offsetLeft};if(t.advancedInlineOffsetCalculation&&1===t.scrollViews.length){for(var i={top:0,left:0},n=e.ownerDocument.defaultView,o=!1,s=e.parentElement;!o&&null!=s;)"relative"===n.getComputedStyle(s).getPropertyValue("position")&&(i.top+=s.offsetTop,i.left+=s.offsetLeft),o=(s=s.parentElement)===t.scrollViews[0];o&&(r.top+=i.top,r.left+=i.left)}return r}}]),t}(),y=new p.OlP("ngxps_config"),w={_interval:10,_minScrollDistance:2,_logLevel:1,namespace:"default",verticalScrolling:!0,duration:1250,scrollOffset:0,advancedInlineOffsetCalculation:!1,interruptEvents:["mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],interruptKeys:[" ","Escape","Tab","Enter","PageUp","PageDown","Home","End","ArrowUp","ArrowRight","ArrowLeft","ArrowDown"],interruptible:!0,scrollInView:!0,easingLogic:function(t,e,r,i){return r*t/i+e}},b=function(){var t=function(){function t(e){var r=this;(0,c.Z)(this,t),this.runningInstances=[],this.onInterrupted={report:function(t,e){if(e.pageScrollOptions.interruptible){var i=!0;"keyup"===t.type?-1===r.config.interruptKeys.indexOf(t.key)&&(i=!1):"mousedown"===t.type&&(e.pageScrollOptions.scrollViews.some(function(e){return e.contains(t.target)})||(i=!1)),i&&r.stopAll(e.pageScrollOptions.namespace)}}},this.config=Object.assign({},w,e),t.instanceCounter>0&&(this.config._logLevel>=2||this.config._logLevel>=1&&(0,p.X6Q)())&&console.warn("An instance of PageScrollService already exists, usually including one provider should be enough, so double check."),t.instanceCounter++}return(0,l.Z)(t,[{key:"stopInternal",value:function(t,e){var r=this.runningInstances.indexOf(e);return r>=0&&this.runningInstances.splice(r,1),e.interruptListenersAttached&&e.detachInterruptListeners(),!!e.timer&&(clearInterval(e.timer),e.timer=void 0,e.fireEvent(!t),!0)}},{key:"create",value:function(t){return new x(Object.assign({},this.config,t))}},{key:"start",value:function(t){var e=this;if(t.pageScrollOptions=Object.assign({},this.config,t.pageScrollOptions),this.stopAll(t.pageScrollOptions.namespace),null!==t.pageScrollOptions.scrollViews&&0!==t.pageScrollOptions.scrollViews.length){var r=!1,i=t.getScrollClientPropertyValue(t.pageScrollOptions.scrollViews[0]);t.startScrollPosition=0,t.pageScrollOptions.scrollViews.forEach(function(e){if(null!=e){var n=t.getScrollPropertyValue(e);!r&&n&&(t.startScrollPosition=n,r=!0,i=t.getScrollClientPropertyValue(e))}});var n=t.getCurrentOffset(),o=t.extractScrollTargetPosition();if(t.targetScrollPosition=Math.round((t.pageScrollOptions.verticalScrolling?o.top:o.left)-n),t.distanceToScroll=t.targetScrollPosition-t.startScrollPosition,isNaN(t.distanceToScroll))return(this.config._logLevel>=2||this.config._logLevel>=1&&(0,p.X6Q)())&&console.log("Scrolling not possible, as we can't find the specified target"),void t.fireEvent(!1);var s=Math.abs(t.distanceToScroll)<t.pageScrollOptions._minScrollDistance;if(t.executionDuration=t.pageScrollOptions.duration,null!=t.pageScrollOptions.speed&&null==t.pageScrollOptions.duration&&(t.executionDuration=Math.abs(t.distanceToScroll)/t.pageScrollOptions.speed*1e3),s||t.executionDuration<=t.pageScrollOptions._interval)return(this.config._logLevel>=2||this.config._logLevel>=1&&(0,p.X6Q)())&&(s?console.log("Scrolling not possible, as we can't get any closer to the destination"):console.log("Scroll duration shorter that interval length, jumping to target")),t.setScrollPosition(t.targetScrollPosition),void t.fireEvent(!0);if(!t.pageScrollOptions.scrollInView&&t.targetScrollPosition>t.startScrollPosition&&t.targetScrollPosition<=t.startScrollPosition+i)return(this.config._logLevel>=2||this.config._logLevel>=1&&(0,p.X6Q)())&&console.log("Not scrolling, as target already in view"),void t.fireEvent(!0);t.pageScrollOptions.interruptible&&t.attachInterruptListeners(this.onInterrupted),t.startTime=(new Date).getTime(),t.endTime=t.startTime+t.executionDuration,t.timer=setInterval(function(t){var r,i=(new Date).getTime(),n=!1;t.endTime<=i?(r=t.targetScrollPosition,n=!0):r=Math.round(t.pageScrollOptions.easingLogic(i-t.startTime,t.startScrollPosition,t.distanceToScroll,t.executionDuration)),e.config._logLevel>=5&&(0,p.X6Q)()&&console.warn("Scroll Position: "+r),t.setScrollPosition(r)||(n=!0),n&&e.stopInternal(!1,t)},this.config._interval,t),this.runningInstances.push(t)}else(this.config._logLevel>=2||this.config._logLevel>=1&&(0,p.X6Q)())&&console.warn("No scrollViews specified, thus ngx-page-scroll does not know which DOM elements to scroll")}},{key:"scroll",value:function(t){this.start(this.create(t))}},{key:"stopAll",value:function(t){if(this.runningInstances.length>0){for(var e=!1,r=0;r<this.runningInstances.length;++r){var i=this.runningInstances[r];t&&i.pageScrollOptions.namespace!==t||(e=!0,this.stopInternal(!0,i),r--)}return e}return!1}},{key:"stop",value:function(t){return this.stopInternal(!0,t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(p.LFG(y))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t.instanceCounter=0,t.ngInjectableDef=(0,p.Yz7)({factory:function(){return new t((0,p.LFG)(y))},token:t,providedIn:"root"}),t}(),S={},M=function(){var t=function(){function t(){(0,c.Z)(this,t)}return(0,l.Z)(t,null,[{key:"forRoot",value:function(e){return{ngModule:t,providers:[b,{provide:y,useValue:e}]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({providers:[b,{provide:y,useValue:S}]}),t}(),k=r(9624),C=["sourceImage"];function O(t,e){if(1&t){var r=p.EpF();p.TgZ(0,"img",3,4),p.NdJ("load",function(){return p.CHM(r),p.oxw().imageLoadedInView()}),p.qZA()}if(2&t){var i=p.oxw();p.Udp("visibility",i.imageVisible?"visible":"hidden")("transform",i.safeTransformStyle),p.Q6J("src",i.safeImgDataUrl,p.LSH)}}function A(t,e){if(1&t){var r=p.EpF();p.TgZ(0,"div",5),p.NdJ("keydown",function(t){return p.CHM(r),p.oxw().keyboardAccess(t)}),p.TgZ(1,"div",6),p.NdJ("mousedown",function(t){return p.CHM(r),p.oxw().startMove(t,"move")})("touchstart",function(t){return p.CHM(r),p.oxw().startMove(t,"move")}),p._uU(2,"\xa0"),p.qZA(),p.TgZ(3,"span",7),p.NdJ("mousedown",function(t){return p.CHM(r),p.oxw().startMove(t,"resize","topleft")})("touchstart",function(t){return p.CHM(r),p.oxw().startMove(t,"resize","topleft")}),p._UZ(4,"span",8),p.qZA(),p.TgZ(5,"span",9),p._UZ(6,"span",8),p.qZA(),p.TgZ(7,"span",10),p.NdJ("mousedown",function(t){return p.CHM(r),p.oxw().startMove(t,"resize","topright")})("touchstart",function(t){return p.CHM(r),p.oxw().startMove(t,"resize","topright")}),p._UZ(8,"span",8),p.qZA(),p.TgZ(9,"span",11),p._UZ(10,"span",8),p.qZA(),p.TgZ(11,"span",12),p.NdJ("mousedown",function(t){return p.CHM(r),p.oxw().startMove(t,"resize","bottomright")})("touchstart",function(t){return p.CHM(r),p.oxw().startMove(t,"resize","bottomright")}),p._UZ(12,"span",8),p.qZA(),p.TgZ(13,"span",13),p._UZ(14,"span",8),p.qZA(),p.TgZ(15,"span",14),p.NdJ("mousedown",function(t){return p.CHM(r),p.oxw().startMove(t,"resize","bottomleft")})("touchstart",function(t){return p.CHM(r),p.oxw().startMove(t,"resize","bottomleft")}),p._UZ(16,"span",8),p.qZA(),p.TgZ(17,"span",15),p._UZ(18,"span",8),p.qZA(),p.TgZ(19,"span",16),p.NdJ("mousedown",function(t){return p.CHM(r),p.oxw().startMove(t,"resize","top")})("touchstart",function(t){return p.CHM(r),p.oxw().startMove(t,"resize","top")}),p.qZA(),p.TgZ(20,"span",17),p.NdJ("mousedown",function(t){return p.CHM(r),p.oxw().startMove(t,"resize","right")})("touchstart",function(t){return p.CHM(r),p.oxw().startMove(t,"resize","right")}),p.qZA(),p.TgZ(21,"span",18),p.NdJ("mousedown",function(t){return p.CHM(r),p.oxw().startMove(t,"resize","bottom")})("touchstart",function(t){return p.CHM(r),p.oxw().startMove(t,"resize","bottom")}),p.qZA(),p.TgZ(22,"span",19),p.NdJ("mousedown",function(t){return p.CHM(r),p.oxw().startMove(t,"resize","left")})("touchstart",function(t){return p.CHM(r),p.oxw().startMove(t,"resize","left")}),p.qZA(),p.qZA()}if(2&t){var i=p.oxw();p.Udp("top",i.cropper.y1,"px")("left",i.cropper.x1,"px")("width",i.cropper.x2-i.cropper.x1,"px")("height",i.cropper.y2-i.cropper.y1,"px")("margin-left","center"===i.alignImage?i.marginLeft:null)("visibility",i.imageVisible?"visible":"hidden"),p.ekj("rounded",i.roundCropper)}}var I=function(){var t=function(){function t(e,r){(0,c.Z)(this,t),this.sanitizer=e,this.cd=r,this.setImageMaxSizeRetries=0,this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.exifTransform={rotate:0,flip:!1},this.stepSize=3,this.marginLeft="0px",this.imageVisible=!1,this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.containWithinAspectRatio=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage="center",this.disabled=!1,this.imageCropped=new p.vpe,this.startCropImage=new p.vpe,this.imageLoaded=new p.vpe,this.cropperReady=new p.vpe,this.loadImageFailed=new p.vpe,this.initCropper()}return(0,l.Z)(t,[{key:"imageChangedEvent",set:function(t){this.initCropper(),t&&t.target&&t.target.files&&t.target.files.length>0&&this.loadImageFile(t.target.files[0])}},{key:"imageBase64",set:function(t){this.initCropper(),this.checkExifAndLoadBase64Image(t)}},{key:"imageFile",set:function(t){this.initCropper(),t&&this.loadImageFile(t)}},{key:"ngOnChanges",value:function(t){this.originalImage&&this.originalImage.complete&&this.exifTransform&&(t.containWithinAspectRatio||t.canvasRotation)&&this.transformOriginalImage(),t.cropper&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.checkCropperPosition(!1),this.doAutoCrop(),this.cd.markForCheck()),t.aspectRatio&&this.imageVisible&&this.resetCropperPosition(),t.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop())}},{key:"setCssTransform",value:function(){this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle("scaleX("+(this.transform.scale||1)*(this.transform.flipH?-1:1)+")scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+")rotate("+(this.transform.rotate||0)+"deg)")}},{key:"ngOnInit",value:function(){this.stepSize=this.initialStepSize}},{key:"initCropper",value:function(){this.imageVisible=!1,this.transformedImage=null,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.originalSize={width:0,height:0},this.transformedSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}},{key:"loadImageFile",value:function(t){var e=this,r=new FileReader;r.onload=function(r){e.isValidImageType(t.type)?e.checkExifAndLoadBase64Image(r.target.result):e.loadImageFailed.emit()},r.readAsDataURL(t)}},{key:"isValidImageType",value:function(t){return/image\/(png|jpg|jpeg|bmp|gif|tiff)/.test(t)}},{key:"checkExifAndLoadBase64Image",value:function(t){var e=this;return new Promise(function(r,i){var n=function(t){e.originalImage=null,e.originalBase64=null,i(t)};e.originalImage=new Image,e.originalImage.onload=function(){e.originalBase64=t,e.exifTransform=function(t){switch("string"==typeof t&&(t=function(t){var e=new DataView(function(t){t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var e=atob(t),r=e.length,i=new Uint8Array(r),n=0;n<r;n++)i[n]=e.charCodeAt(n);return i.buffer}(t));if(65496!=e.getUint16(0,!1))return-2;for(var r=e.byteLength,i=2;i<r;){if(e.getUint16(i+2,!1)<=8)return-1;var n=e.getUint16(i,!1);if(i+=2,65505==n){if(1165519206!=e.getUint32(i+=2,!1))return-1;var o=18761==e.getUint16(i+=6,!1);i+=e.getUint32(i+4,o);var s=e.getUint16(i,o);i+=2;for(var a=0;a<s;a++)if(274==e.getUint16(i+12*a,o))return e.getUint16(i+12*a+8,o)}else{if(65280!=(65280&n))break;i+=e.getUint16(i,!1)}}return-1}(t)),t){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(t),e.originalSize.width=e.originalImage.naturalWidth,e.originalSize.height=e.originalImage.naturalHeight,e.transformOriginalImage().then(function(){return r()}).catch(n)},e.originalImage.onerror=n,e.originalImage.src=t})}},{key:"getTransformedSize",value:function(){var t=this.canvasRotation+this.exifTransform.rotate;if(this.containWithinAspectRatio){if(t%2){var e=this.originalSize.height/this.aspectRatio;return{width:Math.max(this.originalSize.height,this.originalSize.width*this.aspectRatio),height:Math.max(this.originalSize.width,e)}}var r=this.originalSize.width/this.aspectRatio;return{width:Math.max(this.originalSize.width,this.originalSize.height*this.aspectRatio),height:Math.max(this.originalSize.height,r)}}return t%2?{height:this.originalSize.width,width:this.originalSize.height}:{width:this.originalSize.width,height:this.originalSize.height}}},{key:"transformImageBase64",value:function(){var t=this.canvasRotation+this.exifTransform.rotate,e=this.getTransformedSize(),r=document.createElement("canvas");r.width=e.width,r.height=e.height;var i=r.getContext("2d");return i.setTransform(this.exifTransform.flip?-1:1,0,0,1,r.width/2,r.height/2),i.rotate(Math.PI*(t/2)),i.drawImage(this.originalImage,-this.originalSize.width/2,-this.originalSize.height/2),Promise.resolve(r.toDataURL())}},{key:"setTransformedImage",value:function(t){var e=this;return new Promise(function(r,i){e.transformedBase64=t,e.safeImgDataUrl=e.sanitizer.bypassSecurityTrustResourceUrl(t),e.transformedImage=new Image,e.transformedImage.onload=function(){e.transformedSize.width=e.transformedImage.naturalWidth,e.transformedSize.height=e.transformedImage.naturalHeight,r(),e.cd.markForCheck()},e.transformedImage.onerror=function(){e.transformedImage=null,i()},e.transformedImage.src=e.transformedBase64})}},{key:"transformOriginalImage",value:function(){var t=this;return this.originalImage&&this.originalImage.complete&&this.exifTransform?this.transformImageBase64().then(function(e){return t.setTransformedImage(e)}):Promise.reject(new Error("No Image Loaded"))}},{key:"imageLoadedInView",value:function(){var t=this;null!=this.transformedImage&&(this.imageLoaded.emit(),this.setImageMaxSizeRetries=0,setTimeout(function(){return t.checkImageMaxSizeRecursively()}))}},{key:"checkImageMaxSizeRecursively",value:function(){var t=this;this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImage&&this.sourceImage.nativeElement&&this.sourceImage.nativeElement.offsetWidth>0?(this.setMaxSize(),this.setCropperScaledMinSize(),this.resetCropperPosition(),this.cropperReady.emit(Object.assign({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(function(){t.checkImageMaxSizeRecursively()},50))}},{key:"onResize",value:function(){this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize()}},{key:"resizeCropperPosition",value:function(){var t=this.sourceImage.nativeElement;this.maxSize.width===t.offsetWidth&&this.maxSize.height===t.offsetHeight||(this.cropper.x1=this.cropper.x1*t.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*t.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*t.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*t.offsetHeight/this.maxSize.height)}},{key:"resetCropperPosition",value:function(){var t=this.sourceImage.nativeElement;if(this.maintainAspectRatio)if(t.offsetWidth/this.aspectRatio<t.offsetHeight){this.cropper.x1=0,this.cropper.x2=t.offsetWidth;var e=t.offsetWidth/this.aspectRatio;this.cropper.y1=(t.offsetHeight-e)/2,this.cropper.y2=this.cropper.y1+e}else{this.cropper.y1=0,this.cropper.y2=t.offsetHeight;var r=t.offsetHeight*this.aspectRatio;this.cropper.x1=(t.offsetWidth-r)/2,this.cropper.x2=this.cropper.x1+r}else this.cropper.x1=0,this.cropper.x2=t.offsetWidth,this.cropper.y1=0,this.cropper.y2=t.offsetHeight;this.doAutoCrop(),this.imageVisible=!0}},{key:"keyboardAccess",value:function(t){this.changeKeyboardStepSize(t),this.keyboardMoveCropper(t)}},{key:"changeKeyboardStepSize",value:function(t){t.key>="1"&&t.key<="9"&&(this.stepSize=+t.key)}},{key:"keyboardMoveCropper",value:function(t){if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){var e=t.shiftKey?"resize":"move",r=t.altKey?this.getInvertedPositionForKey(t.key):this.getPositionForKey(t.key),i=this.getEventForKey(t.key,this.stepSize);t.preventDefault(),t.stopPropagation(),this.startMove({clientX:0,clientY:0},e,r),this.moveImg(i),this.moveStop()}}},{key:"getPositionForKey",value:function(t){switch(t){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}}},{key:"getInvertedPositionForKey",value:function(t){switch(t){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}}},{key:"getEventForKey",value:function(t,e){switch(t){case"ArrowUp":return{clientX:0,clientY:-1*e};case"ArrowRight":return{clientX:e,clientY:0};case"ArrowDown":return{clientX:0,clientY:e};case"ArrowLeft":default:return{clientX:-1*e,clientY:0}}}},{key:"startMove",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.preventDefault&&t.preventDefault(),this.moveStart=Object.assign({active:!0,type:e,position:r,clientX:this.getClientX(t),clientY:this.getClientY(t)},this.cropper)}},{key:"moveImg",value:function(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),"move"===this.moveStart.type?(this.move(t),this.checkCropperPosition(!0)):"resize"===this.moveStart.type&&(this.resize(t),this.checkCropperPosition(!1)),this.cd.detectChanges())}},{key:"setMaxSize",value:function(){if(this.sourceImage){var t=this.sourceImage.nativeElement;this.maxSize.width=t.offsetWidth,this.maxSize.height=t.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}},{key:"setCropperScaledMinSize",value:function(){this.transformedImage?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20)}},{key:"setCropperScaledMinWidth",value:function(){this.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.transformedImage.width*this.maxSize.width):20}},{key:"setCropperScaledMinHeight",value:function(){this.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.transformedImage.height*this.maxSize.height):20}},{key:"checkCropperPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.cropper.x1<0&&(this.cropper.x2-=t?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=t?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=t?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=t?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}},{key:"moveStop",value:function(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}},{key:"move",value:function(t){var e=this.getClientX(t)-this.moveStart.clientX,r=this.getClientY(t)-this.moveStart.clientY;this.cropper.x1=this.moveStart.x1+e,this.cropper.y1=this.moveStart.y1+r,this.cropper.x2=this.moveStart.x2+e,this.cropper.y2=this.moveStart.y2+r}},{key:"resize",value:function(t){var e=this.getClientX(t)-this.moveStart.clientX,r=this.getClientY(t)-this.moveStart.clientY;switch(this.moveStart.position){case"left":this.cropper.x1=Math.min(this.moveStart.x1+e,this.cropper.x2-this.cropperScaledMinWidth);break;case"topleft":this.cropper.x1=Math.min(this.moveStart.x1+e,this.cropper.x2-this.cropperScaledMinWidth),this.cropper.y1=Math.min(this.moveStart.y1+r,this.cropper.y2-this.cropperScaledMinHeight);break;case"top":this.cropper.y1=Math.min(this.moveStart.y1+r,this.cropper.y2-this.cropperScaledMinHeight);break;case"topright":this.cropper.x2=Math.max(this.moveStart.x2+e,this.cropper.x1+this.cropperScaledMinWidth),this.cropper.y1=Math.min(this.moveStart.y1+r,this.cropper.y2-this.cropperScaledMinHeight);break;case"right":this.cropper.x2=Math.max(this.moveStart.x2+e,this.cropper.x1+this.cropperScaledMinWidth);break;case"bottomright":this.cropper.x2=Math.max(this.moveStart.x2+e,this.cropper.x1+this.cropperScaledMinWidth),this.cropper.y2=Math.max(this.moveStart.y2+r,this.cropper.y1+this.cropperScaledMinHeight);break;case"bottom":this.cropper.y2=Math.max(this.moveStart.y2+r,this.cropper.y1+this.cropperScaledMinHeight);break;case"bottomleft":this.cropper.x1=Math.min(this.moveStart.x1+e,this.cropper.x2-this.cropperScaledMinWidth),this.cropper.y2=Math.max(this.moveStart.y2+r,this.cropper.y1+this.cropperScaledMinHeight)}this.maintainAspectRatio&&this.checkAspectRatio()}},{key:"checkAspectRatio",value:function(){var t=0,e=0;switch(this.moveStart.position){case"top":this.cropper.x2=this.cropper.x1+(this.cropper.y2-this.cropper.y1)*this.aspectRatio,t=Math.max(this.cropper.x2-this.maxSize.width,0),e=Math.max(0-this.cropper.y1,0),(t>0||e>0)&&(this.cropper.x2-=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y1+=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"bottom":this.cropper.x2=this.cropper.x1+(this.cropper.y2-this.cropper.y1)*this.aspectRatio,t=Math.max(this.cropper.x2-this.maxSize.width,0),e=Math.max(this.cropper.y2-this.maxSize.height,0),(t>0||e>0)&&(this.cropper.x2-=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y2-=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"topleft":this.cropper.y1=this.cropper.y2-(this.cropper.x2-this.cropper.x1)/this.aspectRatio,t=Math.max(0-this.cropper.x1,0),e=Math.max(0-this.cropper.y1,0),(t>0||e>0)&&(this.cropper.x1+=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y1+=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"topright":this.cropper.y1=this.cropper.y2-(this.cropper.x2-this.cropper.x1)/this.aspectRatio,t=Math.max(this.cropper.x2-this.maxSize.width,0),e=Math.max(0-this.cropper.y1,0),(t>0||e>0)&&(this.cropper.x2-=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y1+=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"right":case"bottomright":this.cropper.y2=this.cropper.y1+(this.cropper.x2-this.cropper.x1)/this.aspectRatio,t=Math.max(this.cropper.x2-this.maxSize.width,0),e=Math.max(this.cropper.y2-this.maxSize.height,0),(t>0||e>0)&&(this.cropper.x2-=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y2-=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"left":case"bottomleft":this.cropper.y2=this.cropper.y1+(this.cropper.x2-this.cropper.x1)/this.aspectRatio,t=Math.max(0-this.cropper.x1,0),e=Math.max(this.cropper.y2-this.maxSize.height,0),(t>0||e>0)&&(this.cropper.x1+=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y2-=e*this.aspectRatio>t?e:t/this.aspectRatio)}}},{key:"doAutoCrop",value:function(){this.autoCrop&&this.crop()}},{key:"crop",value:function(){if(this.sourceImage&&this.sourceImage.nativeElement&&null!=this.transformedImage){this.startCropImage.emit();var t=this.getImagePosition(),e=t.x2-t.x1,r=t.y2-t.y1,i=document.createElement("canvas");i.width=e,i.height=r;var n=i.getContext("2d");if(n){null!=this.backgroundColor&&(n.fillStyle=this.backgroundColor,n.fillRect(0,0,e,r));var o=(this.transform.scale||1)*(this.transform.flipH?-1:1),s=(this.transform.scale||1)*(this.transform.flipV?-1:1);n.setTransform(o,0,0,s,this.transformedSize.width/2,this.transformedSize.height/2),n.translate(-t.x1/o,-t.y1/s),n.rotate((this.transform.rotate||0)*Math.PI/180),n.drawImage(this.transformedImage,-this.transformedSize.width/2,-this.transformedSize.height/2);var a={width:e,height:r,imagePosition:t,cropperPosition:Object.assign({},this.cropper)};this.containWithinAspectRatio&&(a.offsetImagePosition=this.getOffsetImagePosition());var c=this.getResizeRatio(e,r);return 1!==c&&(a.width=Math.round(e*c),a.height=this.maintainAspectRatio?Math.round(a.width/this.aspectRatio):Math.round(r*c),function(t,e,r){var i=t.width,n=t.height,o=i/(e=Math.round(e)),s=n/(r=Math.round(r)),a=Math.ceil(o/2),c=Math.ceil(s/2),l=t.getContext("2d");if(l){for(var p=l.getImageData(0,0,i,n),h=l.createImageData(e,r),u=p.data,g=h.data,f=0;f<r;f++)for(var d=0;d<e;d++){var m=4*(d+f*e),v=f*s,x=0,y=0,w=0,b=0,S=0,M=0,k=0,C=Math.floor(d*o),O=Math.floor(f*s),A=Math.ceil((d+1)*o),I=Math.ceil((f+1)*s);A=Math.min(A,i),I=Math.min(I,n);for(var _=O;_<I;_++)for(var z=Math.abs(v-_)/c,Z=d*o,P=z*z,T=C;T<A;T++){var R=Math.abs(Z-T)/a,L=Math.sqrt(P+R*R);if(!(L>=1)){var E=4*(T+_*i);k+=(x=2*L*L*L-3*L*L+1)*u[E+3],w+=x,u[E+3]<255&&(x=x*u[E+3]/250),b+=x*u[E],S+=x*u[E+1],M+=x*u[E+2],y+=x}}g[m]=b/y,g[m+1]=S/y,g[m+2]=M/y,g[m+3]=k/w}t.width=e,t.height=r,l.putImageData(h,0,0)}}(i,a.width,a.height)),a.base64=this.cropToBase64(i),this.imageCropped.emit(a),a}}return null}},{key:"getImagePosition",value:function(){var t=this.transformedSize.width/this.sourceImage.nativeElement.offsetWidth,e={x1:Math.round(this.cropper.x1*t),y1:Math.round(this.cropper.y1*t),x2:Math.round(this.cropper.x2*t),y2:Math.round(this.cropper.y2*t)};return this.containWithinAspectRatio||(e.x1=Math.max(e.x1,0),e.y1=Math.max(e.y1,0),e.x2=Math.min(e.x2,this.transformedSize.width),e.y2=Math.min(e.y2,this.transformedSize.height)),e}},{key:"getOffsetImagePosition",value:function(){var t,e,r=this.transformedSize.width/this.sourceImage.nativeElement.offsetWidth;(this.canvasRotation+this.exifTransform.rotate)%2?(t=(this.transformedSize.width-this.originalSize.height)/2,e=(this.transformedSize.height-this.originalSize.width)/2):(t=(this.transformedSize.width-this.originalSize.width)/2,e=(this.transformedSize.height-this.originalSize.height)/2);var i={x1:Math.round(this.cropper.x1*r)-t,y1:Math.round(this.cropper.y1*r)-e,x2:Math.round(this.cropper.x2*r)-t,y2:Math.round(this.cropper.y2*r)-e};return this.containWithinAspectRatio||(i.x1=Math.max(i.x1,0),i.y1=Math.max(i.y1,0),i.x2=Math.min(i.x2,this.transformedSize.width),i.y2=Math.min(i.y2,this.transformedSize.height)),i}},{key:"cropToBase64",value:function(t){return t.toDataURL("image/"+this.format,this.getQuality())}},{key:"getQuality",value:function(){return Math.min(1,Math.max(0,this.imageQuality/100))}},{key:"getResizeRatio",value:function(t,e){if(this.resizeToWidth>0){if(!this.onlyScaleDown||t>this.resizeToWidth)return this.resizeToWidth/t}else if(this.resizeToHeight>0&&(!this.onlyScaleDown||e>this.resizeToHeight))return this.resizeToHeight/e;return 1}},{key:"getClientX",value:function(t){return(t.touches&&t.touches[0]?t.touches[0].clientX:t.clientX)||0}},{key:"getClientY",value:function(t){return(t.touches&&t.touches[0]?t.touches[0].clientY:t.clientY)||0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(p.Y36(k.H7),p.Y36(p.sBO))},t.\u0275cmp=p.Xpm({type:t,selectors:[["image-cropper"]],viewQuery:function(t,e){var r;1&t&&p.Gf(C,5),2&t&&p.iGM(r=p.CRH())&&(e.sourceImage=r.first)},hostVars:4,hostBindings:function(t,e){1&t&&p.NdJ("resize",function(){return e.onResize()},!1,p.Jf7)("mousemove",function(t){return e.moveImg(t)},!1,p.evT)("touchmove",function(t){return e.moveImg(t)},!1,p.evT)("mouseup",function(){return e.moveStop()},!1,p.evT)("touchend",function(){return e.moveStop()},!1,p.evT),2&t&&(p.Udp("text-align",e.alignImage),p.ekj("disabled",e.disabled))},inputs:{format:"format",maintainAspectRatio:"maintainAspectRatio",transform:"transform",aspectRatio:"aspectRatio",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",containWithinAspectRatio:"containWithinAspectRatio",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",imageChangedEvent:"imageChangedEvent",imageBase64:"imageBase64",imageFile:"imageFile",backgroundColor:"backgroundColor"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed"},features:[p.TTD],decls:4,vars:10,consts:[["class","source-image",3,"src","visibility","transform","load",4,"ngIf"],[1,"overlay"],["class","cropper","tabindex","0",3,"rounded","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"source-image",3,"src","load"],["sourceImage",""],["tabindex","0",1,"cropper",3,"keydown"],[1,"move",3,"mousedown","touchstart"],[1,"resize","topleft",3,"mousedown","touchstart"],[1,"square"],[1,"resize","top"],[1,"resize","topright",3,"mousedown","touchstart"],[1,"resize","right"],[1,"resize","bottomright",3,"mousedown","touchstart"],[1,"resize","bottom"],[1,"resize","bottomleft",3,"mousedown","touchstart"],[1,"resize","left"],[1,"resize-bar","top",3,"mousedown","touchstart"],[1,"resize-bar","right",3,"mousedown","touchstart"],[1,"resize-bar","bottom",3,"mousedown","touchstart"],[1,"resize-bar","left",3,"mousedown","touchstart"]],template:function(t,e){1&t&&(p.TgZ(0,"div"),p.YNc(1,O,2,5,"img",0),p._UZ(2,"div",1),p.YNc(3,A,23,14,"div",2),p.qZA()),2&t&&(p.Udp("background",e.imageVisible&&e.backgroundColor),p.xp6(1),p.Q6J("ngIf",e.safeImgDataUrl),p.xp6(1),p.Udp("width",e.maxSize.width,"px")("height",e.maxSize.height,"px")("margin-left","center"===e.alignImage?e.marginLeft:null),p.xp6(1),p.Q6J("ngIf",e.imageVisible))},directives:[i.O5],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{position:relative;width:100%}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;top:0;left:0;outline:#fff solid 100vw}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:0 0;touch-action:none;outline:rgba(255,255,255,.3) solid 100vw}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";top:0;bottom:0;left:0;right:0;pointer-events:none;border:1px dashed;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:focus   .move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw rgba(255,255,255,.3)}@media (orientation:portrait){[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{outline-width:100vh}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh rgba(255,255,255,.3)}}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{display:none}'],changeDetection:0}),t}(),_=function(){var t=function t(){(0,c.Z)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[i.ez]]}),t}();function z(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}var Z=function(){var t=function(){function t(e,r){(0,c.Z)(this,t),this.elem=e,this.renderer=r,this.overflow="hidden",this.rows=1}return(0,l.Z)(t,[{key:"ngAfterViewInit",value:function(){this.resize()}},{key:"ngDoCheck",value:function(){this.resize()}},{key:"resize",value:function(){var t=this.elem.nativeElement,e=t.offsetHeight-t.clientHeight;this.setHeight("auto"),this.setHeight("".concat(t.scrollHeight+e,"px"))}},{key:"setHeight",value:function(t){this.renderer.setStyle(this.elem.nativeElement,"height",t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(p.Y36(p.SBq),p.Y36(p.Qsj))},t.\u0275dir=p.lG2({type:t,selectors:[["textarea","autosize",""]],hostVars:3,hostBindings:function(t,e){1&t&&p.NdJ("input",function(){return e.resize()}),2&t&&(p.Ikx("rows",e.rows),p.Udp("overflow",e.overflow))},inputs:{rows:"rows"}}),t=function(t,e,r,i){var n,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(o<3?n(s):o>3?n(e,r,s):n(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}([z("design:paramtypes",[p.SBq,p.Qsj])],t)}(),P=function(){var t=function t(){(0,c.Z)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[i.ez]]}),t}(),T=function(t,e,r,i){return new(r||(r=Promise))(function(n,o){function s(t){try{c(i.next(t))}catch(e){o(e)}}function a(t){try{c(i.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(s,a)}c((i=i.apply(t,e||[])).next())})},R=function(t,e){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},L=["fileButtonClick"],E=["inputNums"];function U(t,e){if(1&t&&(p.TgZ(0,"ion-item"),p.TgZ(1,"ion-row",20),p.TgZ(2,"ion-col",21),p.TgZ(3,"textarea",22,23),p._uU(5),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t){var r=e.$implicit,i=e.index;p.xp6(3),p.MGl("id","num",i,""),p.xp6(2),p.Oqu(r)}}function j(t,e){if(1&t&&(p.TgZ(0,"ion-list"),p.YNc(1,U,6,2,"ion-item",19),p.qZA()),2&t){var r=p.oxw();p.xp6(1),p.Q6J("ngForOf",r.resultList)}}function H(t,e){if(1&t&&(p.TgZ(0,"ion-text",24),p._uU(1," \u5171 "),p.TgZ(2,"strong"),p._uU(3),p.qZA(),p._uU(4," \u6ce8\x13 "),p.qZA()),2&t){var r=p.oxw();p.xp6(3),p.Oqu(r.resultList.length)}}function N(t,e){1&t&&(p.TgZ(0,"ion-text",25),p._uU(1," \u82e5\u6709\u865f\u78bc\u8fa8\u8b58\u6709\u8aa4\uff0c\u8acb\u81ea\u884c\u4fee\u6b63\uff01 "),p.qZA())}var q=function(){function t(t,e,r,i,n,o,s,c,l,p){this.commonService=t,this.mark6Service=e,this._router=r,this._activeRoute=i,this.navCtrl=n,this.loadingController=o,this.dataVal=s,this.pageScrollService=c,this.actionCtrl=l,this.document=p,this.MAX_NUM=49,this.screenWidth=window.innerWidth,this.resultList=new Array,this.result="-",this.result1="-",this.analysisClick=!1,this.showWebcam=!0,this.allowCameraSwitch=!0,this.multipleWebcamsAvailable=!1,this.videoOptions={},this.errors=[],this.webcamImage=null,this.rotateVal=0,this.trigger=new a.xQ,this.nextWebcam=new a.xQ,this.imageChangedEvent="",this.croppedImage=""}return t.prototype.ngOnInit=function(){var t=this;h.getAvailableVideoInputs().then(function(e){t.multipleWebcamsAvailable=e&&e.length>1})},t.prototype.ionViewDidEnter=function(){this.commonService.prepareInterstitialAds()},t.prototype.ngAfterViewChecked=function(){},t.prototype.triggerSnapshot=function(){this.trigger.next()},t.prototype.toggleWebcam=function(){this.showWebcam=!this.showWebcam},t.prototype.handleInitError=function(t){this.errors.push(t),this.showError||this.commonService.showAlert("ERROR","iPhone(iOS) \u7528\u6237\u8acb\u4f7f\u7528 Safari \u958b\u555f!")},t.prototype.showNextWebcam=function(t){this.nextWebcam.next(t)},t.prototype.handleImage=function(t){console.info("received webcam image",t),this.webcamImage=t,this.theCamImage=this.webcamImage.imageAsDataUrl},t.prototype.cameraWasSwitched=function(t){console.log("active device: "+t),this.deviceId=t},Object.defineProperty(t.prototype,"triggerObservable",{get:function(){return this.trigger.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextWebcamObservable",{get:function(){return this.nextWebcam.asObservable()},enumerable:!1,configurable:!0}),t.prototype.takePhoto=function(){this.result="-",this.croppedImage=null,this.trigger.next()},t.prototype.check=function(){this.resultList.length=0,this.resultList=[],this.croppedImage?this.doOCR():this.commonService.showAlert("Error","\u8acb\u5148 [\u9078\u53d6\u5f69\u7968]\uff0c\u7136\u5f8c\u88c1\u526a\u5f69\u7968\u81f3\u53ea\u6709\u6295\u6ce8\u865f\u78bc\uff01")},t.prototype.doRotate=function(){this.rotateVal=this.rotateVal+1,4==this.rotateVal&&(this.rotateVal=0)},t.prototype.reset=function(){this.result="-",this.croppedImage=null,this.resultList.length=0,this.resultList=[],this.analysisClick=!1},t.prototype.fileChangeEvent=function(t){this.reset(),this.imageChangedEvent=t},t.prototype.imageCropped=function(t){this.croppedImage=t.base64},t.prototype.imageLoaded=function(){},t.prototype.cropperReady=function(){},t.prototype.loadImageFailed=function(){},t.prototype.doOCR=function(){return T(this,void 0,void 0,function(){var t,e,r=this;return R(this,function(i){switch(i.label){case 0:return t=(0,g.createWorker)({logger:function(t){return console.log(t)}}),[4,this.loadingController.create({message:"\u865f\u78bc\u8fa8\u8b58\u4e2d...",spinner:"circles"})];case 1:return(e=i.sent()).present().then(function(){t.load().then(function(){t.loadLanguage("eng").then(function(){t.initialize("eng").then(function(){t.setParameters({tessedit_char_whitelist:"0123456789+/"}).then(function(){t.recognize(r.croppedImage).then(function(i){if(r.result=i.data.text,t.terminate(),null!=r.result&&r.result.length>0){var n=r.result.split("/");for(var o in n){var s=n[o].replace(/(\r\n|\n|\r)/gm,"").replace(/\s/g,"");r.resultList.push(s)}}e.dismiss(),setTimeout(function(){r.content.scrollToBottom()},300)})})})})})}).finally(function(){}),[2]}})})},t.prototype.doCheck=function(){return T(this,void 0,void 0,function(){var t,e,r=this;return R(this,function(i){switch(i.label){case 0:return t=new Array,0===this.resultList.length?[3,2]:[4,this.loadingController.create({message:"\u6838\u5c0d\u4e2d...",spinner:"circles"})];case 1:return(e=i.sent()).present().then(function(){r.mark6Service.getLast30().subscribe(function(i){if(!(null!=i&&i.length>0))return e.dismiss(),t.length=0,void(t=[]);var n=r.inputNums.toArray();for(var o in r.resultList.length=0,r.resultList=[],n)r.resultList.push(n[o].nativeElement.value);for(var s in r.resultList){var a=Number(s)+1,c=r.resultList[s].replace(/(\r\n|\n|\r)/gm,""),l=c.split("+"),p=new Array;for(var h in l){var u=Number(l[h]);if(u>r.MAX_NUM||u<=0||!(0,f.EN)(l[h]))return r.commonService.showAlert("ERROR","\u7b2c "+a+" \u6ce8\u542b\u6709\u932f\u8aa4\u865f\u78bc\uff0c\u8acb\u4fee\u6b63\uff01"),e.dismiss(),t.length=0,void(t=[]);p.push(u)}if(p.length<6)return r.commonService.showAlert("Error","\u7b2c "+a+" \u6ce8\u6700\u5c11\u8981\u67096\u500b\u5b57\uff0c\u8acb\u4fee\u6b63\uff01"),e.dismiss(),t.length=0,void(t=[]);if((0,f.bs)(p))return r.commonService.showAlert("Error","\u7b2c "+a+" \u6ce8\u542b\u6709\u91cd\u8986\u865f\u78bc\uff0c\u8acb\u4fee\u6b63\uff01"),e.dismiss(),t.length=0,void(t=[]);if(p.length>r.MAX_NUM)return r.commonService.showAlert("Error","\u7b2c {bNoVal} \u6ce8\u4e0d\u80fd\u591a\u65bc "+r.MAX_NUM+" \u500b\u5b57\uff0c\u8acb\u4fee\u6b63\uff01"),e.dismiss(),t.length=0,void(t=[]);var g=new f.Pf;g.numbers=c;for(var d=new Array,m=0,v=i;m<v.length;m++){var x=v[m],y=new f.$j;y=JSON.parse(JSON.stringify(x));for(var w=0,b=0,S=p;b<S.length;b++){var M=S[b];M===y.number1?(y.matched[0]=!0,w++):M===y.number2?(y.matched[1]=!0,w++):M===y.number3?(y.matched[2]=!0,w++):M===y.number4?(y.matched[3]=!0,w++):M===y.number5?(y.matched[4]=!0,w++):M===y.number6&&(y.matched[5]=!0,w++),M===y.numberX&&(y.matched[6]=!0,w+=.5)}w>=3&&d.push(y)}g.matchedResults=d,t.push(g)}r.result1=JSON.stringify(t),e.dismiss(),t.length>=1?(r.dataVal.storage=t,r.navCtrl.navigateForward(["capcheck/result"])):r.commonService.showAlert("Info","\u95a3\u4e0b\u7684\u5f69\u7968\u5728\u6700\u8fd130\u671f\u6c92\u6709\u4e2d\u734e")},function(r){e.dismiss(),console.log(r),t.length=0,t=[]})}),[3,3];case 2:return this.commonService.showAlert("Error","\u8acb\u5148 [\u9078\u53d6\u5f69\u7968]\uff0c\u7136\u5f8c\u88c1\u526a\u5f69\u7968\u81f3\u53ea\u6709\u6295\u6ce8\u865f\u78bc\uff01"),[2];case 3:return[2]}})})},t.prototype.openActionSheet=function(){var t=this;this.actionCtrl.create({buttons:[{text:"\u9078\u53d6\u5f69\u7968",icon:"camera",handler:function(){document.getElementById("fileButtonClick").click()}},{text:"\u8fa8\u8b58\u865f\u78bc",icon:"barcode",handler:function(){t.check()}},{text:"\u6838\u5c0d\u5f69\u7968",icon:"contract",handler:function(){t.commonService.showInterstitialAds(),t.doCheck()}},{text:"\u65cb\u8f49",icon:"return-up-forward-outline",handler:function(){t.doRotate()}},{text:"\u53d6\u6d88",role:"cancel"}]}).then(function(t){return t.present()})},t.\u0275fac=function(e){return new(e||t)(p.Y36(d.v),p.Y36(m.d),p.Y36(s.F0),p.Y36(s.gz),p.Y36(o.SH),p.Y36(o.HT),p.Y36(v.B),p.Y36(b),p.Y36(o.BX),p.Y36(i.K0))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-capcheck"]],viewQuery:function(t,e){if(1&t&&(p.Gf(L,7),p.Gf(o.W2,7),p.Gf(E,5)),2&t){var r=void 0;p.iGM(r=p.CRH())&&(e.fileButton=r.first),p.iGM(r=p.CRH())&&(e.content=r.first),p.iGM(r=p.CRH())&&(e.inputNums=r)}},decls:30,vars:8,consts:[["slot","start"],["slot","end",1,"ion-padding"],[3,"click"],["name","chevron-down-circle-outline"],[1,"ion-padding"],["id","contentID",2,"text-align","center"],["for","m6pic",2,"color","blue"],[2,"color","green"],["id","fileButtonClick","color","warning",2,"display","none",3,"click"],["fileButtonClick",""],["type","file",2,"display","none",3,"change"],["fileInput",""],[1,"cropper-container"],["format","png",2,"width","300px","height","50x","text-align","left",3,"imageChangedEvent","maintainAspectRatio","cropperMinHeight","canvasRotation","imageCropped","imageLoaded","cropperReady","loadImageFailed"],[3,"src"],[4,"ngIf"],["color","primary",4,"ngIf"],["color","danger",4,"ngIf"],[1,"theEnd"],[4,"ngFor","ngForOf"],[2,"vertical-align","middle","text-align","center","width","100%"],[2,"width","100%"],["autosize","",2,"width","100%","background-color","navajowhite",3,"id"],["inputNums",""],["color","primary"],["color","danger"]],template:function(t,e){if(1&t){var r=p.EpF();p.TgZ(0,"ion-header"),p.TgZ(1,"ion-toolbar"),p.TgZ(2,"ion-buttons",0),p._UZ(3,"ion-menu-button"),p.qZA(),p.TgZ(4,"ion-buttons",1),p.TgZ(5,"ion-button",2),p.NdJ("click",function(){return e.openActionSheet()}),p._UZ(6,"ion-icon",3),p.qZA(),p.qZA(),p.TgZ(7,"ion-title"),p._uU(8," \u4e00\u62cd\u5373\u5c0d "),p.qZA(),p.qZA(),p.qZA(),p.TgZ(9,"ion-content",4),p.TgZ(10,"div",5),p.TgZ(11,"label",6),p._uU(12,"1.[\u9078\u53d6/\u62cd\u7167\u5f69\u7968]\uff0c2.\u526a\u88c1\u5230\u53ea\u6709\u865f\u78bc\u90e8\u4efd\uff0c3.[\u8fa8\u8b58\u865f\u78bc]\uff0c4.[\u6838\u5c0d\u5f69\u7968]\uff01"),p._UZ(13,"br"),p.TgZ(14,"span",7),p._uU(15,"(\u66ab\u4e0d\u652f\u6301\u6838\u5c0d\u81bd\u62d6\u5f69\u7968)"),p.qZA(),p.qZA(),p._UZ(16,"br"),p.TgZ(17,"ion-button",8,9),p.NdJ("click",function(){return p.CHM(r),p.MAs(21).click()}),p._uU(19,"\u6309\u9019\u88cf\u9078\u53d6\u4f60\u7684\u5f69\u7968"),p.qZA(),p.TgZ(20,"input",10,11),p.NdJ("change",function(t){return e.fileChangeEvent(t)}),p.qZA(),p.TgZ(22,"div",12),p.TgZ(23,"image-cropper",13),p.NdJ("imageCropped",function(t){return e.imageCropped(t)})("imageLoaded",function(){return e.imageLoaded()})("cropperReady",function(){return e.cropperReady()})("loadImageFailed",function(){return e.loadImageFailed()}),p.qZA(),p.qZA(),p._UZ(24,"img",14),p._UZ(25,"br"),p.YNc(26,j,2,1,"ion-list",15),p.YNc(27,H,5,1,"ion-text",16),p.YNc(28,N,2,0,"ion-text",17),p._UZ(29,"div",18),p.qZA(),p.qZA()}2&t&&(p.xp6(23),p.Q6J("imageChangedEvent",e.imageChangedEvent)("maintainAspectRatio",!1)("cropperMinHeight",30)("canvasRotation",e.rotateVal),p.xp6(1),p.Q6J("src",e.croppedImage,p.LSH),p.xp6(2),p.Q6J("ngIf",0!==e.resultList.length),p.xp6(1),p.Q6J("ngIf",0!==e.resultList.length),p.xp6(1),p.Q6J("ngIf",0!==e.resultList.length))},directives:[o.Gu,o.sr,o.Sm,o.fG,o.YG,o.gu,o.wd,o.W2,I,i.O5,o.q_,i.sg,o.Ie,o.Nd,o.wI,Z,o.yW],styles:[".cropper-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-shrink:0;width:100%}image-cropper[_ngcontent-%COMP%]{max-height:400px}"]}),t}();function D(t,e){1&t&&p._UZ(0,"ion-icon",10)}function W(t,e){if(1&t){var r=p.EpF();p.TgZ(0,"ion-item",3),p.NdJ("click",function(){var t=p.CHM(r).$implicit;return p.oxw().showDetail(t)}),p.TgZ(1,"ion-grid"),p.TgZ(2,"ion-row",4),p.TgZ(3,"ion-col"),p.TgZ(4,"ion-label",5),p._uU(5),p.qZA(),p.qZA(),p.qZA(),p.TgZ(6,"ion-row",6),p.TgZ(7,"ion-col",7),p.TgZ(8,"ion-label",7),p._uU(9),p.qZA(),p.qZA(),p.TgZ(10,"ion-col",8),p.YNc(11,D,1,0,"ion-icon",9),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&t){var i=e.$implicit;p.xp6(5),p.Oqu(i.numbers),p.xp6(4),p.hij("\u4e2d\u734e\u671f\u6578\uff1a ",i.matchedResults.length,""),p.xp6(2),p.Q6J("ngIf",0!==i.matchedResults.length)}}var Y=function(){function t(t,e,r,i,n,o){this.dataVal=t,this.commonService=e,this.m6service=r,this._router=i,this.navCtrl=n,this.loadingController=o}return t.prototype.ngOnInit=function(){var t=this.dataVal.storage;for(var e in this.results=[],t){var r=t[e];r.numbers=r.numbers.replace(/([+])/g," $1 "),this.results.push(r)}},t.prototype.showDetail=function(t){t.matchedResults.length>0&&(this.dataVal.storage=t,this.navCtrl.navigateForward(["capcheck/list"]))},t.\u0275fac=function(e){return new(e||t)(p.Y36(v.B),p.Y36(d.v),p.Y36(m.d),p.Y36(s.F0),p.Y36(o.SH),p.Y36(o.HT))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-capcheckresult"]],decls:9,vars:1,consts:[["slot","start"],[3,"text"],["detail-push","",3,"click",4,"ngFor","ngForOf"],["detail-push","",3,"click"],[2,"vertical-align","middle","text-align","left","background-color","burlywood"],[1,"wrap"],[2,"background-color","lightcoral","vertical-align","middle"],[2,"vertical-align","middle"],[2,"text-align","right","vertical-align","middle"],["name","arrow-dropright",4,"ngIf"],["name","arrow-dropright"]],template:function(t,e){1&t&&(p.TgZ(0,"ion-header"),p.TgZ(1,"ion-toolbar"),p.TgZ(2,"ion-buttons",0),p._UZ(3,"ion-back-button",1),p.qZA(),p.TgZ(4,"ion-title"),p._uU(5," \u6700\u8fd130\u671f\u4e2d\u734e\u6458\u8981 "),p.qZA(),p.qZA(),p.qZA(),p.TgZ(6,"ion-content"),p.TgZ(7,"ion-list"),p.YNc(8,W,12,3,"ion-item",2),p.qZA(),p.qZA()),2&t&&(p.xp6(8),p.Q6J("ngForOf",e.results))},directives:[o.Gu,o.sr,o.Sm,o.oU,o.cs,o.wd,o.W2,o.q_,i.sg,o.Ie,o.jY,o.Nd,o.wI,o.Q$,i.O5,o.gu],styles:[".wrap[_ngcontent-%COMP%]{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}"]}),t}();function V(t,e){if(1&t&&p._UZ(0,"img",11),2&t){var r=p.oxw().$implicit;p.MGl("src","./assets/images/no_",r.number1,".png",p.LSH)}}function J(t,e){if(1&t&&p._UZ(0,"img",11),2&t){var r=p.oxw().$implicit;p.MGl("src","./assets/images/no_",r.number1,"x.png",p.LSH)}}function F(t,e){if(1&t&&p._UZ(0,"img",11),2&t){var r=p.oxw().$implicit;p.MGl("src","./assets/images/no_",r.number2,".png",p.LSH)}}function B(t,e){if(1&t&&p._UZ(0,"img",11),2&t){var r=p.oxw().$implicit;p.MGl("src","./assets/images/no_",r.number2,"x.png",p.LSH)}}function Q(t,e){if(1&t&&p._UZ(0,"img",11),2&t){var r=p.oxw().$implicit;p.MGl("src","./assets/images/no_",r.number3,".png",p.LSH)}}function G(t,e){if(1&t&&p._UZ(0,"img",11),2&t){var r=p.oxw().$implicit;p.MGl("src","./assets/images/no_",r.number3,"x.png",p.LSH)}}function X(t,e){if(1&t&&p._UZ(0,"img",11),2&t){var r=p.oxw().$implicit;p.MGl("src","./assets/images/no_",r.number4,".png",p.LSH)}}function $(t,e){if(1&t&&p._UZ(0,"img",11),2&t){var r=p.oxw().$implicit;p.MGl("src","./assets/images/no_",r.number4,"x.png",p.LSH)}}function K(t,e){if(1&t&&p._UZ(0,"img",11),2&t){var r=p.oxw().$implicit;p.MGl("src","./assets/images/no_",r.number5,".png",p.LSH)}}function tt(t,e){if(1&t&&p._UZ(0,"img",11),2&t){var r=p.oxw().$implicit;p.MGl("src","./assets/images/no_",r.number5,"x.png",p.LSH)}}function et(t,e){if(1&t&&p._UZ(0,"img",11),2&t){var r=p.oxw().$implicit;p.MGl("src","./assets/images/no_",r.number6,".png",p.LSH)}}function rt(t,e){if(1&t&&p._UZ(0,"img",11),2&t){var r=p.oxw().$implicit;p.MGl("src","./assets/images/no_",r.number6,"x.png",p.LSH)}}function it(t,e){if(1&t&&p._UZ(0,"img",11),2&t){var r=p.oxw().$implicit;p.MGl("src","./assets/images/no_",r.numberX,".png",p.LSH)}}function nt(t,e){if(1&t&&p._UZ(0,"img",11),2&t){var r=p.oxw().$implicit;p.MGl("src","./assets/images/no_",r.numberX,"x.png",p.LSH)}}function ot(t,e){if(1&t){var r=p.EpF();p.TgZ(0,"ion-item",5),p.NdJ("click",function(){var t=p.CHM(r).$implicit;return p.oxw().showDetail(t)}),p.TgZ(1,"ion-grid"),p.TgZ(2,"ion-row",6),p.TgZ(3,"ion-col"),p.YNc(4,V,1,1,"img",7),p.YNc(5,J,1,1,"img",7),p.qZA(),p.TgZ(6,"ion-col"),p.YNc(7,F,1,1,"img",7),p.YNc(8,B,1,1,"img",7),p.qZA(),p.TgZ(9,"ion-col"),p.YNc(10,Q,1,1,"img",7),p.YNc(11,G,1,1,"img",7),p.qZA(),p.TgZ(12,"ion-col"),p.YNc(13,X,1,1,"img",7),p.YNc(14,$,1,1,"img",7),p.qZA(),p.TgZ(15,"ion-col"),p.YNc(16,K,1,1,"img",7),p.YNc(17,tt,1,1,"img",7),p.qZA(),p.TgZ(18,"ion-col"),p.YNc(19,et,1,1,"img",7),p.YNc(20,rt,1,1,"img",7),p.qZA(),p.TgZ(21,"ion-col",8),p._uU(22," + "),p.qZA(),p.TgZ(23,"ion-col"),p.YNc(24,it,1,1,"img",7),p.YNc(25,nt,1,1,"img",7),p.qZA(),p.qZA(),p.TgZ(26,"ion-row"),p.TgZ(27,"ion-col",9),p.TgZ(28,"ion-label"),p._uU(29),p.qZA(),p.qZA(),p.TgZ(30,"ion-col",10),p.TgZ(31,"ion-label"),p._uU(32),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&t){var i=e.$implicit,n=p.oxw();p.xp6(4),p.Q6J("ngIf",i.matched[0]),p.xp6(1),p.Q6J("ngIf",!i.matched[0]),p.xp6(2),p.Q6J("ngIf",i.matched[1]),p.xp6(1),p.Q6J("ngIf",!i.matched[1]),p.xp6(2),p.Q6J("ngIf",i.matched[2]),p.xp6(1),p.Q6J("ngIf",!i.matched[2]),p.xp6(2),p.Q6J("ngIf",i.matched[3]),p.xp6(1),p.Q6J("ngIf",!i.matched[3]),p.xp6(2),p.Q6J("ngIf",i.matched[4]),p.xp6(1),p.Q6J("ngIf",!i.matched[4]),p.xp6(2),p.Q6J("ngIf",i.matched[5]),p.xp6(1),p.Q6J("ngIf",!i.matched[5]),p.xp6(4),p.Q6J("ngIf",i.matched[6]),p.xp6(1),p.Q6J("ngIf",!i.matched[6]),p.xp6(4),p.Oqu(i.drawNo),p.xp6(3),p.Oqu(n.toDate(i.drawDate))}}var st=function(){function t(t,e,r,i,n,o){this.dataVal=t,this.commonService=e,this.m6service=r,this._router=i,this.navCtrl=n,this.loadingController=o}return t.prototype.ngOnInit=function(){this.m6results=this.dataVal.storage,null==this.m6results&&this.navCtrl.navigateRoot("/404")},t.prototype.showDetail=function(t){return e=this,void 0,i=function(){var e,r=this;return function(t,e){var r,i,n,o,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,function(i){switch(i.label){case 0:return[4,this.loadingController.create({message:"Loading",spinner:"circles"})];case 1:return(e=i.sent()).present().then(function(){r.navCtrl.navigateForward(["last30/detail",t]),e.dismiss()}),[2]}})},new((r=void 0)||(r=Promise))(function(t,n){function o(t){try{a(i.next(t))}catch(e){n(e)}}function s(t){try{a(i.throw(t))}catch(e){n(e)}}function a(e){var i;e.done?t(e.value):(i=e.value,i instanceof r?i:new r(function(t){t(i)})).then(o,s)}a((i=i.apply(e,[])).next())});var e,r,i},t.prototype.toDate=function(t){return null!=t?this.m6service.toDateStr(Number(t)):""},t.\u0275fac=function(e){return new(e||t)(p.Y36(v.B),p.Y36(d.v),p.Y36(m.d),p.Y36(s.F0),p.Y36(o.SH),p.Y36(o.HT))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-capchecklist"]],decls:13,vars:2,consts:[["slot","start"],[3,"text"],[2,"vertical-align","middle","text-align","center","background-color","burlywood"],[1,"wrap"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[2,"vertical-align","middle","text-align","center"],["class","ball",3,"src",4,"ngIf"],[2,"margin-top","5px"],["size","4"],["size","8"],[1,"ball",3,"src"]],template:function(t,e){1&t&&(p.TgZ(0,"ion-header"),p.TgZ(1,"ion-toolbar"),p.TgZ(2,"ion-buttons",0),p._UZ(3,"ion-back-button",1),p.qZA(),p.TgZ(4,"ion-title"),p._uU(5," \u6700\u8fd130\u671f\u4e2d\u734e\u7d50\u679c "),p.qZA(),p.qZA(),p.qZA(),p.TgZ(6,"ion-content"),p.TgZ(7,"ion-row",2),p.TgZ(8,"ion-col"),p.TgZ(9,"ion-label",3),p._uU(10),p.qZA(),p.qZA(),p.qZA(),p.TgZ(11,"ion-list"),p.YNc(12,ot,33,16,"ion-item",4),p.qZA(),p.qZA()),2&t&&(p.xp6(10),p.Oqu(e.m6results.numbers),p.xp6(2),p.Q6J("ngForOf",e.m6results.matchedResults))},directives:[o.Gu,o.sr,o.Sm,o.oU,o.cs,o.wd,o.W2,o.Nd,o.wI,o.Q$,o.q_,i.sg,o.Ie,o.jY,i.O5],styles:[""]}),t}(),at=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[i.ez,n.u5,o.Pc,u,_,P,M,s.Bz.forChild([{path:"",component:q},{path:"result",component:Y},{path:"list",component:st}])]]}),t}()},795:function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i},t.exports.default=t.exports,t.exports.__esModule=!0},4141:function(t,e,r){var i=r(795);t.exports=function(t){if(Array.isArray(t))return i(t)},t.exports.default=t.exports,t.exports.__esModule=!0},1052:function(t){function e(t,e,r,i,n,o,s){try{var a=t[o](s),c=a.value}catch(l){return void r(l)}a.done?e(c):Promise.resolve(c).then(i,n)}t.exports=function(t){return function(){var r=this,i=arguments;return new Promise(function(n,o){var s=t.apply(r,i);function a(t){e(s,n,o,a,c,"next",t)}function c(t){e(s,n,o,a,c,"throw",t)}a(void 0)})}},t.exports.default=t.exports,t.exports.__esModule=!0},3837:function(t){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},t.exports.default=t.exports,t.exports.__esModule=!0},5351:function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.default=t.exports,t.exports.__esModule=!0},7265:function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},4539:function(t,e,r){var i=r(3837);function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}t.exports=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach(function(e){i(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t},t.exports.default=t.exports,t.exports.__esModule=!0},8764:function(t,e,r){var i=r(7113);t.exports=function(t,e){if(null==t)return{};var r,n,o=i(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)e.indexOf(r=s[n])>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o},t.exports.default=t.exports,t.exports.__esModule=!0},7113:function(t){t.exports=function(t,e){if(null==t)return{};var r,i,n={},o=Object.keys(t);for(i=0;i<o.length;i++)e.indexOf(r=o[i])>=0||(n[r]=t[r]);return n},t.exports.default=t.exports,t.exports.__esModule=!0},9545:function(t,e,r){var i=r(4141),n=r(5351),o=r(4466),s=r(7265);t.exports=function(t){return i(t)||n(t)||o(t)||s()},t.exports.default=t.exports,t.exports.__esModule=!0},4466:function(t,e,r){var i=r(795);t.exports=function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0},2413:function(t){"use strict";t.exports=JSON.parse('{"name":"tesseract.js","version":"2.0.2","description":"Pure Javascript Multilingual OCR","main":"src/index.js","types":"src/index.d.ts","unpkg":"dist/tesseract.min.js","jsdelivr":"dist/tesseract.min.js","scripts":{"start":"node scripts/server.js","build":"rimraf dist && webpack --config scripts/webpack.config.prod.js","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json","prepublishOnly":"npm run build","wait":"rimraf dist && wait-on http://localhost:3000/dist/tesseract.dev.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","lint":"eslint src","postinstall":"opencollective-postinstall || true"},"browser":{"./src/worker/node/index.js":"./src/worker/browser/index.js"},"author":"","contributors":["jeromewu"],"license":"Apache-2.0","devDependencies":{"@babel/core":"^7.7.7","@babel/preset-env":"^7.7.7","acorn":"^6.4.0","babel-loader":"^8.0.6","cors":"^2.8.5","eslint":"^5.16.0","eslint-config-airbnb":"^17.1.1","eslint-plugin-import":"^2.19.1","eslint-plugin-jsx-a11y":"^6.2.3","eslint-plugin-react":"^7.17.0","expect.js":"^0.3.1","express":"^4.17.1","mocha":"^5.2.0","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","nyc":"^13.3.0","rimraf":"^2.7.1","wait-on":"^3.3.0","webpack":"^4.41.4","webpack-bundle-analyzer":"^3.6.0","webpack-cli":"^3.3.10","webpack-dev-middleware":"^3.7.2"},"dependencies":{"bmp-js":"^0.1.0","file-type":"^12.4.1","idb-keyval":"^3.2.0","is-electron":"^2.2.0","is-url":"^1.2.4","node-fetch":"^2.6.0","opencollective-postinstall":"^2.0.2","regenerator-runtime":"^0.13.3","resolve-url":"^0.2.1","tesseract.js-core":"^2.0.0","zlibjs":"^0.3.1"},"repository":{"type":"git","url":"https://github.com/naptha/tesseract.js.git"},"bugs":{"url":"https://github.com/naptha/tesseract.js/issues"},"homepage":"https://github.com/naptha/tesseract.js","collective":{"type":"opencollective","url":"https://opencollective.com/tesseractjs"}}')}}]);