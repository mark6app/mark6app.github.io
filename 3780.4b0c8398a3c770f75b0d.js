(self.webpackChunkHKM6=self.webpackChunkHKM6||[]).push([[3780],{18250:function(C,O,d){C.exports=d(45820),d(66585),d(56757),d(14110),d(30042),d(51530),d(4566),d(89157),d(25304)},51530:function(C,O,d){var v,_,h;!function(g){"use strict";_=[d(45820),d(30042)],void 0!==(h="function"==typeof(v=function(g){var w=g.ExifMap.prototype;w.tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",34665:{36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber"},34853:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},40965:{1:"InteroperabilityIndex"}},w.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},w.getText=function(f){var u=this.get(f);switch(f){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[f][u];case"ExifVersion":case"FlashpixVersion":return u?String.fromCharCode(u[0],u[1],u[2],u[3]):void 0;case"ComponentsConfiguration":return u?this.stringValues[f][u[0]]+this.stringValues[f][u[1]]+this.stringValues[f][u[2]]+this.stringValues[f][u[3]]:void 0;case"GPSVersionID":return u?u[0]+"."+u[1]+"."+u[2]+"."+u[3]:void 0}return String(u)},w.getAll=function(){var u,t,y,f={};for(u in this)Object.prototype.hasOwnProperty.call(this,u)&&((t=this[u])&&t.getAll?f[this.privateIFDs[u].name]=t.getAll():(y=this.tags[u])&&(f[y]=this.getText(y)));return f},w.getName=function(f){var u=this.tags[f];return"object"==typeof u?this.privateIFDs[f].name:u},function(){var u,t,y,f=w.tags;for(u in f)if(Object.prototype.hasOwnProperty.call(f,u))if(t=w.privateIFDs[u])for(u in y=f[u])Object.prototype.hasOwnProperty.call(y,u)&&(t.map[y[u]]=Number(u));else w.map[f[u]]=Number(u)}()})?v.apply(O,_):v)&&(C.exports=h)}()},30042:function(C,O,d){var v,_,h;!function(g){"use strict";_=[d(45820),d(56757)],void 0!==(h="function"==typeof(v=function(g){function w(x){x&&(Object.defineProperty(this,"map",{value:this.privateIFDs[x].map}),Object.defineProperty(this,"tags",{value:this.tags&&this.tags[x]||{}}))}w.prototype.map={Orientation:274,Thumbnail:513,Exif:34665,GPSInfo:34853,Interoperability:40965},w.prototype.privateIFDs={34665:{name:"Exif",map:{}},34853:{name:"GPSInfo",map:{}},40965:{name:"Interoperability",map:{}}},w.prototype.get=function(x){return this[x]||this[this.map[x]]};var u={1:{getValue:function(p,b){return p.getUint8(b)},size:1},2:{getValue:function(p,b){return String.fromCharCode(p.getUint8(b))},size:1,ascii:!0},3:{getValue:function(p,b,A){return p.getUint16(b,A)},size:2},4:{getValue:function(p,b,A){return p.getUint32(b,A)},size:4},5:{getValue:function(p,b,A){return p.getUint32(b,A)/p.getUint32(b+4,A)},size:8},9:{getValue:function(p,b,A){return p.getInt32(b,A)},size:4},10:{getValue:function(p,b,A){return p.getInt32(b,A)/p.getInt32(b+4,A)},size:8}};function t(x,p,b,A,T,E){var z,F,R,P,k,B,L=u[A];if(L){if(!((F=(z=L.size*T)>4?p+x.getUint32(b+8,E):b+8)+z>x.byteLength)){if(1===T)return L.getValue(x,F,E);for(R=[],P=0;P<T;P+=1)R[P]=L.getValue(x,F+P*L.size,E);if(L.ascii){for(k="",P=0;P<R.length&&"\0"!==(B=R[P]);P+=1)k+=B;return k}return R}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")}function y(x,p,b,A,T,E,L,z){var F,R,P,k,B,V;if(b+6>x.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((R=b+2+12*(F=x.getUint16(b,A)))+4>x.byteLength)){for(P=0;P<F;P+=1)B=x.getUint16(k=b+2+12*P,A),(!L||L[B])&&(z&&!0===z[B]||(V=t(x,p,k,x.getUint16(k+2,A),x.getUint32(k+4,A),A),T[B]=V,E&&(E[B]=k)));return x.getUint32(R,A)}console.log("Invalid Exif data: Invalid directory size.")}}u[7]=u[1],g.parseExifData=function(x,p,b,A,T){if(!T.disableExif){var F,R,E=T.includeExifTags,L=T.excludeExifTags||{34665:{37500:!0}},z=p+10;if(1165519206===x.getUint32(p+4)){if(z+8>x.byteLength)return void console.log("Invalid Exif data: Invalid segment size.");if(0!==x.getUint16(p+8))return void console.log("Invalid Exif data: Missing byte alignment offset.");switch(x.getUint16(z)){case 18761:F=!0;break;case 19789:F=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==x.getUint16(z+2,F))return void console.log("Invalid Exif data: Missing TIFF marker.");R=x.getUint32(z+4,F),A.exif=new w,T.disableExifOffsets||(A.exifOffsets=new w,A.exifTiffOffset=z,A.exifLittleEndian=F),(R=y(x,z,z+R,F,A.exif,A.exifOffsets,E,L))&&!T.disableExifThumbnail&&(R=y(x,z,z+R,F,A.exif,A.exifOffsets,E,L),A.exif[513]&&A.exif[514]&&(A.exif[513]=function(x,p,b){if(b&&!(p+b>x.byteLength))return new Blob([x.buffer.slice(p,p+b)],{type:"image/jpeg"});console.log("Invalid Exif data: Invalid thumbnail data.")}(x,z+A.exif[513],A.exif[514]))),Object.keys(A.exif.privateIFDs).forEach(function(k){!function(x,p,b,A,T,E,L){var z=x.exif[p];z&&(x.exif[p]=new w(p),x.exifOffsets&&(x.exifOffsets[p]=new w(p)),y(b,A,A+z,T,x.exif[p],x.exifOffsets&&x.exifOffsets[p],E&&E[p],L&&L[p]))}(A,k,x,z,F,E,L)})}}},g.metaDataParsers.jpeg[65505].push(g.parseExifData),g.exifWriters={274:function(p,b,A){return new DataView(p,b.exifOffsets[274]+8,2).setUint16(0,A,b.exifLittleEndian),p}},g.writeExifData=function(x,p,b,A){g.exifWriters[p.exif.map[b]](x,p,A)},g.ExifMap=w})?v.apply(O,_):v)&&(C.exports=h)}()},14110:function(C,O,d){var v,_,h;!function(g){"use strict";_=[d(45820)],void 0!==(h="function"==typeof(v=function(g){"undefined"!=typeof fetch&&"undefined"!=typeof Request?g.fetchBlob=function(w,f,u){fetch(new Request(w,u)).then(function(t){return t.blob()}).then(f).catch(function(t){f(null,t)})}:"undefined"!=typeof XMLHttpRequest&&"undefined"!=typeof ProgressEvent&&(g.fetchBlob=function(w,f,u){u=u||{};var t=new XMLHttpRequest;t.open(u.method||"GET",w),u.headers&&Object.keys(u.headers).forEach(function(y){t.setRequestHeader(y,u.headers[y])}),t.withCredentials="include"===u.credentials,t.responseType="blob",t.onload=function(){f(t.response)},t.onerror=t.onabort=t.ontimeout=function(y){f(null,y)},t.send(u.body)})})?v.apply(O,_):v)&&(C.exports=h)}()},89157:function(C,O,d){var v,_,h;!function(g){"use strict";_=[d(45820),d(4566)],void 0!==(h="function"==typeof(v=function(g){var w=g.IptcMap.prototype;w.tags={0:"ApplicationRecordVersion",3:"ObjectTypeReference",4:"ObjectAttributeReference",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectReference",15:"Category",20:"SupplementalCategories",22:"FixtureIdentifier",25:"Keywords",26:"ContentLocationCode",27:"ContentLocationName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"ReferenceService",47:"ReferenceDate",50:"ReferenceNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"Country",103:"OriginalTransmissionReference",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",121:"LocalCaption",122:"Writer",125:"RasterizedCaption",130:"ImageType",131:"ImageOrientation",135:"LanguageIdentifier",150:"AudioType",151:"AudioSamplingRate",152:"AudioSamplingResolution",153:"AudioDuration",154:"AudioOutcue",184:"JobID",185:"MasterDocumentID",186:"ShortDocumentID",187:"UniqueDocumentID",188:"OwnerID",200:"ObjectPreviewFileFormat",201:"ObjectPreviewFileVersion",202:"ObjectPreviewData",221:"Prefs",225:"ClassifyState",228:"SimilarityIndex",230:"DocumentNotes",231:"DocumentHistory",232:"ExifCameraInfo",255:"CatalogSets"},w.stringValues={10:{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"},75:{a:"Morning",b:"Both Morning and Evening",p:"Evening"},131:{L:"Landscape",P:"Portrait",S:"Square"}},w.getText=function(f){var u=this.get(f),y=this.stringValues[this.map[f]];return y?y[u]:String(u)},w.getAll=function(){var u,t,f={};for(u in this)Object.prototype.hasOwnProperty.call(this,u)&&(t=this.tags[u])&&(f[t]=this.getText(t));return f},w.getName=function(f){return this.tags[f]},function(){var t,f=w.tags,u=w.map||{};for(t in f)Object.prototype.hasOwnProperty.call(f,t)&&(u[f[t]]=Number(t))}()})?v.apply(O,_):v)&&(C.exports=h)}()},4566:function(C,O,d){var v,_,h;!function(g){"use strict";_=[d(45820),d(56757)],void 0!==(h="function"==typeof(v=function(g){function w(){}function u(p,b,A,T,E){return"binary"===b.types[p]?new Blob([A.buffer.slice(T,T+E)]):"Uint16"===b.types[p]?A.getUint16(T):function(p,b,A){for(var T="",E=b+A,L=b;L<E;L+=1)T+=String.fromCharCode(p.getUint8(L));return T}(A,T,E)}function t(p,b){return void 0===p?b:p instanceof Array?(p.push(b),p):[p,b]}function y(p,b,A,T,E,L){for(var z,F,R,P=b+A,k=b;k<P;)28===p.getUint8(k)&&2===p.getUint8(k+1)&&(R=p.getUint8(k+2),(!E||E[R])&&(!L||!L[R])&&(F=p.getInt16(k+3),z=u(R,T.iptc,p,k+5,F),T.iptc[R]=t(T.iptc[R],z),T.iptcOffsets&&(T.iptcOffsets[R]=k))),k+=1}function S(p,b){return 943868237===p.getUint32(b)&&1028===p.getUint16(b+4)}function x(p,b){var A=p.getUint8(b+7);return A%2!=0&&(A+=1),0===A&&(A=4),A}w.prototype.map={ObjectName:5},w.prototype.types={0:"Uint16",200:"Uint16",201:"Uint16",202:"binary"},w.prototype.get=function(p){return this[p]||this[this.map[p]]},g.parseIptcData=function(p,b,A,T,E){if(!E.disableIptc)for(var L=b+A;b+8<L;){if(S(p,b)){var z=x(p,b),F=b+8+z;if(F>L){console.log("Invalid IPTC data: Invalid segment offset.");break}var R=p.getUint16(b+6+z);if(b+R>L){console.log("Invalid IPTC data: Invalid segment size.");break}return T.iptc=new w,E.disableIptcOffsets||(T.iptcOffsets=new w),void y(p,F,R,T,E.includeIptcTags,E.excludeIptcTags||{202:!0})}b+=1}},g.metaDataParsers.jpeg[65517].push(g.parseIptcData),g.IptcMap=w})?v.apply(O,_):v)&&(C.exports=h)}()},56757:function(C,O,d){var v,_,h;!function(g){"use strict";_=[d(45820)],void 0!==(h="function"==typeof(v=function(g){var w="undefined"!=typeof Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);g.blobSlice=w&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},g.metaDataParsers={jpeg:{65505:[],65517:[]}},g.parseMetaData=function(u,t,y,S){y=y||{},S=S||{};var x=this;(!("undefined"!=typeof DataView&&u&&u.size>=12&&"image/jpeg"===u.type&&g.blobSlice)||!g.readFile(g.blobSlice.call(u,0,y.maxMetaDataSize||262144),function(A){if(A.target.error)return console.log(A.target.error),void t(S);var R,P,k,B,T=A.target.result,E=new DataView(T),L=2,z=E.byteLength-4,F=L;if(65496===E.getUint16(0)){for(;L<z&&((R=E.getUint16(L))>=65504&&R<=65519||65534===R);){if(L+(P=E.getUint16(L+2)+2)>E.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if((k=g.metaDataParsers.jpeg[R])&&!y.disableMetaDataParsers)for(B=0;B<k.length;B+=1)k[B].call(x,E,L,P,S,y);F=L+=P}!y.disableImageHead&&F>6&&(S.imageHead=T.slice?T.slice(0,F):new Uint8Array(T).subarray(0,F))}else console.log("Invalid JPEG file: Missing JPEG marker.");t(S)},"readAsArrayBuffer"))&&t(S)},g.replaceHead=function(u,t,y){g.parseMetaData(u,function(S){y(new Blob([t,g.blobSlice.call(u,S.imageHead.byteLength)],{type:"image/jpeg"}))},{maxMetaDataSize:256,disableMetaDataParsers:!0})};var f=g.transform;g.transform=function(u,t,y,S,x){g.hasMetaOption(t)?g.parseMetaData(S,function(p){f.call(g,u,t,y,S,p)},t,x):f.apply(g,arguments)}})?v.apply(O,_):v)&&(C.exports=h)}()},25304:function(C,O,d){var v,_,h;!function(g){"use strict";_=[d(45820),d(66585),d(56757)],void 0!==(h="function"==typeof(v=function(g){var S,w=g.hasCanvasOption,f=g.hasMetaOption,u=g.transformCoordinates,t=g.getTransformedOptions;(S=document.createElement("img")).onload=function(){g.orientation=1===S.width&&2===S.height},S.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",g.hasCanvasOption=function(y){return!!y.orientation&&!g.orientation||y.orientation>1&&y.orientation<9||w.call(g,y)},g.hasMetaOption=function(y){return y&&!0===y.orientation&&!g.orientation||f.call(g,y)},g.transformCoordinates=function(y,S){u.call(g,y,S);var x=y.getContext("2d"),p=y.width,b=y.height,A=y.style.width,T=y.style.height,E=S.orientation;if(E>1&&E<9)switch(E>4&&(y.width=b,y.height=p,y.style.width=T,y.style.height=A),E){case 2:x.translate(p,0),x.scale(-1,1);break;case 3:x.translate(p,b),x.rotate(Math.PI);break;case 4:x.translate(0,b),x.scale(1,-1);break;case 5:x.rotate(.5*Math.PI),x.scale(1,-1);break;case 6:x.rotate(.5*Math.PI),x.translate(0,-b);break;case 7:x.rotate(.5*Math.PI),x.translate(p,-b),x.scale(-1,1);break;case 8:x.rotate(-.5*Math.PI),x.translate(-p,0)}},g.getTransformedOptions=function(y,S,x){var A,T,p=t.call(g,y,S),b=p.orientation;if(!0===b){if(g.orientation)return p;b=x&&x.exif&&x.exif.get("Orientation")}if(!(b>1&&b<9))return p;for(T in A={},p)Object.prototype.hasOwnProperty.call(p,T)&&(A[T]=p[T]);switch(A.orientation=b,b){case 2:A.left=p.right,A.right=p.left;break;case 3:A.left=p.right,A.top=p.bottom,A.right=p.left,A.bottom=p.top;break;case 4:A.top=p.bottom,A.bottom=p.top;break;case 5:A.left=p.top,A.top=p.left,A.right=p.bottom,A.bottom=p.right;break;case 6:A.left=p.top,A.top=p.right,A.right=p.bottom,A.bottom=p.left;break;case 7:A.left=p.bottom,A.top=p.right,A.right=p.top,A.bottom=p.left;break;case 8:A.left=p.bottom,A.top=p.left,A.right=p.top,A.bottom=p.right}return A.orientation>4&&(A.maxWidth=p.maxHeight,A.maxHeight=p.maxWidth,A.minWidth=p.minHeight,A.minHeight=p.minWidth,A.sourceWidth=p.sourceHeight,A.sourceHeight=p.sourceWidth),A}})?v.apply(O,_):v)&&(C.exports=h)}()},66585:function(C,O,d){var v,_,h;!function(g){"use strict";_=[d(45820)],void 0!==(h="function"==typeof(v=function(g){var w=g.transform;g.transform=function(f,u,t,y,S){w.call(g,g.scale(f,u,S),u,t,y,S)},g.transformCoordinates=function(){},g.getTransformedOptions=function(f,u){var y,S,x,p,t=u.aspectRatio;if(!t)return u;for(S in y={},u)Object.prototype.hasOwnProperty.call(u,S)&&(y[S]=u[S]);return y.crop=!0,(x=f.naturalWidth||f.width)/(p=f.naturalHeight||f.height)>t?(y.maxWidth=p*t,y.maxHeight=p):(y.maxWidth=x,y.maxHeight=x/t),y},g.renderImageToCanvas=function(f,u,t,y,S,x,p,b,A,T,E){var L=f.getContext("2d");return!1===E.imageSmoothingEnabled?L.imageSmoothingEnabled=!1:E.imageSmoothingQuality&&(L.imageSmoothingQuality=E.imageSmoothingQuality),L.drawImage(u,t,y,S,x,p,b,A,T),f},g.hasCanvasOption=function(f){return f.canvas||f.crop||!!f.aspectRatio},g.scale=function(f,u,t){u=u||{};var T,E,L,z,F,R,P,k,B,V,ee,y=document.createElement("canvas"),S=f.getContext||g.hasCanvasOption(u)&&y.getContext,x=f.naturalWidth||f.width,p=f.naturalHeight||f.height,b=x,A=p;function K(){var q=Math.max((L||b)/b,(z||A)/A);q>1&&(b*=q,A*=q)}function te(){var q=Math.min((T||b)/b,(E||A)/A);q<1&&(b*=q,A*=q)}if(S&&(P=(u=g.getTransformedOptions(f,u,t)).left||0,k=u.top||0,u.sourceWidth?(F=u.sourceWidth,void 0!==u.right&&void 0===u.left&&(P=x-F-u.right)):F=x-P-(u.right||0),u.sourceHeight?(R=u.sourceHeight,void 0!==u.bottom&&void 0===u.top&&(k=p-R-u.bottom)):R=p-k-(u.bottom||0),b=F,A=R),T=u.maxWidth,E=u.maxHeight,L=u.minWidth,z=u.minHeight,S&&T&&E&&u.crop?(b=T,A=E,(ee=F/R-T/E)<0?(R=E*F/T,void 0===u.top&&void 0===u.bottom&&(k=(p-R)/2)):ee>0&&(F=T*R/E,void 0===u.left&&void 0===u.right&&(P=(x-F)/2))):((u.contain||u.cover)&&(L=T=T||L,z=E=E||z),u.cover?(te(),K()):(K(),te())),S){if((B=u.pixelRatio)>1&&(y.style.width=b+"px",y.style.height=A+"px",b*=B,A*=B,y.getContext("2d").scale(B,B)),(V=u.downsamplingRatio)>0&&V<1&&b<F&&A<R)for(;F*V>b;)y.width=F*V,y.height=R*V,g.renderImageToCanvas(y,f,P,k,F,R,0,0,y.width,y.height,u),P=0,k=0,F=y.width,R=y.height,(f=document.createElement("canvas")).width=F,f.height=R,g.renderImageToCanvas(f,y,0,0,F,R,0,0,F,R,u);return y.width=b,y.height=A,g.transformCoordinates(y,u),g.renderImageToCanvas(y,f,P,k,F,R,0,0,b,A,u)}return f.width=b,f.height=A,f}})?v.apply(O,_):v)&&(C.exports=h)}()},45820:function(C,O,d){var v;!function(_){"use strict";function h(f,u,t){var S,y=document.createElement("img");function x(p,b){b&&console.log(b),p&&h.isInstanceOf("Blob",p)?S=h.createObjectURL(f=p):(S=f,t&&t.crossOrigin&&(y.crossOrigin=t.crossOrigin)),y.src=S}return y.onerror=function(p){return h.onerror(y,p,f,S,u,t)},y.onload=function(p){return h.onload(y,p,f,S,u,t)},"string"==typeof f?(h.hasMetaOption(t)?h.fetchBlob(f,x,t):x(),y):h.isInstanceOf("Blob",f)||h.isInstanceOf("File",f)?(S=h.createObjectURL(f))?(y.src=S,y):h.readFile(f,function(p){var b=p.target;b&&b.result?y.src=b.result:u&&u(p)}):void 0}var g=_.createObjectURL&&_||_.URL&&URL.revokeObjectURL&&URL||_.webkitURL&&webkitURL;function w(f,u){f&&"blob:"===f.slice(0,5)&&(!u||!u.noRevoke)&&h.revokeObjectURL(f)}h.hasMetaOption=function(f){return f&&f.meta},h.fetchBlob=function(f,u){u()},h.isInstanceOf=function(f,u){return Object.prototype.toString.call(u)==="[object "+f+"]"},h.transform=function(f,u,t,y,S){t(f,S)},h.onerror=function(f,u,t,y,S,x){w(y,x),S&&S.call(f,u)},h.onload=function(f,u,t,y,S,x){w(y,x),S&&h.transform(f,x,S,t,{originalWidth:f.naturalWidth||f.width,originalHeight:f.naturalHeight||f.height})},h.createObjectURL=function(f){return!!g&&g.createObjectURL(f)},h.revokeObjectURL=function(f){return!!g&&g.revokeObjectURL(f)},h.readFile=function(f,u,t){if(_.FileReader){var y=new FileReader;if(y.onload=y.onerror=u,y[t=t||"readAsDataURL"])return y[t](f),y}return!1},void 0!==(v=function(){return h}.call(O,d,O,C))&&(C.exports=v)}("undefined"!=typeof window&&window||this)},55504:function(C){C.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||"undefined"!=typeof process&&"object"==typeof process.versions&&!!process.versions.electron||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}},79036:function(C,O,d){var v,_;void 0!==(_="function"==typeof(v=function(){return function(){var g=arguments.length;if(0===g)throw new Error("resolveUrl requires at least one argument; got none.");var w=document.createElement("base");if(w.href=arguments[0],1===g)return w.href;var f=document.getElementsByTagName("head")[0];f.insertBefore(w,f.firstChild);for(var t,u=document.createElement("a"),y=1;y<g;y++)u.href=arguments[y],w.href=t=u.href;return f.removeChild(w),t}})?v.call(O,d,O,C):v)&&(C.exports=_)},74645:function(C,O,d){var v=d(88774),_=d(91052).default,h=d(47747);C.exports={recognize:function(){var f=_(v.mark(function u(t,y,S){var x;return v.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return x=h(S),b.next=3,x.load();case 3:return b.next=5,x.loadLanguage(y);case 5:return b.next=7,x.initialize(y);case 7:return b.abrupt("return",x.recognize(t).finally(_(v.mark(function A(){return v.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,x.terminate();case 2:case"end":return E.stop()}},A)}))));case 8:case"end":return b.stop()}},u)}));return function(t,y,S){return f.apply(this,arguments)}}(),detect:function(){var f=_(v.mark(function u(t,y){var S;return v.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return S=h(y),p.next=3,S.load();case 3:return p.next=5,S.loadLanguage("osd");case 5:return p.next=7,S.initialize("osd");case 7:return p.abrupt("return",S.detect(t).finally(_(v.mark(function b(){return v.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,S.terminate();case 2:case"end":return T.stop()}},b)}))));case 8:case"end":return p.stop()}},u)}));return function(t,y){return f.apply(this,arguments)}}()}},90085:function(C){C.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},31840:function(C){C.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12"}},27925:function(C,O,d){var v=d(90085);C.exports={defaultOEM:v.DEFAULT}},32709:function(C){C.exports={langPath:"https://tessdata.projectnaptha.com/4.0.0",workerBlobURL:!0,logger:function(){}}},52620:function(C){C.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}},11740:function(C,O,d){var v=d(6012),_=0;C.exports=function(h){var w=h.action,f=h.payload,u=void 0===f?{}:f,t=h.id;return void 0===t&&(t=v("Job",_),_+=1),{id:t,action:w,payload:u}}},92818:function(C,O,d){var v=d(88774),_=d(59545).default,h=d(91052).default,g=this,w=d(11740),u=d(40253).log,t=d(6012),y=0;C.exports=function(){var S=t("Scheduler",y),x={},p={},b=[];y+=1;var T=function(){return Object.keys(x).length},E=function(){if(0!==b.length)for(var k=Object.keys(x),B=0;B<k.length;B+=1)if(void 0===p[k[B]]){b[0](x[k[B]]);break}},L=function(k,B){return new Promise(function(V,ee){var K=w({action:k,payload:B});b.push(function(){var te=h(v.mark(function q(X){return v.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return b.shift(),p[X.id]=K,J.prev=2,J.t0=V,J.next=6,X[k].apply(g,[].concat(_(B),[K.id]));case 6:J.t1=J.sent,(0,J.t0)(J.t1),J.next=13;break;case 10:J.prev=10,J.t2=J.catch(2),ee(J.t2);case 13:return J.prev=13,delete p[X.id],E(),J.finish(13);case 17:case"end":return J.stop()}},q,null,[[2,10,13,17]])}));return function(q){return te.apply(this,arguments)}}()),u("[".concat(S,"]: Add ").concat(K.id," to JobQueue")),u("[".concat(S,"]: JobQueue length=").concat(b.length)),E()})};return{addWorker:function(k){return x[k.id]=k,u("[".concat(S,"]: Add ").concat(k.id)),u("[".concat(S,"]: Number of workers=").concat(T())),E(),k.id},addJob:function(){var P=h(v.mark(function k(B){var V,ee,K,te=arguments;return v.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(0!==T()){X.next=2;break}throw Error("[".concat(S,"]: You need to have at least one worker before adding jobs"));case 2:for(V=te.length,ee=new Array(V>1?V-1:0),K=1;K<V;K++)ee[K-1]=te[K];return X.abrupt("return",L(B,ee));case 4:case"end":return X.stop()}},k)}));return function(B){return P.apply(this,arguments)}}(),terminate:function(){var P=h(v.mark(function k(){return v.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:Object.keys(x).forEach(function(){var ee=h(v.mark(function K(te){return v.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,x[te].terminate();case 2:case"end":return X.stop()}},K)}));return function(K){return ee.apply(this,arguments)}}()),b=[];case 2:case"end":return V.stop()}},k)}));return function(){return P.apply(this,arguments)}}(),getQueueLen:function(){return b.length},getNumWorkers:T}}},47747:function(C,O,d){var v=d(88774),_=d(91052).default,h=d(84539).default,g=d(48764).default,w=["logger","errorHandler"],f=d(78623),u=d(24897),t=d(11740),S=d(40253).log,x=d(6012),b=d(27925).defaultOEM,A=d(4034),T=A.defaultOptions,E=A.spawnWorker,L=A.terminateWorker,z=A.onMessage,F=A.loadImage,R=A.send,P=0;C.exports=function(){var k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},B=x("Worker",P),V=f(h(h({},T),k)),ee=V.logger,K=V.errorHandler,te=g(V,w),q={},X={},ce=E(te);P+=1;var J=function(W,H){q[W]=H},le=function(W,H){X[W]=H},re=function(W){var H=W.id,Q=W.action,ae=W.payload;return new Promise(function(Z,fe){S("[".concat(B,"]: Start ").concat(H,", action=").concat(Q)),J(Q,Z),le(Q,fe),R(ce,{workerId:B,jobId:H,action:Q,payload:ae})})},Ie=function(W){return re(t({id:W,action:"load",payload:{options:te}}))},ye=function(W,H,Q){return re(t({id:Q,action:"FS",payload:{method:"writeFile",args:[W,H]}}))},Oe=function(W,H){return re(t({id:H,action:"FS",payload:{method:"readFile",args:[W,{encoding:"utf8"}]}}))},Te=function(W,H){return re(t({id:H,action:"FS",payload:{method:"unlink",args:[W]}}))},ke=function(W,H,Q){return re(t({id:Q,action:"FS",payload:{method:W,args:H}}))},Re=function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",H=arguments.length>1?arguments[1]:void 0;return re(t({id:H,action:"loadLanguage",payload:{langs:W,options:te}}))},Ae=function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b,Q=arguments.length>2?arguments[2]:void 0;return re(t({id:Q,action:"initialize",payload:{langs:W,oem:H}}))},De=function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},H=arguments.length>1?arguments[1]:void 0;return re(t({id:H,action:"setParameters",payload:{params:W}}))},Fe=function(){var Y=_(v.mark(function W(H){var Q,ae,Z=arguments;return v.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return Q=Z.length>1&&void 0!==Z[1]?Z[1]:{},ae=Z.length>2?Z[2]:void 0,G.t0=re,G.t1=t,G.t2=ae,G.next=7,F(H);case 7:return G.t3=G.sent,G.t4=Q,G.t5={image:G.t3,options:G.t4},G.t6={id:G.t2,action:"recognize",payload:G.t5},G.t7=(0,G.t1)(G.t6),G.abrupt("return",(0,G.t0)(G.t7));case 13:case"end":return G.stop()}},W)}));return function(H){return Y.apply(this,arguments)}}(),Le=function(){var W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Tesseract OCR Result",H=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Q=arguments.length>2?arguments[2]:void 0;return re(t({id:Q,action:"getPDF",payload:{title:W,textonly:H}}))},xe=function(){var Y=_(v.mark(function W(H,Q){return v.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.t0=re,Z.t1=t,Z.t2=Q,Z.next=5,F(H);case 5:return Z.t3=Z.sent,Z.t4={image:Z.t3},Z.t5={id:Z.t2,action:"detect",payload:Z.t4},Z.t6=(0,Z.t1)(Z.t5),Z.abrupt("return",(0,Z.t0)(Z.t6));case 10:case"end":return Z.stop()}},W)}));return function(H,Q){return Y.apply(this,arguments)}}(),Se=function(){var Y=_(v.mark(function W(){return v.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return null!==ce&&(L(ce),ce=null),Q.abrupt("return",Promise.resolve());case 2:case"end":return Q.stop()}},W)}));return function(){return Y.apply(this,arguments)}}();return z(ce,function(Y){var H=Y.jobId,Q=Y.status,ae=Y.action,Z=Y.data;if("resolve"===Q){S("[".concat(Y.workerId,"]: Complete ").concat(H));var fe=Z;"recognize"===ae?fe=u(Z):"getPDF"===ae&&(fe=Array.from(h(h({},Z),{},{length:Object.keys(Z).length}))),q[ae]({jobId:H,data:fe})}else if("reject"===Q){if(X[ae](Z),!K)throw Error(Z);K(Z)}else"progress"===Q&&ee(h(h({},Z),{},{userJobId:H}))}),{id:B,worker:ce,setResolve:J,setReject:le,load:Ie,writeText:ye,readText:Oe,removeFile:Te,FS:ke,loadLanguage:Re,initialize:Ae,setParameters:De,recognize:Fe,getPDF:Le,detect:xe,terminate:Se}}},78917:function(C,O,d){var v=d(84539).default;d(45579);var _=d(92818),h=d(47747),g=d(74645),w=d(52620),f=d(90085),u=d(31840),t=d(40253);C.exports=v({languages:w,OEM:f,PSM:u,createScheduler:_,createWorker:h,setLogging:t.setLogging},g)},24897:function(C,O,d){var v=d(84539).default;C.exports=function(_){var h=[],g=[],w=[],f=[],u=[];return _.blocks.forEach(function(t){t.paragraphs.forEach(function(y){y.lines.forEach(function(S){S.words.forEach(function(x){x.symbols.forEach(function(p){u.push(v(v({},p),{},{page:_,block:t,paragraph:y,line:S,word:x}))}),f.push(v(v({},x),{},{page:_,block:t,paragraph:y,line:S}))}),w.push(v(v({},S),{},{page:_,block:t,paragraph:y}))}),g.push(v(v({},y),{},{page:_,block:t}))}),h.push(v(v({},t),{},{page:_}))}),v(v({},_),{},{blocks:h,paragraphs:g,lines:w,words:f,symbols:u})}},44576:function(C,O,d){var v=d(55504);C.exports=function(_){var h={};return"undefined"!=typeof WorkerGlobalScope?h.type="webworker":v()?h.type="electron":"object"==typeof window?h.type="browser":"object"==typeof process&&(h.type="node"),void 0===_?h:h[_]}},6012:function(C){C.exports=function(O,d){return"".concat(O,"-").concat(d,"-").concat(Math.random().toString(16).slice(3,8))}},40253:function(C,O){var d=this,v=!1;O.logging=v,O.setLogging=function(_){v=_},O.log=function(){for(var _=arguments.length,h=new Array(_),g=0;g<_;g++)h[g]=arguments[g];return v?console.log.apply(d,h):null}},78623:function(C,O,d){var v=d(84539).default,h="browser"===d(44576)("type")?d(79036):function(g){return g};C.exports=function(g){var w=v({},g);return["corePath","workerPath","langPath"].forEach(function(f){void 0!==g[f]&&(w[f]=h(w[f]))}),w}},96379:function(C,O,d){var v=d(84539).default,_=d(79036),h=d(94547),g=h.version,w=h.dependencies,f=d(32709);C.exports=v(v({},f),{},{workerPath:"undefined"!=typeof process&&"development"===process.env.TESS_ENV?_("/dist/worker.dev.js?nocache=".concat(Math.random().toString(36).slice(3))):"https://unpkg.com/tesseract.js@v".concat(g,"/dist/worker.min.js"),corePath:"https://unpkg.com/tesseract.js-core@v".concat(w["tesseract.js-core"].substring(1),"/tesseract-core.").concat("object"==typeof WebAssembly?"wasm":"asm",".js")})},4034:function(C,O,d){var v=d(96379),_=d(87262),h=d(38229),g=d(88081),w=d(59514),f=d(34161);C.exports={defaultOptions:v,spawnWorker:_,terminateWorker:h,onMessage:g,send:w,loadImage:f}},34161:function(C,O,d){var v=d(88774),_=d(91052).default,h=d(79036),g=d(18250),w=function(y){return new Promise(function(S,x){var p=new FileReader;p.onload=function(){S(p.result)},p.onerror=function(b){x(Error("File could not be read! Code=".concat(b.target.error.code)))},p.readAsArrayBuffer(y)})},f=function(y){return new Promise(function(S){g(y,function(x){return x.toBlob(S)},{orientation:!0,canvas:!0})})},u=function(){var t=_(v.mark(function y(S){var x,p,b,A;return v.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(x=S,void 0!==S){E.next=3;break}return E.abrupt("return","undefined");case 3:if("string"!=typeof S){E.next=24;break}if(!S.endsWith(".pbm")){E.next=13;break}return E.next=7,fetch(h(S));case 7:return p=E.sent,E.next=10,p.arrayBuffer();case 10:x=E.sent,E.next=22;break;case 13:return b=S,/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(S)||(b=h(S)),E.t0=w,E.next=18,f(b);case 18:return E.t1=E.sent,E.next=21,(0,E.t0)(E.t1);case 21:x=E.sent;case 22:E.next=47;break;case 24:if(!(S instanceof HTMLElement)){E.next=38;break}if("IMG"!==S.tagName){E.next=29;break}return E.next=28,u(S.src);case 28:x=E.sent;case 29:if("VIDEO"!==S.tagName){E.next=33;break}return E.next=32,u(S.poster);case 32:x=E.sent;case 33:if("CANVAS"!==S.tagName){E.next=36;break}return E.next=36,new Promise(function(L){S.toBlob(function(){var z=_(v.mark(function F(R){return v.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,w(R);case 2:x=k.sent,L();case 4:case"end":return k.stop()}},F)}));return function(F){return z.apply(this,arguments)}}())});case 36:E.next=47;break;case 38:if(!(S instanceof File||S instanceof Blob)){E.next=47;break}if(A=S,S.name.endsWith(".pbm")){E.next=44;break}return E.next=43,f(A);case 43:A=E.sent;case 44:return E.next=46,w(A);case 46:x=E.sent;case 47:return E.abrupt("return",new Uint8Array(x));case 48:case"end":return E.stop()}},y)}));return function(S){return t.apply(this,arguments)}}();C.exports=u},88081:function(C){C.exports=function(O,d){O.onmessage=function(v){d(v.data)}}},59514:function(C,O,d){var v=d(88774),_=d(91052).default;C.exports=function(){var h=_(v.mark(function g(w,f){return v.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:w.postMessage(f);case 1:case"end":return t.stop()}},g)}));return function(g,w){return h.apply(this,arguments)}}()},87262:function(C){C.exports=function(O){var _,d=O.workerPath;if(Blob&&URL&&O.workerBlobURL){var h=new Blob(['importScripts("'.concat(d,'");')],{type:"application/javascript"});_=new Worker(URL.createObjectURL(h))}else _=new Worker(d);return _}},38229:function(C){C.exports=function(O){O.terminate()}},53780:function(C,O,d){"use strict";d.r(O),d.d(O,{CapCheckComponentModule:function(){return Wt}});var v=d(61116),_=d(11462),h=d(78809),g=d(9185),w=d(83559),f=d(75134),u=d(47289),t=d(95614),b=function(){function a(){(0,f.Z)(this,a)}return(0,u.Z)(a,null,[{key:"getAvailableVideoInputs",value:function(){return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?new Promise(function(r,e){navigator.mediaDevices.enumerateDevices().then(function(n){r(n.filter(function(i){return"videoinput"===i.kind}))}).catch(function(n){e(n.message||n)})}):Promise.reject("enumerateDevices() not supported.")}}]),a}(),E=function(){var a=function o(){(0,f.Z)(this,o)};return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[v.ez]]}),a}(),F=d(78917),R=d(15234),P=d(74805),k=d(24545),B=d(257),V=function(){function a(o){(0,f.Z)(this,a),this.startScrollPosition=0,this.interruptListenersAttached=!1,this.timer=null,o.scrollViews&&0!==o.scrollViews.length?this.isInlineScrolling=!0:(o.scrollViews=[o.document.documentElement,o.document.body,o.document.body.parentNode],this.isInlineScrolling=!1),this.pageScrollOptions=o}return(0,u.Z)(a,[{key:"getScrollPropertyValue",value:function(r){return this.pageScrollOptions.verticalScrolling?r.scrollTop:r.scrollLeft}},{key:"getScrollClientPropertyValue",value:function(r){return this.pageScrollOptions.verticalScrolling?r.clientHeight:r.clientWidth}},{key:"extractScrollTargetPosition",value:function(){var r=this.getScrollTargetElement();return null==r?{top:NaN,left:NaN}:this.isInlineScrolling?a.getInlineScrollingTargetPosition(this.pageScrollOptions,r):a.getScrollingTargetPosition(this.pageScrollOptions,r)}},{key:"getCurrentOffset",value:function(){return this.pageScrollOptions.scrollOffset}},{key:"setScrollPosition",value:function(r){var e=this;return this.pageScrollOptions.scrollViews.reduce(function(n,i){var s=e.getScrollPropertyValue(i);if(i&&null!=s){var l=Math.abs(s-r),m=l<e.pageScrollOptions._minScrollDistance;if(e.pageScrollOptions.verticalScrolling?i.scrollTop=r:i.scrollLeft=r,m||l>Math.abs(e.getScrollPropertyValue(i)-r))return!0}return n},!1)}},{key:"fireEvent",value:function(r){this.pageScrollOptions.scrollFinishListener&&this.pageScrollOptions.scrollFinishListener.emit(r)}},{key:"attachInterruptListeners",value:function(r){var e=this;this.interruptListenersAttached&&this.detachInterruptListeners(),this.interruptListener=function(n){r.report(n,e)},this.pageScrollOptions.interruptEvents.forEach(function(n){return e.pageScrollOptions.document.body.addEventListener(n,e.interruptListener)}),this.interruptListenersAttached=!0}},{key:"detachInterruptListeners",value:function(){var r=this;this.pageScrollOptions.interruptEvents.forEach(function(e){return r.pageScrollOptions.document.body.removeEventListener(e,r.interruptListener)}),this.interruptListenersAttached=!1}},{key:"getScrollTargetElement",value:function(){if("string"==typeof this.pageScrollOptions.scrollTarget){var r=this.pageScrollOptions.scrollTarget;return null!==r.match(/^#[^\s]+$/g)?this.pageScrollOptions.document.getElementById(r.substr(1)):this.pageScrollOptions.document.querySelector(r)}return this.pageScrollOptions.scrollTarget}}],[{key:"getScrollingTargetPosition",value:function(r,e){var n=r.document.body,i=r.document.documentElement,m=r.document.defaultView&&r.document.defaultView.pageYOffset||i.scrollTop||n.scrollTop,c=r.document.defaultView&&r.document.defaultView.pageXOffset||i.scrollLeft||n.scrollLeft,M=i.clientTop||n.clientTop||0,D=i.clientLeft||n.clientLeft||0;if(null==e)return{top:m,left:c};var I=e.getBoundingClientRect(),U=I.left+c-D;return{top:Math.round(I.top+m-M),left:Math.round(U)}}},{key:"getInlineScrollingTargetPosition",value:function(r,e){var n={top:e.offsetTop,left:e.offsetLeft};if(r.advancedInlineOffsetCalculation&&1===r.scrollViews.length){for(var i={top:0,left:0},s=e.ownerDocument.defaultView,l=!1,m=e.parentElement;!l&&null!=m;)"relative"===s.getComputedStyle(m).getPropertyValue("position")&&(i.top+=m.offsetTop,i.left+=m.offsetLeft),l=(m=m.parentElement)===r.scrollViews[0];l&&(n.top+=i.top,n.left+=i.left)}return n}}]),a}(),ee=new t.OlP("ngxps_config"),te={_interval:10,_minScrollDistance:2,_logLevel:1,namespace:"default",verticalScrolling:!0,duration:1250,scrollOffset:0,advancedInlineOffsetCalculation:!1,interruptEvents:["mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],interruptKeys:[" ","Escape","Tab","Enter","PageUp","PageDown","Home","End","ArrowUp","ArrowRight","ArrowLeft","ArrowDown"],interruptible:!0,scrollInView:!0,easingLogic:function(o,r,e,n){return e*o/n+r}},q=function(){var a=function(){function o(r){var e=this;(0,f.Z)(this,o),this.runningInstances=[],this.onInterrupted={report:function(i,s){if(s.pageScrollOptions.interruptible){var l=!0;"keyup"===i.type?-1===e.config.interruptKeys.indexOf(i.key)&&(l=!1):"mousedown"===i.type&&(s.pageScrollOptions.scrollViews.some(function(m){return m.contains(i.target)})||(l=!1)),l&&e.stopAll(s.pageScrollOptions.namespace)}}},this.config=Object.assign(Object.assign({},te),r)}return(0,u.Z)(o,[{key:"stopInternal",value:function(e,n){var i=this.runningInstances.indexOf(n);return i>=0&&this.runningInstances.splice(i,1),n.interruptListenersAttached&&n.detachInterruptListeners(),!!n.timer&&(clearInterval(n.timer),n.timer=void 0,n.fireEvent(!e),!0)}},{key:"create",value:function(e){return new V(Object.assign(Object.assign({},this.config),e))}},{key:"start",value:function(e){var n=this;if(e.pageScrollOptions=Object.assign(Object.assign({},this.config),e.pageScrollOptions),this.stopAll(e.pageScrollOptions.namespace),null!==e.pageScrollOptions.scrollViews&&0!==e.pageScrollOptions.scrollViews.length){var i=!1,s=e.getScrollClientPropertyValue(e.pageScrollOptions.scrollViews[0]);e.startScrollPosition=0,e.pageScrollOptions.scrollViews.forEach(function(I){if(null!=I){var j=e.getScrollPropertyValue(I);!i&&j&&(e.startScrollPosition=j,i=!0,s=e.getScrollClientPropertyValue(I))}});var l=e.getCurrentOffset(),m=e.extractScrollTargetPosition();if(e.targetScrollPosition=Math.round((e.pageScrollOptions.verticalScrolling?m.top:m.left)-l),e.distanceToScroll=e.targetScrollPosition-e.startScrollPosition,isNaN(e.distanceToScroll))return(this.config._logLevel>=2||this.config._logLevel>=1&&(0,t.X6Q)())&&console.log("Scrolling not possible, as we can't find the specified target"),void e.fireEvent(!1);var c=Math.abs(e.distanceToScroll)<e.pageScrollOptions._minScrollDistance;if(e.executionDuration=e.pageScrollOptions.duration,null!=e.pageScrollOptions.speed&&null==e.pageScrollOptions.duration&&(e.executionDuration=Math.abs(e.distanceToScroll)/e.pageScrollOptions.speed*1e3),c||e.executionDuration<=e.pageScrollOptions._interval)return(this.config._logLevel>=2||this.config._logLevel>=1&&(0,t.X6Q)())&&console.log(c?"Scrolling not possible, as we can't get any closer to the destination":"Scroll duration shorter that interval length, jumping to target"),e.setScrollPosition(e.targetScrollPosition),void e.fireEvent(!0);if(!e.pageScrollOptions.scrollInView&&e.targetScrollPosition>e.startScrollPosition&&e.targetScrollPosition<=e.startScrollPosition+s)return(this.config._logLevel>=2||this.config._logLevel>=1&&(0,t.X6Q)())&&console.log("Not scrolling, as target already in view"),void e.fireEvent(!0);e.pageScrollOptions.interruptible&&e.attachInterruptListeners(this.onInterrupted),e.startTime=(new Date).getTime(),e.endTime=e.startTime+e.executionDuration,e.timer=setInterval(function(I){var U,j=(new Date).getTime(),N=!1;I.endTime<=j?(U=I.targetScrollPosition,N=!0):U=Math.round(I.pageScrollOptions.easingLogic(j-I.startTime,I.startScrollPosition,I.distanceToScroll,I.executionDuration)),n.config._logLevel>=5&&(0,t.X6Q)()&&console.warn("Scroll Position: "+U),I.setScrollPosition(U)||(N=!0),N&&n.stopInternal(!1,I)},this.config._interval,e),this.runningInstances.push(e)}else(this.config._logLevel>=2||this.config._logLevel>=1&&(0,t.X6Q)())&&console.warn("No scrollViews specified, thus ngx-page-scroll does not know which DOM elements to scroll")}},{key:"scroll",value:function(e){this.start(this.create(e))}},{key:"stopAll",value:function(e){if(this.runningInstances.length>0){for(var n=!1,i=0;i<this.runningInstances.length;++i){var s=this.runningInstances[i];(!e||s.pageScrollOptions.namespace===e)&&(n=!0,this.stopInternal(!0,s),i--)}return n}return!1}},{key:"stop",value:function(e){return this.stopInternal(!0,e)}}]),o}();return a.\u0275fac=function(r){return new(r||a)(t.LFG(ee))},a.\u0275prov=(0,t.Yz7)({factory:function(){return new a((0,t.LFG)(ee))},token:a,providedIn:"root"}),a}(),X={},ce=function(){var a=function(){function o(){(0,f.Z)(this,o)}return(0,u.Z)(o,null,[{key:"forRoot",value:function(e){return{ngModule:o,providers:[q,{provide:ee,useValue:e}]}}}]),o}();return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({providers:[q,{provide:ee,useValue:X}]}),a}(),J=d(88774),le=d.n(J);function Ae(a,o,r,e){return new(r||(r=Promise))(function(i,s){function l(M){try{c(e.next(M))}catch(D){s(D)}}function m(M){try{c(e.throw(M))}catch(D){s(D)}}function c(M){M.done?i(M.value):function(i){return i instanceof r?i:new r(function(s){s(i)})}(M.value).then(l,m)}c((e=e.apply(a,o||[])).next())})}var We=d(99624),je=["wrapper"],Qe=["sourceImage"];function Ne(a,o){if(1&a){var r=t.EpF();t.TgZ(0,"img",4,5),t.NdJ("load",function(){return t.CHM(r),t.oxw().imageLoadedInView()}),t.qZA()}if(2&a){var e=t.oxw();t.Udp("visibility",e.imageVisible?"visible":"hidden")("transform",e.safeTransformStyle),t.Q6J("src",e.safeImgDataUrl,t.LSH)}}function Ve(a,o){if(1&a){var r=t.EpF();t.ynx(0),t.TgZ(1,"span",9),t.NdJ("mousedown",function(n){t.CHM(r);var i=t.oxw(2);return i.startMove(n,i.moveTypes.Resize,"topleft")})("touchstart",function(n){t.CHM(r);var i=t.oxw(2);return i.startMove(n,i.moveTypes.Resize,"topleft")}),t._UZ(2,"span",10),t.qZA(),t.TgZ(3,"span",11),t._UZ(4,"span",10),t.qZA(),t.TgZ(5,"span",12),t.NdJ("mousedown",function(n){t.CHM(r);var i=t.oxw(2);return i.startMove(n,i.moveTypes.Resize,"topright")})("touchstart",function(n){t.CHM(r);var i=t.oxw(2);return i.startMove(n,i.moveTypes.Resize,"topright")}),t._UZ(6,"span",10),t.qZA(),t.TgZ(7,"span",13),t._UZ(8,"span",10),t.qZA(),t.TgZ(9,"span",14),t.NdJ("mousedown",function(n){t.CHM(r);var i=t.oxw(2);return i.startMove(n,i.moveTypes.Resize,"bottomright")})("touchstart",function(n){t.CHM(r);var i=t.oxw(2);return i.startMove(n,i.moveTypes.Resize,"bottomright")}),t._UZ(10,"span",10),t.qZA(),t.TgZ(11,"span",15),t._UZ(12,"span",10),t.qZA(),t.TgZ(13,"span",16),t.NdJ("mousedown",function(n){t.CHM(r);var i=t.oxw(2);return i.startMove(n,i.moveTypes.Resize,"bottomleft")})("touchstart",function(n){t.CHM(r);var i=t.oxw(2);return i.startMove(n,i.moveTypes.Resize,"bottomleft")}),t._UZ(14,"span",10),t.qZA(),t.TgZ(15,"span",17),t._UZ(16,"span",10),t.qZA(),t.TgZ(17,"span",18),t.NdJ("mousedown",function(n){t.CHM(r);var i=t.oxw(2);return i.startMove(n,i.moveTypes.Resize,"top")})("touchstart",function(n){t.CHM(r);var i=t.oxw(2);return i.startMove(n,i.moveTypes.Resize,"top")}),t.qZA(),t.TgZ(18,"span",19),t.NdJ("mousedown",function(n){t.CHM(r);var i=t.oxw(2);return i.startMove(n,i.moveTypes.Resize,"right")})("touchstart",function(n){t.CHM(r);var i=t.oxw(2);return i.startMove(n,i.moveTypes.Resize,"right")}),t.qZA(),t.TgZ(19,"span",20),t.NdJ("mousedown",function(n){t.CHM(r);var i=t.oxw(2);return i.startMove(n,i.moveTypes.Resize,"bottom")})("touchstart",function(n){t.CHM(r);var i=t.oxw(2);return i.startMove(n,i.moveTypes.Resize,"bottom")}),t.qZA(),t.TgZ(20,"span",21),t.NdJ("mousedown",function(n){t.CHM(r);var i=t.oxw(2);return i.startMove(n,i.moveTypes.Resize,"left")})("touchstart",function(n){t.CHM(r);var i=t.oxw(2);return i.startMove(n,i.moveTypes.Resize,"left")}),t.qZA(),t.BQk()}}function Ye(a,o){if(1&a){var r=t.EpF();t.TgZ(0,"div",6),t.NdJ("keydown",function(i){return t.CHM(r),t.oxw().keyboardAccess(i)}),t.TgZ(1,"div",7),t.NdJ("mousedown",function(i){t.CHM(r);var s=t.oxw();return s.startMove(i,s.moveTypes.Move)})("touchstart",function(i){t.CHM(r);var s=t.oxw();return s.startMove(i,s.moveTypes.Move)}),t.qZA(),t.YNc(2,Ve,21,0,"ng-container",8),t.qZA()}if(2&a){var e=t.oxw();t.Udp("top",e.cropper.y1,"px")("left",e.cropper.x1,"px")("width",e.cropper.x2-e.cropper.x1,"px")("height",e.cropper.y2-e.cropper.y1,"px")("margin-left","center"===e.alignImage?e.marginLeft:null)("visibility",e.imageVisible?"visible":"hidden"),t.ekj("rounded",e.roundCropper),t.xp6(2),t.Q6J("ngIf",!e.hideResizeSquares)}}var ue={Move:"move",Resize:"resize",Pinch:"pinch"},Je=function(){var a=function(){function o(){(0,f.Z)(this,o)}return(0,u.Z)(o,[{key:"crop",value:function(e,n,i,s){var l=this.getImagePosition(e,n,i,s),m=l.x2-l.x1,c=l.y2-l.y1,M=document.createElement("canvas");M.width=m,M.height=c;var D=M.getContext("2d");if(D){null!=s.backgroundColor&&(D.fillStyle=s.backgroundColor,D.fillRect(0,0,m,c));var I=(s.transform.scale||1)*(s.transform.flipH?-1:1),j=(s.transform.scale||1)*(s.transform.flipV?-1:1),U=n.transformed;D.setTransform(I,0,0,j,U.size.width/2,U.size.height/2),D.translate(-l.x1/I,-l.y1/j),D.rotate((s.transform.rotate||0)*Math.PI/180),D.drawImage(U.image,-U.size.width/2,-U.size.height/2);var N={width:m,height:c,imagePosition:l,cropperPosition:Object.assign({},i)};s.containWithinAspectRatio&&(N.offsetImagePosition=this.getOffsetImagePosition(e,n,i,s));var oe=this.getResizeRatio(m,c,s);return 1!==oe&&(N.width=Math.round(m*oe),N.height=s.maintainAspectRatio?Math.round(N.width/s.aspectRatio):Math.round(c*oe),function(a,o,r){var e=a.width,n=a.height,i=e/(o=Math.round(o)),s=n/(r=Math.round(r)),l=Math.ceil(i/2),m=Math.ceil(s/2),c=a.getContext("2d");if(c){for(var M=c.getImageData(0,0,e,n),D=c.createImageData(o,r),I=M.data,j=D.data,U=0;U<r;U++)for(var N=0;N<o;N++){var oe=4*(N+U*o),me=U*s,ie=0,he=0,$=0,ne=0,pe=0,ve=0,se=0,jt=Math.floor(N*i),Qt=Math.floor(U*s),Me=Math.ceil((N+1)*i),Ee=Math.ceil((U+1)*s);Me=Math.min(Me,e),Ee=Math.min(Ee,n);for(var Ce=Qt;Ce<Ee;Ce++)for(var He=Math.abs(me-Ce)/m,Nt=N*i,Vt=He*He,we=jt;we<Me;we++){var Ze=Math.abs(Nt-we)/l,ge=Math.sqrt(Vt+Ze*Ze);if(!(ge>=1)){var de=4*(we+Ce*e);se+=(ie=2*ge*ge*ge-3*ge*ge+1)*I[de+3],$+=ie,I[de+3]<255&&(ie=ie*I[de+3]/250),ne+=ie*I[de],pe+=ie*I[de+1],ve+=ie*I[de+2],he+=ie}}j[oe]=ne/he,j[oe+1]=pe/he,j[oe+2]=ve/he,j[oe+3]=se/$}a.width=o,a.height=r,c.putImageData(D,0,0)}}(M,N.width,N.height)),N.base64=M.toDataURL("image/"+s.format,this.getQuality(s)),N}}},{key:"getImagePosition",value:function(e,n,i,s){var m=n.transformed.size.width/e.nativeElement.offsetWidth,c={x1:Math.round(i.x1*m),y1:Math.round(i.y1*m),x2:Math.round(i.x2*m),y2:Math.round(i.y2*m)};return s.containWithinAspectRatio||(c.x1=Math.max(c.x1,0),c.y1=Math.max(c.y1,0),c.x2=Math.min(c.x2,n.transformed.size.width),c.y2=Math.min(c.y2,n.transformed.size.height)),c}},{key:"getOffsetImagePosition",value:function(e,n,i,s){var M,D,c=n.transformed.size.width/e.nativeElement.offsetWidth;(s.canvasRotation+n.exifTransform.rotate)%2?(M=(n.transformed.size.width-n.original.size.height)/2,D=(n.transformed.size.height-n.original.size.width)/2):(M=(n.transformed.size.width-n.original.size.width)/2,D=(n.transformed.size.height-n.original.size.height)/2);var I={x1:Math.round(i.x1*c)-M,y1:Math.round(i.y1*c)-D,x2:Math.round(i.x2*c)-M,y2:Math.round(i.y2*c)-D};return s.containWithinAspectRatio||(I.x1=Math.max(I.x1,0),I.y1=Math.max(I.y1,0),I.x2=Math.min(I.x2,n.transformed.size.width),I.y2=Math.min(I.y2,n.transformed.size.height)),I}},{key:"getResizeRatio",value:function(e,n,i){var s=i.resizeToWidth/e,l=i.resizeToHeight/n,m=new Array;i.resizeToWidth>0&&m.push(s),i.resizeToHeight>0&&m.push(l);var c=0===m.length?1:Math.min.apply(Math,m);return c>1&&!i.onlyScaleDown?c:Math.min(c,1)}},{key:"getQuality",value:function(e){return Math.min(1,Math.max(0,e.imageQuality/100))}}]),o}();return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a.ngInjectableDef=(0,t.Yz7)({factory:function(){return new a},token:a,providedIn:"root"}),a}(),Ke=function(){function a(){(0,f.Z)(this,a),this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=void 0,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}return(0,u.Z)(a,[{key:"setOptions",value:function(r){var e=this;Object.keys(r).filter(function(n){return n in e}).forEach(function(n){return e[n]=r[n]})}},{key:"setOptionsFromChanges",value:function(r){var e=this;Object.keys(r).filter(function(n){return n in e}).forEach(function(n){return e[n]=r[n].currentValue})}}]),a}();function $e(a){switch("string"==typeof a&&(a=function(a){var o=new DataView(function(a){a=a.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var o=atob(a),r=o.length,e=new Uint8Array(r),n=0;n<r;n++)e[n]=o.charCodeAt(n);return e.buffer}(a));if(65496!=o.getUint16(0,!1))return-2;for(var r=o.byteLength,e=2;e<r;){if(o.getUint16(e+2,!1)<=8)return-1;var n=o.getUint16(e,!1);if(e+=2,65505==n){if(1165519206!=o.getUint32(e+=2,!1))return-1;var i=18761==o.getUint16(e+=6,!1);e+=o.getUint32(e+4,i);var s=o.getUint16(e,i);e+=2;for(var l=0;l<s;l++)if(274==o.getUint16(e+12*l,i))return o.getUint16(e+12*l+8,i)}else{if(65280!=(65280&n))break;e+=o.getUint16(e,!1)}}return-1}(a)),a){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}var rt=function(){var a=function(){function o(){(0,f.Z)(this,o),this.autoRotateSupported=new Promise(function(a){var o=new Image;o.onload=function(){a(1===o.width&&2===o.height)},o.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})}return(0,u.Z)(o,[{key:"loadImageFile",value:function(e,n){var i=this;return new Promise(function(s,l){var m=new FileReader;m.onload=function(c){i.loadImage(c.target.result,e.type,n).then(s).catch(l)},m.readAsDataURL(e)})}},{key:"loadImage",value:function(e,n,i){return this.isValidImageType(n)?this.loadBase64Image(e,i):Promise.reject(new Error("Invalid image type"))}},{key:"isValidImageType",value:function(e){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp)/.test(e)}},{key:"loadImageFromURL",value:function(e,n){var i=this;return new Promise(function(s,l){var m=new Image;m.onerror=function(){return l},m.onload=function(){var c=document.createElement("canvas"),M=c.getContext("2d");c.width=m.width,c.height=m.height,M.drawImage(m,0,0),i.loadBase64Image(c.toDataURL(),n).then(s)},m.crossOrigin="anonymous",m.src=e})}},{key:"loadBase64Image",value:function(e,n){var i=this;return new Promise(function(s,l){var m=new Image;m.onload=function(){return s({originalImage:m,originalBase64:e})},m.onerror=l,m.src=e}).then(function(s){return i.transformImageBase64(s,n)})}},{key:"transformImageBase64",value:function(e,n){return Ae(this,void 0,void 0,le().mark(function i(){var s,l;return le().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,this.autoRotateSupported;case 2:return s=M.sent,M.next=5,$e(s?-1:e.originalBase64);case 5:if(l=M.sent,e.originalImage&&e.originalImage.complete){M.next=8;break}return M.abrupt("return",Promise.reject(new Error("No image loaded")));case 8:return M.abrupt("return",this.transformLoadedImage({original:{base64:e.originalBase64,image:e.originalImage,size:{width:e.originalImage.naturalWidth,height:e.originalImage.naturalHeight}},exifTransform:l},n));case 10:case"end":return M.stop()}},i,this)}))}},{key:"transformLoadedImage",value:function(e,n){return Ae(this,void 0,void 0,le().mark(function i(){var s,l,m,c,M,D,I;return le().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(l={width:e.original.image.naturalWidth,height:e.original.image.naturalHeight},0!==(s=n.canvasRotation+e.exifTransform.rotate)||e.exifTransform.flip||n.containWithinAspectRatio){U.next=4;break}return U.abrupt("return",{original:{base64:e.original.base64,image:e.original.image,size:Object.assign({},l)},transformed:{base64:e.original.base64,image:e.original.image,size:Object.assign({},l)},exifTransform:e.exifTransform});case 4:return m=this.getTransformedSize(l,e.exifTransform,n),(c=document.createElement("canvas")).width=m.width,c.height=m.height,(M=c.getContext("2d")).setTransform(e.exifTransform.flip?-1:1,0,0,1,c.width/2,c.height/2),M.rotate(Math.PI*(s/2)),M.drawImage(e.original.image,-l.width/2,-l.height/2),D=c.toDataURL(),U.next=15,this.loadImageFromBase64(D);case 15:return I=U.sent,U.abrupt("return",{original:{base64:e.original.base64,image:e.original.image,size:Object.assign({},l)},transformed:{base64:D,image:I,size:{width:I.width,height:I.height}},exifTransform:e.exifTransform});case 17:case"end":return U.stop()}},i,this)}))}},{key:"loadImageFromBase64",value:function(e){return new Promise(function(n,i){var s=new Image;s.onload=function(){return n(s)},s.onerror=i,s.src=e})}},{key:"getTransformedSize",value:function(e,n,i){var s=i.canvasRotation+n.rotate;if(i.containWithinAspectRatio){if(s%2){var m=e.height/i.aspectRatio;return{width:Math.max(e.height,e.width*i.aspectRatio),height:Math.max(e.width,m)}}var M=e.width/i.aspectRatio;return{width:Math.max(e.width,e.height*i.aspectRatio),height:Math.max(e.height,M)}}return s%2?{height:e.width,width:e.height}:{width:e.width,height:e.height}}}]),o}();return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a.ngInjectableDef=(0,t.Yz7)({factory:function(){return new a},token:a,providedIn:"root"}),a}(),it=function(){var a=function(){function o(){(0,f.Z)(this,o)}return(0,u.Z)(o,[{key:"resetCropperPosition",value:function(e,n,i){var s=e.nativeElement;if(i.cropperStaticHeight&&i.cropperStaticWidth)n.x1=0,n.x2=s.offsetWidth>i.cropperStaticWidth?i.cropperStaticWidth:s.offsetWidth,n.y1=0,n.y2=s.offsetHeight>i.cropperStaticHeight?i.cropperStaticHeight:s.offsetHeight;else{var l=Math.min(i.cropperScaledMaxWidth,s.offsetWidth),m=Math.min(i.cropperScaledMaxHeight,s.offsetHeight);if(i.maintainAspectRatio)if(l/i.aspectRatio<m){n.x1=0,n.x2=l;var c=l/i.aspectRatio;n.y1=(s.offsetHeight-c)/2,n.y2=n.y1+c}else{n.y1=0,n.y2=m;var M=m*i.aspectRatio;n.x1=(s.offsetWidth-M)/2,n.x2=n.x1+M}else n.x1=0,n.x2=l,n.y1=0,n.y2=m}}},{key:"move",value:function(e,n,i){var s=this.getClientX(e)-n.clientX,l=this.getClientY(e)-n.clientY;i.x1=n.x1+s,i.y1=n.y1+l,i.x2=n.x2+s,i.y2=n.y2+l}},{key:"resize",value:function(e,n,i,s,l){var m=this.getClientX(e)-n.clientX,c=this.getClientY(e)-n.clientY;switch(n.position){case"left":i.x1=Math.min(Math.max(n.x1+m,i.x2-l.cropperScaledMaxWidth),i.x2-l.cropperScaledMinWidth);break;case"topleft":i.x1=Math.min(Math.max(n.x1+m,i.x2-l.cropperScaledMaxWidth),i.x2-l.cropperScaledMinWidth),i.y1=Math.min(Math.max(n.y1+c,i.y2-l.cropperScaledMaxHeight),i.y2-l.cropperScaledMinHeight);break;case"top":i.y1=Math.min(Math.max(n.y1+c,i.y2-l.cropperScaledMaxHeight),i.y2-l.cropperScaledMinHeight);break;case"topright":i.x2=Math.max(Math.min(n.x2+m,i.x1+l.cropperScaledMaxWidth),i.x1+l.cropperScaledMinWidth),i.y1=Math.min(Math.max(n.y1+c,i.y2-l.cropperScaledMaxHeight),i.y2-l.cropperScaledMinHeight);break;case"right":i.x2=Math.max(Math.min(n.x2+m,i.x1+l.cropperScaledMaxWidth),i.x1+l.cropperScaledMinWidth);break;case"bottomright":i.x2=Math.max(Math.min(n.x2+m,i.x1+l.cropperScaledMaxWidth),i.x1+l.cropperScaledMinWidth),i.y2=Math.max(Math.min(n.y2+c,i.y1+l.cropperScaledMaxHeight),i.y1+l.cropperScaledMinHeight);break;case"bottom":i.y2=Math.max(Math.min(n.y2+c,i.y1+l.cropperScaledMaxHeight),i.y1+l.cropperScaledMinHeight);break;case"bottomleft":i.x1=Math.min(Math.max(n.x1+m,i.x2-l.cropperScaledMaxWidth),i.x2-l.cropperScaledMinWidth),i.y2=Math.max(Math.min(n.y2+c,i.y1+l.cropperScaledMaxHeight),i.y1+l.cropperScaledMinHeight);break;case"center":var M=e.scale,D=Math.min(Math.max(l.cropperScaledMinWidth,Math.abs(n.x2-n.x1)*M),l.cropperScaledMaxWidth),I=Math.min(Math.max(l.cropperScaledMinHeight,Math.abs(n.y2-n.y1)*M),l.cropperScaledMaxHeight);i.x1=n.clientX-D/2,i.x2=n.clientX+D/2,i.y1=n.clientY-I/2,i.y2=n.clientY+I/2,i.x1<0?(i.x2-=i.x1,i.x1=0):i.x2>s.width&&(i.x1-=i.x2-s.width,i.x2=s.width),i.y1<0?(i.y2-=i.y1,i.y1=0):i.y2>s.height&&(i.y1-=i.y2-s.height,i.y2=s.height)}l.maintainAspectRatio&&this.checkAspectRatio(n.position,i,s,l)}},{key:"checkAspectRatio",value:function(e,n,i,s){var l=0,m=0;switch(e){case"top":n.x2=n.x1+(n.y2-n.y1)*s.aspectRatio,l=Math.max(n.x2-i.width,0),m=Math.max(0-n.y1,0),(l>0||m>0)&&(n.x2-=m*s.aspectRatio>l?m*s.aspectRatio:l,n.y1+=m*s.aspectRatio>l?m:l/s.aspectRatio);break;case"bottom":n.x2=n.x1+(n.y2-n.y1)*s.aspectRatio,l=Math.max(n.x2-i.width,0),m=Math.max(n.y2-i.height,0),(l>0||m>0)&&(n.x2-=m*s.aspectRatio>l?m*s.aspectRatio:l,n.y2-=m*s.aspectRatio>l?m:l/s.aspectRatio);break;case"topleft":n.y1=n.y2-(n.x2-n.x1)/s.aspectRatio,l=Math.max(0-n.x1,0),m=Math.max(0-n.y1,0),(l>0||m>0)&&(n.x1+=m*s.aspectRatio>l?m*s.aspectRatio:l,n.y1+=m*s.aspectRatio>l?m:l/s.aspectRatio);break;case"topright":n.y1=n.y2-(n.x2-n.x1)/s.aspectRatio,l=Math.max(n.x2-i.width,0),m=Math.max(0-n.y1,0),(l>0||m>0)&&(n.x2-=m*s.aspectRatio>l?m*s.aspectRatio:l,n.y1+=m*s.aspectRatio>l?m:l/s.aspectRatio);break;case"right":case"bottomright":n.y2=n.y1+(n.x2-n.x1)/s.aspectRatio,l=Math.max(n.x2-i.width,0),m=Math.max(n.y2-i.height,0),(l>0||m>0)&&(n.x2-=m*s.aspectRatio>l?m*s.aspectRatio:l,n.y2-=m*s.aspectRatio>l?m:l/s.aspectRatio);break;case"left":case"bottomleft":n.y2=n.y1+(n.x2-n.x1)/s.aspectRatio,l=Math.max(0-n.x1,0),m=Math.max(n.y2-i.height,0),(l>0||m>0)&&(n.x1+=m*s.aspectRatio>l?m*s.aspectRatio:l,n.y2-=m*s.aspectRatio>l?m:l/s.aspectRatio);break;case"center":n.x2=n.x1+(n.y2-n.y1)*s.aspectRatio,n.y2=n.y1+(n.x2-n.x1)/s.aspectRatio;var c=Math.max(0-n.x1,0),M=Math.max(n.x2-i.width,0),D=Math.max(n.y2-i.height,0),I=Math.max(0-n.y1,0);(c>0||M>0||D>0||I>0)&&(n.x1+=D*s.aspectRatio>c?D*s.aspectRatio:c,n.x2-=I*s.aspectRatio>M?I*s.aspectRatio:M,n.y1+=I*s.aspectRatio>M?I:M/s.aspectRatio,n.y2-=D*s.aspectRatio>c?D:c/s.aspectRatio)}}},{key:"getClientX",value:function(e){return(e.touches&&e.touches[0]?e.touches[0].clientX:e.clientX)||0}},{key:"getClientY",value:function(e){return(e.touches&&e.touches[0]?e.touches[0].clientY:e.clientY)||0}}]),o}();return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a.ngInjectableDef=(0,t.Yz7)({factory:function(){return new a},token:a,providedIn:"root"}),a}(),st=function(){var a=function(){function o(r,e,n,i,s){(0,f.Z)(this,o),this.cropService=r,this.cropperPositionService=e,this.loadImageService=n,this.sanitizer=i,this.cd=s,this.Hammer="undefined"!=typeof window?window.Hammer:null,this.settings=new Ke,this.setImageMaxSizeRetries=0,this.marginLeft="0px",this.moveTypes=ue,this.imageVisible=!1,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.imageCropped=new t.vpe,this.startCropImage=new t.vpe,this.imageLoaded=new t.vpe,this.cropperReady=new t.vpe,this.loadImageFailed=new t.vpe,this.reset()}return(0,u.Z)(o,[{key:"ngOnChanges",value:function(e){var n=this;this.onChangesUpdateSettings(e),this.onChangesInputImage(e),this.loadedImage&&this.loadedImage.original.image.complete&&(e.containWithinAspectRatio||e.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(function(i){return n.setLoadedImage(i)}).catch(function(i){return n.loadImageError(i)}),e.cropper&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.checkCropperPosition(!1),this.doAutoCrop(),this.cd.markForCheck()),e.aspectRatio&&this.imageVisible&&this.resetCropperPosition(),e.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop())}},{key:"onChangesUpdateSettings",value:function(e){this.settings.setOptionsFromChanges(e),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1})}},{key:"onChangesInputImage",value:function(e){(e.imageChangedEvent||e.imageURL||e.imageBase64||e.imageFile)&&this.reset(),e.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),e.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),e.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),e.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}},{key:"isValidImageChangedEvent",value:function(){return this.imageChangedEvent&&this.imageChangedEvent.target&&this.imageChangedEvent.target.files&&this.imageChangedEvent.target.files.length>0}},{key:"setCssTransform",value:function(){this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle("scaleX("+(this.transform.scale||1)*(this.transform.flipH?-1:1)+")scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+")rotate("+(this.transform.rotate||0)+"deg)")}},{key:"ngOnInit",value:function(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}},{key:"reset",value:function(){this.imageVisible=!1,this.loadedImage=null,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}},{key:"loadImageFile",value:function(e){var n=this;this.loadImageService.loadImageFile(e,this.settings).then(function(i){return n.setLoadedImage(i)}).catch(function(i){return n.loadImageError(i)})}},{key:"loadBase64Image",value:function(e){var n=this;this.loadImageService.loadBase64Image(e,this.settings).then(function(i){return n.setLoadedImage(i)}).catch(function(i){return n.loadImageError(i)})}},{key:"loadImageFromURL",value:function(e){var n=this;this.loadImageService.loadImageFromURL(e,this.settings).then(function(i){return n.setLoadedImage(i)}).catch(function(i){return n.loadImageError(i)})}},{key:"setLoadedImage",value:function(e){this.loadedImage=e,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(e.transformed.base64),this.cd.markForCheck()}},{key:"loadImageError",value:function(e){console.error(e),this.loadImageFailed.emit()}},{key:"imageLoadedInView",value:function(){var e=this;null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(function(){return e.checkImageMaxSizeRecursively()}))}},{key:"checkImageMaxSizeRecursively",value:function(){var e=this;this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(Object.assign({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(function(){return e.checkImageMaxSizeRecursively()},50))}},{key:"sourceImageLoaded",value:function(){return this.sourceImage&&this.sourceImage.nativeElement&&this.sourceImage.nativeElement.offsetWidth>0}},{key:"onResize",value:function(){!this.loadedImage||(this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize())}},{key:"activatePinchGesture",value:function(){if(this.Hammer){var e=new this.Hammer(this.wrapper.nativeElement);e.get("pinch").set({enable:!0}),e.on("pinchmove",this.onPinch.bind(this)),e.on("pinchend",this.pinchStop.bind(this)),e.on("pinchstart",this.startPinch.bind(this))}else(0,t.X6Q)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}},{key:"resizeCropperPosition",value:function(){var e=this.sourceImage.nativeElement;(this.maxSize.width!==e.offsetWidth||this.maxSize.height!==e.offsetHeight)&&(this.cropper.x1=this.cropper.x1*e.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*e.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*e.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*e.offsetHeight/this.maxSize.height)}},{key:"resetCropperPosition",value:function(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings),this.doAutoCrop(),this.imageVisible=!0}},{key:"keyboardAccess",value:function(e){this.changeKeyboardStepSize(e),this.keyboardMoveCropper(e)}},{key:"changeKeyboardStepSize",value:function(e){e.key>="1"&&e.key<="9"&&(this.settings.stepSize=+e.key)}},{key:"keyboardMoveCropper",value:function(e){if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(e.key)){var i=e.shiftKey?ue.Resize:ue.Move,s=e.altKey?function(a){switch(a){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}}(e.key):function(a){switch(a){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}}(e.key),l=function(a,o){switch(a){case"ArrowUp":return{clientX:0,clientY:-1*o};case"ArrowRight":return{clientX:o,clientY:0};case"ArrowDown":return{clientX:0,clientY:o};case"ArrowLeft":default:return{clientX:-1*o,clientY:0}}}(e.key,this.settings.stepSize);e.preventDefault(),e.stopPropagation(),this.startMove({clientX:0,clientY:0},i,s),this.moveImg(l),this.moveStop()}}},{key:"startMove",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.moveStart&&this.moveStart.active&&this.moveStart.type===ue.Pinch||(e.preventDefault&&e.preventDefault(),this.moveStart=Object.assign({active:!0,type:n,position:i,clientX:this.cropperPositionService.getClientX(e),clientY:this.cropperPositionService.getClientY(e)},this.cropper))}},{key:"startPinch",value:function(e){!this.safeImgDataUrl||(e.preventDefault&&e.preventDefault(),this.moveStart=Object.assign({active:!0,type:ue.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}},{key:"moveImg",value:function(e){this.moveStart.active&&(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this.moveStart.type===ue.Move?(this.cropperPositionService.move(e,this.moveStart,this.cropper),this.checkCropperPosition(!0)):this.moveStart.type===ue.Resize&&(!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.cropperPositionService.resize(e,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}},{key:"onPinch",value:function(e){this.moveStart.active&&(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this.moveStart.type===ue.Pinch&&(this.cropperPositionService.resize(e,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}},{key:"setMaxSize",value:function(){if(this.sourceImage){var e=this.sourceImage.nativeElement;this.maxSize.width=e.offsetWidth,this.maxSize.height=e.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}},{key:"setCropperScaledMinSize",value:function(){this.loadedImage&&this.loadedImage.transformed&&this.loadedImage.transformed.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}},{key:"setCropperScaledMinWidth",value:function(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}},{key:"setCropperScaledMinHeight",value:function(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}},{key:"setCropperScaledMaxSize",value:function(){if(this.loadedImage&&this.loadedImage.transformed&&this.loadedImage.transformed.image){var e=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/e:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/e:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}},{key:"checkCropperPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.cropper.x1<0&&(this.cropper.x2-=e?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=e?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=e?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=e?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}},{key:"moveStop",value:function(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}},{key:"pinchStop",value:function(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}},{key:"doAutoCrop",value:function(){this.autoCrop&&this.crop()}},{key:"crop",value:function(){if(this.sourceImage&&this.sourceImage.nativeElement&&null!=this.loadedImage.transformed.image){this.startCropImage.emit();var e=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings);return null!=e&&this.imageCropped.emit(e),e}return null}}]),o}();return a.\u0275fac=function(r){return new(r||a)(t.Y36(Je),t.Y36(it),t.Y36(rt),t.Y36(We.H7),t.Y36(t.sBO))},a.\u0275cmp=t.Xpm({type:a,selectors:[["image-cropper"]],viewQuery:function(r,e){var n;1&r&&(t.Gf(je,7),t.Gf(Qe,5)),2&r&&(t.iGM(n=t.CRH())&&(e.wrapper=n.first),t.iGM(n=t.CRH())&&(e.sourceImage=n.first))},hostVars:4,hostBindings:function(r,e){1&r&&t.NdJ("resize",function(){return e.onResize()},!1,t.Jf7)("mousemove",function(i){return e.moveImg(i)},!1,t.evT)("touchmove",function(i){return e.moveImg(i)},!1,t.evT)("mouseup",function(){return e.moveStop()},!1,t.evT)("touchend",function(){return e.moveStop()},!1,t.evT),2&r&&(t.Udp("text-align",e.alignImage),t.ekj("disabled",e.disabled))},inputs:{format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed"},features:[t.TTD],decls:5,vars:10,consts:[["wrapper",""],["class","source-image",3,"src","visibility","transform","load",4,"ngIf"],[1,"overlay"],["class","cropper","tabindex","0",3,"rounded","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"source-image",3,"src","load"],["sourceImage",""],["tabindex","0",1,"cropper",3,"keydown"],[1,"move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"resize","topleft",3,"mousedown","touchstart"],[1,"square"],[1,"resize","top"],[1,"resize","topright",3,"mousedown","touchstart"],[1,"resize","right"],[1,"resize","bottomright",3,"mousedown","touchstart"],[1,"resize","bottom"],[1,"resize","bottomleft",3,"mousedown","touchstart"],[1,"resize","left"],[1,"resize-bar","top",3,"mousedown","touchstart"],[1,"resize-bar","right",3,"mousedown","touchstart"],[1,"resize-bar","bottom",3,"mousedown","touchstart"],[1,"resize-bar","left",3,"mousedown","touchstart"]],template:function(r,e){1&r&&(t.TgZ(0,"div",null,0),t.YNc(2,Ne,2,5,"img",1),t._UZ(3,"div",2),t.YNc(4,Ye,3,15,"div",3),t.qZA()),2&r&&(t.Udp("background",e.imageVisible&&e.backgroundColor),t.xp6(2),t.Q6J("ngIf",e.safeImgDataUrl),t.xp6(1),t.Udp("width",e.maxSize.width,"px")("height",e.maxSize.height,"px")("margin-left","center"===e.alignImage?e.marginLeft:null),t.xp6(1),t.Q6J("ngIf",e.imageVisible))},directives:[v.O5],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color,#fff) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:0 0;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color,rgba(255,255,255,.3)) solid 100vw;touch-action:none}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";top:0;bottom:0;left:0;right:0;pointer-events:none;border:1px dashed;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:focus   .move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw rgba(255,255,255,.3);box-shadow:0 0 0 100vw var(--cropper-outline-color,rgba(255,255,255,.3))}@media (orientation:portrait){[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{outline-width:100vh}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh rgba(255,255,255,.3);box-shadow:0 0 0 100vh var(--cropper-outline-color,rgba(255,255,255,.3))}}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{display:none}'],changeDetection:0}),a}(),ct=function(){var a=function o(){(0,f.Z)(this,o)};return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[v.ez]]}),a}();function lt(a,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,o)}var ht=function(){var a=function(){function o(r,e){(0,f.Z)(this,o),this.elem=r,this.renderer=e,this.overflow="hidden",this.rows=1}return(0,u.Z)(o,[{key:"ngAfterViewInit",value:function(){this.resize()}},{key:"ngDoCheck",value:function(){this.resize()}},{key:"resize",value:function(){var e=this.elem.nativeElement,n=e.offsetHeight-e.clientHeight;this.setHeight("auto"),this.setHeight("".concat(e.scrollHeight+n,"px"))}},{key:"setHeight",value:function(e){this.renderer.setStyle(this.elem.nativeElement,"height",e)}}]),o}();return a.\u0275fac=function(r){return new(r||a)(t.Y36(t.SBq),t.Y36(t.Qsj))},a.\u0275dir=t.lG2({type:a,selectors:[["textarea","autosize",""]],hostVars:3,hostBindings:function(r,e){1&r&&t.NdJ("input",function(){return e.resize()}),2&r&&(t.Ikx("rows",e.rows),t.Udp("overflow",e.overflow))},inputs:{rows:"rows"}}),a=function(a,o,r,e){var s,n=arguments.length,i=n<3?o:null===e?e=Object.getOwnPropertyDescriptor(o,r):e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(a,o,r,e);else for(var l=a.length-1;l>=0;l--)(s=a[l])&&(i=(n<3?s(i):n>3?s(o,r,i):s(o,r))||i);return n>3&&i&&Object.defineProperty(o,r,i),i}([lt("design:paramtypes",[t.SBq,t.Qsj])],a)}(),pt=function(){var a=function o(){(0,f.Z)(this,o)};return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[v.ez]]}),a}(),Be=function(a,o,r,e){return new(r||(r=Promise))(function(i,s){function l(M){try{c(e.next(M))}catch(D){s(D)}}function m(M){try{c(e.throw(M))}catch(D){s(D)}}function c(M){M.done?i(M.value):function(i){return i instanceof r?i:new r(function(s){s(i)})}(M.value).then(l,m)}c((e=e.apply(a,o||[])).next())})},Ue=function(a,o){var e,n,i,s,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function l(c){return function(M){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(6===c[0]&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=o.call(a,r)}catch(M){c=[6,M],n=0}finally{e=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,M])}}},gt=["fileButtonClick"],dt=["inputNums"];function mt(a,o){if(1&a&&(t.TgZ(0,"ion-item"),t.TgZ(1,"ion-row",20),t.TgZ(2,"ion-col",21),t.TgZ(3,"textarea",22,23),t._uU(5),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&a){var r=o.$implicit,e=o.index;t.xp6(3),t.MGl("id","num",e,""),t.xp6(2),t.Oqu(r)}}function vt(a,o){if(1&a&&(t.TgZ(0,"ion-list"),t.YNc(1,mt,6,2,"ion-item",19),t.qZA()),2&a){var r=t.oxw();t.xp6(1),t.Q6J("ngForOf",r.resultList)}}function yt(a,o){if(1&a&&(t.TgZ(0,"ion-text",24),t._uU(1," \u5171 "),t.TgZ(2,"strong"),t._uU(3),t.qZA(),t._uU(4," \u6ce8\x13 "),t.qZA()),2&a){var r=t.oxw();t.xp6(3),t.Oqu(r.resultList.length)}}function At(a,o){1&a&&(t.TgZ(0,"ion-text",25),t._uU(1," \u82e5\u6709\u865f\u78bc\u8fa8\u8b58\u6709\u8aa4\uff0c\u8acb\u81ea\u884c\u4fee\u6b63\uff01 "),t.qZA())}var xt=function(){function a(o,r,e,n,i,s,l,m,c,M){this.commonService=o,this.mark6Service=r,this._router=e,this._activeRoute=n,this.navCtrl=i,this.loadingController=s,this.dataVal=l,this.pageScrollService=m,this.actionCtrl=c,this.document=M,this.MAX_NUM=49,this.screenWidth=window.innerWidth,this.resultList=new Array,this.result="-",this.result1="-",this.analysisClick=!1,this.showWebcam=!0,this.allowCameraSwitch=!0,this.multipleWebcamsAvailable=!1,this.videoOptions={},this.errors=[],this.webcamImage=null,this.rotateVal=0,this.trigger=new w.xQ,this.nextWebcam=new w.xQ,this.imageChangedEvent="",this.croppedImage=""}return a.prototype.ngOnInit=function(){var o=this;b.getAvailableVideoInputs().then(function(r){o.multipleWebcamsAvailable=r&&r.length>1})},a.prototype.ionViewDidEnter=function(){this.commonService.prepareInterstitialAds()},a.prototype.ngAfterViewChecked=function(){},a.prototype.triggerSnapshot=function(){this.trigger.next()},a.prototype.toggleWebcam=function(){this.showWebcam=!this.showWebcam},a.prototype.handleInitError=function(o){this.errors.push(o),this.showError||this.commonService.showAlert("ERROR","iPhone(iOS) \u7528\u6237\u8acb\u4f7f\u7528 Safari \u958b\u555f!")},a.prototype.showNextWebcam=function(o){this.nextWebcam.next(o)},a.prototype.handleImage=function(o){console.info("received webcam image",o),this.webcamImage=o,this.theCamImage=this.webcamImage.imageAsDataUrl},a.prototype.cameraWasSwitched=function(o){console.log("active device: "+o),this.deviceId=o},Object.defineProperty(a.prototype,"triggerObservable",{get:function(){return this.trigger.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"nextWebcamObservable",{get:function(){return this.nextWebcam.asObservable()},enumerable:!1,configurable:!0}),a.prototype.takePhoto=function(){this.result="-",this.croppedImage=null,this.trigger.next()},a.prototype.check=function(){this.resultList.length=0,this.resultList=[],this.croppedImage?this.doOCR():this.commonService.showAlert("Error","\u8acb\u5148 [\u9078\u53d6\u5f69\u7968]\uff0c\u7136\u5f8c\u88c1\u526a\u5f69\u7968\u81f3\u53ea\u6709\u6295\u6ce8\u865f\u78bc\uff01")},a.prototype.doRotate=function(){this.rotateVal=this.rotateVal+1,4==this.rotateVal&&(this.rotateVal=0)},a.prototype.reset=function(){this.result="-",this.croppedImage=null,this.resultList.length=0,this.resultList=[],this.analysisClick=!1},a.prototype.fileChangeEvent=function(o){this.reset(),this.imageChangedEvent=o},a.prototype.imageCropped=function(o){this.croppedImage=o.base64},a.prototype.imageLoaded=function(){},a.prototype.cropperReady=function(){},a.prototype.loadImageFailed=function(){},a.prototype.doOCR=function(){return Be(this,void 0,void 0,function(){var o,r,e=this;return Ue(this,function(n){switch(n.label){case 0:return o=(0,F.createWorker)({logger:function(i){return console.log(i)}}),[4,this.loadingController.create({message:"\u865f\u78bc\u8fa8\u8b58\u4e2d...",spinner:"circles"})];case 1:return(r=n.sent()).present().then(function(){o.load().then(function(){o.loadLanguage("eng").then(function(){o.initialize("eng").then(function(){o.setParameters({tessedit_char_whitelist:"0123456789+/"}).then(function(){o.recognize(e.croppedImage).then(function(i){if(e.result=i.data.text,o.terminate(),null!=e.result&&e.result.length>0){var s=e.result.split("/");for(var l in s){var m=s[l].replace(/(\r\n|\n|\r)/gm,"").replace(/\s/g,"");e.resultList.push(m)}}r.dismiss(),setTimeout(function(){e.content.scrollToBottom()},300)})})})})})}).finally(function(){}),[2]}})})},a.prototype.doCheck=function(){return Be(this,void 0,void 0,function(){var o,r,e=this;return Ue(this,function(n){switch(n.label){case 0:return o=new Array,0===this.resultList.length?[3,2]:[4,this.loadingController.create({message:"\u6838\u5c0d\u4e2d...",spinner:"circles"})];case 1:return(r=n.sent()).present().then(function(){e.mark6Service.getLast30().subscribe(function(i){if(!(null!=i&&i.length>0))return r.dismiss(),o.length=0,void(o=[]);var s=e.inputNums.toArray();for(var l in e.resultList.length=0,e.resultList=[],s)e.resultList.push(s[l].nativeElement.value);for(var m in e.resultList){var c=Number(m)+1,M=e.resultList[m].replace(/(\r\n|\n|\r)/gm,""),D=M.split("+"),I=new Array;for(var j in D){var U=Number(D[j]);if(U>e.MAX_NUM||U<=0||!(0,R.EN)(D[j]))return e.commonService.showAlert("ERROR","\u7b2c "+c+" \u6ce8\u542b\u6709\u932f\u8aa4\u865f\u78bc\uff0c\u8acb\u4fee\u6b63\uff01"),r.dismiss(),o.length=0,void(o=[]);I.push(U)}if(I.length<6)return e.commonService.showAlert("Error","\u7b2c "+c+" \u6ce8\u6700\u5c11\u8981\u67096\u500b\u5b57\uff0c\u8acb\u4fee\u6b63\uff01"),r.dismiss(),o.length=0,void(o=[]);if((0,R.bs)(I))return e.commonService.showAlert("Error","\u7b2c "+c+" \u6ce8\u542b\u6709\u91cd\u8986\u865f\u78bc\uff0c\u8acb\u4fee\u6b63\uff01"),r.dismiss(),o.length=0,void(o=[]);if(I.length>e.MAX_NUM)return e.commonService.showAlert("Error","\u7b2c {bNoVal} \u6ce8\u4e0d\u80fd\u591a\u65bc "+e.MAX_NUM+" \u500b\u5b57\uff0c\u8acb\u4fee\u6b63\uff01"),r.dismiss(),o.length=0,void(o=[]);var N=new R.Pf;N.numbers=M;for(var oe=new Array,me=0,ie=i;me<ie.length;me++){var he=ie[me],$=new R.$j;$=JSON.parse(JSON.stringify(he));for(var ne=0,pe=0,ve=I;pe<ve.length;pe++){var se=ve[pe];se===$.number1?($.matched[0]=!0,ne++):se===$.number2?($.matched[1]=!0,ne++):se===$.number3?($.matched[2]=!0,ne++):se===$.number4?($.matched[3]=!0,ne++):se===$.number5?($.matched[4]=!0,ne++):se===$.number6&&($.matched[5]=!0,ne++),se===$.numberX&&($.matched[6]=!0,ne+=.5)}ne>=3&&oe.push($)}N.matchedResults=oe,o.push(N)}e.result1=JSON.stringify(o),r.dismiss(),o.length>=1?(e.dataVal.storage=o,e.navCtrl.navigateForward(["capcheck/result"])):e.commonService.showAlert("Info","\u95a3\u4e0b\u7684\u5f69\u7968\u5728\u6700\u8fd130\u671f\u6c92\u6709\u4e2d\u734e")},function(i){r.dismiss(),console.log(i),o.length=0,o=[]})}),[3,3];case 2:return this.commonService.showAlert("Error","\u8acb\u5148 [\u9078\u53d6\u5f69\u7968]\uff0c\u7136\u5f8c\u88c1\u526a\u5f69\u7968\u81f3\u53ea\u6709\u6295\u6ce8\u865f\u78bc\uff01"),[2];case 3:return[2]}})})},a.prototype.openActionSheet=function(){var o=this;this.actionCtrl.create({buttons:[{text:"\u9078\u53d6\u5f69\u7968",icon:"camera",handler:function(){document.getElementById("fileButtonClick").click()}},{text:"\u8fa8\u8b58\u865f\u78bc",icon:"barcode",handler:function(){o.check()}},{text:"\u6838\u5c0d\u5f69\u7968",icon:"contract",handler:function(){o.commonService.showInterstitialAds(),o.doCheck()}},{text:"\u65cb\u8f49",icon:"return-up-forward-outline",handler:function(){o.doRotate()}},{text:"\u53d6\u6d88",role:"cancel"}]}).then(function(r){return r.present()})},a.\u0275fac=function(r){return new(r||a)(t.Y36(P.v),t.Y36(k.d),t.Y36(g.F0),t.Y36(g.gz),t.Y36(h.SH),t.Y36(h.HT),t.Y36(B.B),t.Y36(q),t.Y36(h.BX),t.Y36(v.K0))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-capcheck"]],viewQuery:function(r,e){if(1&r&&(t.Gf(gt,7),t.Gf(h.W2,7),t.Gf(dt,5)),2&r){var n=void 0;t.iGM(n=t.CRH())&&(e.fileButton=n.first),t.iGM(n=t.CRH())&&(e.content=n.first),t.iGM(n=t.CRH())&&(e.inputNums=n)}},decls:30,vars:8,consts:[["slot","start"],["slot","end",1,"ion-padding"],[3,"click"],["name","chevron-down-circle-outline"],[1,"ion-padding"],["id","contentID",2,"text-align","center"],["for","m6pic",2,"color","blue"],[2,"color","green"],["id","fileButtonClick","color","warning",2,"display","none",3,"click"],["fileButtonClick",""],["type","file",2,"display","none",3,"change"],["fileInput",""],[1,"cropper-container"],["format","png",2,"width","300px","height","50x","text-align","left",3,"imageChangedEvent","maintainAspectRatio","cropperMinHeight","canvasRotation","imageCropped","imageLoaded","cropperReady","loadImageFailed"],[3,"src"],[4,"ngIf"],["color","primary",4,"ngIf"],["color","danger",4,"ngIf"],[1,"theEnd"],[4,"ngFor","ngForOf"],[2,"vertical-align","middle","text-align","center","width","100%"],[2,"width","100%"],["autosize","",2,"width","100%","background-color","navajowhite",3,"id"],["inputNums",""],["color","primary"],["color","danger"]],template:function(r,e){if(1&r){var n=t.EpF();t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar"),t.TgZ(2,"ion-buttons",0),t._UZ(3,"ion-menu-button"),t.qZA(),t.TgZ(4,"ion-buttons",1),t.TgZ(5,"ion-button",2),t.NdJ("click",function(){return e.openActionSheet()}),t._UZ(6,"ion-icon",3),t.qZA(),t.qZA(),t.TgZ(7,"ion-title"),t._uU(8," \u4e00\u62cd\u5373\u5c0d "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"ion-content",4),t.TgZ(10,"div",5),t.TgZ(11,"label",6),t._uU(12,"1.[\u9078\u53d6/\u62cd\u7167\u5f69\u7968]\uff0c2.\u526a\u88c1\u5230\u53ea\u6709\u865f\u78bc\u90e8\u4efd\uff0c3.[\u8fa8\u8b58\u865f\u78bc]\uff0c4.[\u6838\u5c0d\u5f69\u7968]\uff01"),t._UZ(13,"br"),t.TgZ(14,"span",7),t._uU(15,"(\u66ab\u4e0d\u652f\u6301\u6838\u5c0d\u81bd\u62d6\u5f69\u7968)"),t.qZA(),t.qZA(),t._UZ(16,"br"),t.TgZ(17,"ion-button",8,9),t.NdJ("click",function(){return t.CHM(n),t.MAs(21).click()}),t._uU(19,"\u6309\u9019\u88cf\u9078\u53d6\u4f60\u7684\u5f69\u7968"),t.qZA(),t.TgZ(20,"input",10,11),t.NdJ("change",function(s){return e.fileChangeEvent(s)}),t.qZA(),t.TgZ(22,"div",12),t.TgZ(23,"image-cropper",13),t.NdJ("imageCropped",function(s){return e.imageCropped(s)})("imageLoaded",function(){return e.imageLoaded()})("cropperReady",function(){return e.cropperReady()})("loadImageFailed",function(){return e.loadImageFailed()}),t.qZA(),t.qZA(),t._UZ(24,"img",14),t._UZ(25,"br"),t.YNc(26,vt,2,1,"ion-list",15),t.YNc(27,yt,5,1,"ion-text",16),t.YNc(28,At,2,0,"ion-text",17),t._UZ(29,"div",18),t.qZA(),t.qZA()}2&r&&(t.xp6(23),t.Q6J("imageChangedEvent",e.imageChangedEvent)("maintainAspectRatio",!1)("cropperMinHeight",30)("canvasRotation",e.rotateVal),t.xp6(1),t.Q6J("src",e.croppedImage,t.LSH),t.xp6(2),t.Q6J("ngIf",0!==e.resultList.length),t.xp6(1),t.Q6J("ngIf",0!==e.resultList.length),t.xp6(1),t.Q6J("ngIf",0!==e.resultList.length))},directives:[h.Gu,h.sr,h.Sm,h.fG,h.YG,h.gu,h.wd,h.W2,st,v.O5,h.q_,v.sg,h.Ie,h.Nd,h.wI,ht,h.yW],styles:[".cropper-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-shrink:0;width:100%}image-cropper[_ngcontent-%COMP%]{max-height:400px}"]}),a}();function bt(a,o){1&a&&t._UZ(0,"ion-icon",10)}function Ct(a,o){if(1&a){var r=t.EpF();t.TgZ(0,"ion-item",3),t.NdJ("click",function(){var s=t.CHM(r).$implicit;return t.oxw().showDetail(s)}),t.TgZ(1,"ion-grid"),t.TgZ(2,"ion-row",4),t.TgZ(3,"ion-col"),t.TgZ(4,"ion-label",5),t._uU(5),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"ion-row",6),t.TgZ(7,"ion-col",7),t.TgZ(8,"ion-label",7),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"ion-col",8),t.YNc(11,bt,1,0,"ion-icon",9),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&a){var e=o.$implicit;t.xp6(5),t.Oqu(e.numbers),t.xp6(4),t.hij("\u4e2d\u734e\u671f\u6578\uff1a ",e.matchedResults.length,""),t.xp6(2),t.Q6J("ngIf",0!==e.matchedResults.length)}}var wt=function(){function a(o,r,e,n,i,s){this.dataVal=o,this.commonService=r,this.m6service=e,this._router=n,this.navCtrl=i,this.loadingController=s}return a.prototype.ngOnInit=function(){var o=this.dataVal.storage;for(var r in this.results=[],o){var e=o[r];e.numbers=e.numbers.replace(/([+])/g," $1 "),this.results.push(e)}},a.prototype.showDetail=function(o){o.matchedResults.length>0&&(this.dataVal.storage=o,this.navCtrl.navigateForward(["capcheck/list"]))},a.\u0275fac=function(r){return new(r||a)(t.Y36(B.B),t.Y36(P.v),t.Y36(k.d),t.Y36(g.F0),t.Y36(h.SH),t.Y36(h.HT))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-capcheckresult"]],decls:9,vars:1,consts:[["slot","start"],[3,"text"],["detail-push","",3,"click",4,"ngFor","ngForOf"],["detail-push","",3,"click"],[2,"vertical-align","middle","text-align","left","background-color","burlywood"],[1,"wrap"],[2,"background-color","lightcoral","vertical-align","middle"],[2,"vertical-align","middle"],[2,"text-align","right","vertical-align","middle"],["name","arrow-dropright",4,"ngIf"],["name","arrow-dropright"]],template:function(r,e){1&r&&(t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar"),t.TgZ(2,"ion-buttons",0),t._UZ(3,"ion-back-button",1),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5," \u6700\u8fd130\u671f\u4e2d\u734e\u6458\u8981 "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"ion-content"),t.TgZ(7,"ion-list"),t.YNc(8,Ct,12,3,"ion-item",2),t.qZA(),t.qZA()),2&r&&(t.xp6(8),t.Q6J("ngForOf",e.results))},directives:[h.Gu,h.sr,h.Sm,h.oU,h.cs,h.wd,h.W2,h.q_,v.sg,h.Ie,h.jY,h.Nd,h.wI,h.Q$,v.O5,h.gu],styles:[".wrap[_ngcontent-%COMP%]{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}"]}),a}();function Mt(a,o){if(1&a&&t._UZ(0,"img",11),2&a){var r=t.oxw().$implicit;t.MGl("src","./assets/images/no_",r.number1,".png",t.LSH)}}function Et(a,o){if(1&a&&t._UZ(0,"img",11),2&a){var r=t.oxw().$implicit;t.MGl("src","./assets/images/no_",r.number1,"x.png",t.LSH)}}function It(a,o){if(1&a&&t._UZ(0,"img",11),2&a){var r=t.oxw().$implicit;t.MGl("src","./assets/images/no_",r.number2,".png",t.LSH)}}function Ot(a,o){if(1&a&&t._UZ(0,"img",11),2&a){var r=t.oxw().$implicit;t.MGl("src","./assets/images/no_",r.number2,"x.png",t.LSH)}}function Tt(a,o){if(1&a&&t._UZ(0,"img",11),2&a){var r=t.oxw().$implicit;t.MGl("src","./assets/images/no_",r.number3,".png",t.LSH)}}function kt(a,o){if(1&a&&t._UZ(0,"img",11),2&a){var r=t.oxw().$implicit;t.MGl("src","./assets/images/no_",r.number3,"x.png",t.LSH)}}function Rt(a,o){if(1&a&&t._UZ(0,"img",11),2&a){var r=t.oxw().$implicit;t.MGl("src","./assets/images/no_",r.number4,".png",t.LSH)}}function Dt(a,o){if(1&a&&t._UZ(0,"img",11),2&a){var r=t.oxw().$implicit;t.MGl("src","./assets/images/no_",r.number4,"x.png",t.LSH)}}function Ft(a,o){if(1&a&&t._UZ(0,"img",11),2&a){var r=t.oxw().$implicit;t.MGl("src","./assets/images/no_",r.number5,".png",t.LSH)}}function Lt(a,o){if(1&a&&t._UZ(0,"img",11),2&a){var r=t.oxw().$implicit;t.MGl("src","./assets/images/no_",r.number5,"x.png",t.LSH)}}function Pt(a,o){if(1&a&&t._UZ(0,"img",11),2&a){var r=t.oxw().$implicit;t.MGl("src","./assets/images/no_",r.number6,".png",t.LSH)}}function zt(a,o){if(1&a&&t._UZ(0,"img",11),2&a){var r=t.oxw().$implicit;t.MGl("src","./assets/images/no_",r.number6,"x.png",t.LSH)}}function Bt(a,o){if(1&a&&t._UZ(0,"img",11),2&a){var r=t.oxw().$implicit;t.MGl("src","./assets/images/no_",r.numberX,".png",t.LSH)}}function Ut(a,o){if(1&a&&t._UZ(0,"img",11),2&a){var r=t.oxw().$implicit;t.MGl("src","./assets/images/no_",r.numberX,"x.png",t.LSH)}}function Ht(a,o){if(1&a){var r=t.EpF();t.TgZ(0,"ion-item",5),t.NdJ("click",function(){var l=t.CHM(r).$implicit;return t.oxw().showDetail(l)}),t.TgZ(1,"ion-grid"),t.TgZ(2,"ion-row",6),t.TgZ(3,"ion-col"),t.YNc(4,Mt,1,1,"img",7),t.YNc(5,Et,1,1,"img",7),t.qZA(),t.TgZ(6,"ion-col"),t.YNc(7,It,1,1,"img",7),t.YNc(8,Ot,1,1,"img",7),t.qZA(),t.TgZ(9,"ion-col"),t.YNc(10,Tt,1,1,"img",7),t.YNc(11,kt,1,1,"img",7),t.qZA(),t.TgZ(12,"ion-col"),t.YNc(13,Rt,1,1,"img",7),t.YNc(14,Dt,1,1,"img",7),t.qZA(),t.TgZ(15,"ion-col"),t.YNc(16,Ft,1,1,"img",7),t.YNc(17,Lt,1,1,"img",7),t.qZA(),t.TgZ(18,"ion-col"),t.YNc(19,Pt,1,1,"img",7),t.YNc(20,zt,1,1,"img",7),t.qZA(),t.TgZ(21,"ion-col",8),t._uU(22," + "),t.qZA(),t.TgZ(23,"ion-col"),t.YNc(24,Bt,1,1,"img",7),t.YNc(25,Ut,1,1,"img",7),t.qZA(),t.qZA(),t.TgZ(26,"ion-row"),t.TgZ(27,"ion-col",9),t.TgZ(28,"ion-label"),t._uU(29),t.qZA(),t.qZA(),t.TgZ(30,"ion-col",10),t.TgZ(31,"ion-label"),t._uU(32),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&a){var e=o.$implicit,n=t.oxw();t.xp6(4),t.Q6J("ngIf",e.matched[0]),t.xp6(1),t.Q6J("ngIf",!e.matched[0]),t.xp6(2),t.Q6J("ngIf",e.matched[1]),t.xp6(1),t.Q6J("ngIf",!e.matched[1]),t.xp6(2),t.Q6J("ngIf",e.matched[2]),t.xp6(1),t.Q6J("ngIf",!e.matched[2]),t.xp6(2),t.Q6J("ngIf",e.matched[3]),t.xp6(1),t.Q6J("ngIf",!e.matched[3]),t.xp6(2),t.Q6J("ngIf",e.matched[4]),t.xp6(1),t.Q6J("ngIf",!e.matched[4]),t.xp6(2),t.Q6J("ngIf",e.matched[5]),t.xp6(1),t.Q6J("ngIf",!e.matched[5]),t.xp6(4),t.Q6J("ngIf",e.matched[6]),t.xp6(1),t.Q6J("ngIf",!e.matched[6]),t.xp6(4),t.Oqu(e.drawNo),t.xp6(3),t.Oqu(n.toDate(e.drawDate))}}var Zt=function(){function a(o,r,e,n,i,s){this.dataVal=o,this.commonService=r,this.m6service=e,this._router=n,this.navCtrl=i,this.loadingController=s}return a.prototype.ngOnInit=function(){this.m6results=this.dataVal.storage,null==this.m6results&&this.navCtrl.navigateRoot("/404")},a.prototype.showDetail=function(o){return function(a,o,r,e){return new(r||(r=Promise))(function(i,s){function l(M){try{c(e.next(M))}catch(D){s(D)}}function m(M){try{c(e.throw(M))}catch(D){s(D)}}function c(M){M.done?i(M.value):function(i){return i instanceof r?i:new r(function(s){s(i)})}(M.value).then(l,m)}c((e=e.apply(a,o||[])).next())})}(this,void 0,void 0,function(){var r,e=this;return function(a,o){var e,n,i,s,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function l(c){return function(M){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(6===c[0]&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=o.call(a,r)}catch(M){c=[6,M],n=0}finally{e=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,M])}}}(this,function(n){switch(n.label){case 0:return[4,this.loadingController.create({message:"Loading",spinner:"circles"})];case 1:return(r=n.sent()).present().then(function(){e.navCtrl.navigateForward(["last30/detail",o]),r.dismiss()}),[2]}})})},a.prototype.toDate=function(o){return null!=o?this.m6service.toDateStr(Number(o)):""},a.\u0275fac=function(r){return new(r||a)(t.Y36(B.B),t.Y36(P.v),t.Y36(k.d),t.Y36(g.F0),t.Y36(h.SH),t.Y36(h.HT))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-capchecklist"]],decls:13,vars:2,consts:[["slot","start"],[3,"text"],[2,"vertical-align","middle","text-align","center","background-color","burlywood"],[1,"wrap"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[2,"vertical-align","middle","text-align","center"],["class","ball",3,"src",4,"ngIf"],[2,"margin-top","5px"],["size","4"],["size","8"],[1,"ball",3,"src"]],template:function(r,e){1&r&&(t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar"),t.TgZ(2,"ion-buttons",0),t._UZ(3,"ion-back-button",1),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5," \u6700\u8fd130\u671f\u4e2d\u734e\u7d50\u679c "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"ion-content"),t.TgZ(7,"ion-row",2),t.TgZ(8,"ion-col"),t.TgZ(9,"ion-label",3),t._uU(10),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"ion-list"),t.YNc(12,Ht,33,16,"ion-item",4),t.qZA(),t.qZA()),2&r&&(t.xp6(10),t.Oqu(e.m6results.numbers),t.xp6(2),t.Q6J("ngForOf",e.m6results.matchedResults))},directives:[h.Gu,h.sr,h.Sm,h.oU,h.cs,h.wd,h.W2,h.Nd,h.wI,h.Q$,h.q_,v.sg,h.Ie,h.jY,v.O5],styles:[""]}),a}(),Wt=function(){function a(){}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[v.ez,_.u5,h.Pc,E,ct,pt,ce,g.Bz.forChild([{path:"",component:xt},{path:"result",component:wt},{path:"list",component:Zt}])]]}),a}()},80795:function(C){C.exports=function(d,v){(null==v||v>d.length)&&(v=d.length);for(var _=0,h=new Array(v);_<v;_++)h[_]=d[_];return h},C.exports.default=C.exports,C.exports.__esModule=!0},64141:function(C,O,d){var v=d(80795);C.exports=function(h){if(Array.isArray(h))return v(h)},C.exports.default=C.exports,C.exports.__esModule=!0},91052:function(C){function O(v,_,h,g,w,f,u){try{var t=v[f](u),y=t.value}catch(S){return void h(S)}t.done?_(y):Promise.resolve(y).then(g,w)}C.exports=function(v){return function(){var _=this,h=arguments;return new Promise(function(g,w){var f=v.apply(_,h);function u(y){O(f,g,w,u,t,"next",y)}function t(y){O(f,g,w,u,t,"throw",y)}u(void 0)})}},C.exports.default=C.exports,C.exports.__esModule=!0},53837:function(C){C.exports=function(d,v,_){return v in d?Object.defineProperty(d,v,{value:_,enumerable:!0,configurable:!0,writable:!0}):d[v]=_,d},C.exports.default=C.exports,C.exports.__esModule=!0},45351:function(C){C.exports=function(d){if("undefined"!=typeof Symbol&&null!=d[Symbol.iterator]||null!=d["@@iterator"])return Array.from(d)},C.exports.default=C.exports,C.exports.__esModule=!0},87265:function(C){C.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},C.exports.default=C.exports,C.exports.__esModule=!0},84539:function(C,O,d){var v=d(53837);function _(g,w){var f=Object.keys(g);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(g);w&&(u=u.filter(function(t){return Object.getOwnPropertyDescriptor(g,t).enumerable})),f.push.apply(f,u)}return f}C.exports=function(g){for(var w=1;w<arguments.length;w++){var f=null!=arguments[w]?arguments[w]:{};w%2?_(Object(f),!0).forEach(function(u){v(g,u,f[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(f)):_(Object(f)).forEach(function(u){Object.defineProperty(g,u,Object.getOwnPropertyDescriptor(f,u))})}return g},C.exports.default=C.exports,C.exports.__esModule=!0},48764:function(C,O,d){var v=d(7113);C.exports=function(h,g){if(null==h)return{};var f,u,w=v(h,g);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(h);for(u=0;u<t.length;u++)!(g.indexOf(f=t[u])>=0)&&(!Object.prototype.propertyIsEnumerable.call(h,f)||(w[f]=h[f]))}return w},C.exports.default=C.exports,C.exports.__esModule=!0},7113:function(C){C.exports=function(d,v){if(null==d)return{};var g,w,_={},h=Object.keys(d);for(w=0;w<h.length;w++)!(v.indexOf(g=h[w])>=0)&&(_[g]=d[g]);return _},C.exports.default=C.exports,C.exports.__esModule=!0},59545:function(C,O,d){var v=d(64141),_=d(45351),h=d(34466),g=d(87265);C.exports=function(f){return v(f)||_(f)||h(f)||g()},C.exports.default=C.exports,C.exports.__esModule=!0},34466:function(C,O,d){var v=d(80795);C.exports=function(h,g){if(h){if("string"==typeof h)return v(h,g);var w=Object.prototype.toString.call(h).slice(8,-1);if("Object"===w&&h.constructor&&(w=h.constructor.name),"Map"===w||"Set"===w)return Array.from(h);if("Arguments"===w||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return v(h,g)}},C.exports.default=C.exports,C.exports.__esModule=!0},94547:function(C){"use strict";C.exports=JSON.parse('{"_args":[["tesseract.js@2.1.5","/Users/eric/git/repository/HKM6/HKM6"]],"_from":"tesseract.js@2.1.5","_id":"tesseract.js@2.1.5","_inBundle":false,"_integrity":"sha512-7CIS3SWr7TXpeaH9+HS7iUtVbCfPFYOO3p6rkRAkdtsOtrbz6496x59na6SCbFAIaZulQxy8BjwSu3qL3AoDRg==","_location":"/tesseract.js","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"tesseract.js@2.1.5","name":"tesseract.js","escapedName":"tesseract.js","rawSpec":"2.1.5","saveSpec":null,"fetchSpec":"2.1.5"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/tesseract.js/-/tesseract.js-2.1.5.tgz","_spec":"2.1.5","_where":"/Users/eric/git/repository/HKM6/HKM6","author":"","browser":{"./src/worker/node/index.js":"./src/worker/browser/index.js"},"bugs":{"url":"https://github.com/naptha/tesseract.js/issues"},"collective":{"type":"opencollective","url":"https://opencollective.com/tesseractjs"},"contributors":[{"name":"jeromewu"}],"dependencies":{"blueimp-load-image":"^3.0.0","bmp-js":"^0.1.0","file-type":"^12.4.1","idb-keyval":"^3.2.0","is-electron":"^2.2.0","is-url":"^1.2.4","jpeg-autorotate":"^7.1.1","node-fetch":"^2.6.0","opencollective-postinstall":"^2.0.2","regenerator-runtime":"^0.13.3","resolve-url":"^0.2.1","tesseract.js-core":"^2.2.0","zlibjs":"^0.3.1"},"description":"Pure Javascript Multilingual OCR","devDependencies":{"@babel/core":"^7.7.7","@babel/preset-env":"^7.7.7","acorn":"^6.4.0","babel-loader":"^8.1.0","cors":"^2.8.5","eslint":"^7.2.0","eslint-config-airbnb-base":"^14.2.0","eslint-plugin-import":"^2.22.1","expect.js":"^0.3.1","express":"^4.17.1","mocha":"^8.1.3","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","nyc":"^15.1.0","rimraf":"^2.7.1","wait-on":"^3.3.0","webpack":"^4.44.2","webpack-bundle-analyzer":"^3.6.0","webpack-cli":"^3.3.12","webpack-dev-middleware":"^3.7.2"},"homepage":"https://github.com/naptha/tesseract.js","jsdelivr":"dist/tesseract.min.js","license":"Apache-2.0","main":"src/index.js","name":"tesseract.js","repository":{"type":"git","url":"git+https://github.com/naptha/tesseract.js.git"},"scripts":{"build":"rimraf dist && webpack --config scripts/webpack.config.prod.js","lint":"eslint src","lint:fix":"eslint --fix src","postinstall":"opencollective-postinstall || true","prepublishOnly":"npm run build","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json","start":"node scripts/server.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","wait":"rimraf dist && wait-on http://localhost:3000/dist/tesseract.dev.js"},"types":"src/index.d.ts","unpkg":"dist/tesseract.min.js","version":"2.1.5"}')}}]);