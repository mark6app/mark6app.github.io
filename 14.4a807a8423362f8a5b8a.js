(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"/Hjt":function(e,t){e.exports=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`},"5IdF":function(e,t){e.exports=e=>{const t=[],n=[],r=[],i=[],o=[];return e.blocks.forEach(a=>{a.paragraphs.forEach(t=>{t.lines.forEach(n=>{n.words.forEach(r=>{r.symbols.forEach(i=>{o.push({...i,page:e,block:a,paragraph:t,line:n,word:r})}),i.push({...r,page:e,block:a,paragraph:t,line:n})}),r.push({...n,page:e,block:a,paragraph:t})}),n.push({...t,page:e,block:a})}),t.push({...a,page:e})}),{...e,blocks:t,paragraphs:n,lines:r,words:i,symbols:o}}},"67Ye":function(e,t){e.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12"}},DmX5:function(e,t,n){const r=n("PhXl"),i=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{t(r.result)},r.onerror=({target:{error:{code:e}}})=>{n(Error(`File could not be read! Code=${e}`))},r.readAsArrayBuffer(e)}),o=async e=>{let t=e;if(void 0===e)return"undefined";if("string"==typeof e)if(/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e))t=atob(e.split(",")[1]).split("").map(e=>e.charCodeAt(0));else{const n=await fetch(r(e));t=await n.arrayBuffer()}else e instanceof HTMLElement?("IMG"===e.tagName&&(t=await o(e.src)),"VIDEO"===e.tagName&&(t=await o(e.poster)),"CANVAS"===e.tagName&&await new Promise(n=>{e.toBlob(async e=>{t=await i(e),n()})})):(e instanceof File||e instanceof Blob)&&(t=await i(e));return new Uint8Array(t)};e.exports=o},IIpR:function(e,t,n){const r=n("cYUz"),{log:i}=n("fIT2"),o=n("/Hjt");let a=0;e.exports=()=>{const e=o("Scheduler",a),t={},n={};let s=[];a+=1;const c=()=>Object.keys(t).length,l=()=>{if(0!==s.length){const e=Object.keys(t);for(let r=0;r<e.length;r+=1)if(void 0===n[e[r]]){s[0](t[e[r]]);break}}},u=(t,o)=>new Promise((a,c)=>{const u=r({action:t,payload:o});s.push(async e=>{s.shift(),n[e.id]=u;try{a(await e[t].apply(this,[...o,u.id]))}catch(r){c(r)}finally{delete n[e.id],l()}}),i(`[${e}]: Add ${u.id} to JobQueue`),i(`[${e}]: JobQueue length=${s.length}`),l()});return{addWorker:n=>(t[n.id]=n,i(`[${e}]: Add ${n.id}`),i(`[${e}]: Number of workers=${c()}`),l(),n.id),addJob:async(t,...n)=>{if(0===c())throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return u(t,n)},terminate:async()=>{Object.keys(t).forEach(async e=>{await t[e].terminate()}),s=[]},getQueueLen:()=>s.length,getNumWorkers:c}}},KAeC:function(e,t,n){const r=n("PhXl"),{version:i,dependencies:o}=n("YNtM"),a=n("XbsK");e.exports={...a,workerPath:"undefined"!=typeof process&&"development"===process.env.TESS_ENV?r(`/dist/worker.dev.js?nocache=${Math.random().toString(36).slice(3)}`):`https://unpkg.com/tesseract.js@v${i}/dist/worker.min.js`,corePath:`https://unpkg.com/tesseract.js-core@v${o["tesseract.js-core"].substring(1)}/tesseract-core.${"object"==typeof WebAssembly?"wasm":"asm"}.js`}},PhXl:function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){return function(){var e=arguments.length;if(0===e)throw new Error("resolveUrl requires at least one argument; got none.");var t=document.createElement("base");if(t.href=arguments[0],1===e)return t.href;var n=document.getElementsByTagName("head")[0];n.insertBefore(t,n.firstChild);for(var r,i=document.createElement("a"),o=1;o<e;o++)i.href=arguments[o],t.href=r=i.href;return n.removeChild(t),r}})?r.call(t,n,t,e):r)||(e.exports=i)},Seje:function(e,t,n){const r="browser"===n("f4+5")("type")?n("PhXl"):e=>e;e.exports=e=>{const t={...e};return["corePath","workerPath","langPath"].forEach(n=>{void 0!==e[n]&&(t[n]=r(t[n]))}),t}},T00y:function(e,t){e.exports=async(e,t)=>{e.postMessage(t)}},XbsK:function(e,t){e.exports={langPath:"https://tessdata.projectnaptha.com/4.0.0",workerBlobURL:!0,logger:()=>{}}},Y6bo:function(e,t){e.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}},YNtM:function(e){e.exports=JSON.parse('{"_from":"tesseract.js@^2.0.2","_id":"tesseract.js@2.0.2","_inBundle":false,"_integrity":"sha512-LeZmvmYDDErqBbVSzvGHAujZUQSmjYB0iZkmwvbc+QbA840rf+0CYkCMURIuE54zDrv0Qms+QINZokQr78FkBA==","_location":"/tesseract.js","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"tesseract.js@^2.0.2","name":"tesseract.js","escapedName":"tesseract.js","rawSpec":"^2.0.2","saveSpec":null,"fetchSpec":"^2.0.2"},"_requiredBy":["#USER","/"],"_resolved":"https://registry.npmjs.org/tesseract.js/-/tesseract.js-2.0.2.tgz","_shasum":"c415472198e0ba2910a6871a137e99bbd32ff34f","_spec":"tesseract.js@^2.0.2","_where":"/Users/eric/eclipse-workspace/HKM6/HKM6","author":"","browser":{"./src/worker/node/index.js":"./src/worker/browser/index.js"},"bugs":{"url":"https://github.com/naptha/tesseract.js/issues"},"bundleDependencies":false,"collective":{"type":"opencollective","url":"https://opencollective.com/tesseractjs"},"contributors":[{"name":"jeromewu"}],"dependencies":{"bmp-js":"^0.1.0","file-type":"^12.4.1","idb-keyval":"^3.2.0","is-electron":"^2.2.0","is-url":"^1.2.4","node-fetch":"^2.6.0","opencollective-postinstall":"^2.0.2","regenerator-runtime":"^0.13.3","resolve-url":"^0.2.1","tesseract.js-core":"^2.0.0","zlibjs":"^0.3.1"},"deprecated":false,"description":"Pure Javascript Multilingual OCR","devDependencies":{"@babel/core":"^7.7.7","@babel/preset-env":"^7.7.7","acorn":"^6.4.0","babel-loader":"^8.0.6","cors":"^2.8.5","eslint":"^5.16.0","eslint-config-airbnb":"^17.1.1","eslint-plugin-import":"^2.19.1","eslint-plugin-jsx-a11y":"^6.2.3","eslint-plugin-react":"^7.17.0","expect.js":"^0.3.1","express":"^4.17.1","mocha":"^5.2.0","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","nyc":"^13.3.0","rimraf":"^2.7.1","wait-on":"^3.3.0","webpack":"^4.41.4","webpack-bundle-analyzer":"^3.6.0","webpack-cli":"^3.3.10","webpack-dev-middleware":"^3.7.2"},"homepage":"https://github.com/naptha/tesseract.js","jsdelivr":"dist/tesseract.min.js","license":"Apache-2.0","main":"src/index.js","name":"tesseract.js","repository":{"type":"git","url":"git+https://github.com/naptha/tesseract.js.git"},"scripts":{"build":"rimraf dist && webpack --config scripts/webpack.config.prod.js","lint":"eslint src","postinstall":"opencollective-postinstall || true","prepublishOnly":"npm run build","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json","start":"node scripts/server.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","wait":"rimraf dist && wait-on http://localhost:3000/dist/tesseract.dev.js"},"types":"src/index.d.ts","unpkg":"dist/tesseract.min.js","version":"2.0.2"}')},"c+Cr":function(e,t,n){const r=n("Seje"),i=n("5IdF"),o=n("cYUz"),{log:a}=n("fIT2"),s=n("/Hjt"),{defaultOEM:c}=n("oGhf"),{defaultOptions:l,spawnWorker:u,terminateWorker:p,onMessage:h,loadImage:d,send:g}=n("dyjd");let f=0;e.exports=(e={})=>{const t=s("Worker",f),{logger:n,errorHandler:m,...b}=r({...l,...e}),v={},w={};let y=u(b);f+=1;const A=(e,t)=>{v[e]=t},S=(e,t)=>{w[e]=t},I=({id:e,action:n,payload:r})=>new Promise((i,o)=>{a(`[${t}]: Start ${e}, action=${n}`),A(n,i),S(n,o),g(y,{workerId:t,jobId:e,action:n,payload:r})});return h(y,({workerId:e,jobId:t,status:r,action:o,data:s})=>{if("resolve"===r){a(`[${e}]: Complete ${t}`);let n=s;"recognize"===o?n=i(s):"getPDF"===o&&(n=Array.from({...s,length:Object.keys(s).length})),v[o]({jobId:t,data:n})}else if("reject"===r){if(w[o](s),!m)throw Error(s);m(s)}else"progress"===r&&n(s)}),{id:t,worker:y,setResolve:A,setReject:S,load:e=>I(o({id:e,action:"load",payload:{options:b}})),loadLanguage:(e="eng",t)=>I(o({id:t,action:"loadLanguage",payload:{langs:e,options:b}})),initialize:(e="eng",t=c,n)=>I(o({id:n,action:"initialize",payload:{langs:e,oem:t}})),setParameters:(e={},t)=>I(o({id:t,action:"setParameters",payload:{params:e}})),recognize:async(e,t={},n)=>I(o({id:n,action:"recognize",payload:{image:await d(e),options:t}})),getPDF:(e="Tesseract OCR Result",t=!1,n)=>I(o({id:n,action:"getPDF",payload:{title:e,textonly:t}})),detect:async(e,t)=>I(o({id:t,action:"detect",payload:{image:await d(e)}})),terminate:async()=>(null!==y&&(p(y),y=null),Promise.resolve())}}},cR1X:function(e,t){e.exports=e=>{e.terminate()}},cYUz:function(e,t,n){const r=n("/Hjt");let i=0;e.exports=({id:e,action:t,payload:n={}})=>{let o=e;return void 0===o&&(o=r("Job",i),i+=1),{id:o,action:t,payload:n}}},dyjd:function(e,t,n){const r=n("KAeC"),i=n("sUgH"),o=n("cR1X"),a=n("eqRM"),s=n("T00y"),c=n("DmX5");e.exports={defaultOptions:r,spawnWorker:i,terminateWorker:o,onMessage:a,send:s,loadImage:c}},eqRM:function(e,t){e.exports=(e,t)=>{e.onmessage=({data:e})=>{t(e)}}},"f4+5":function(e,t,n){const r=n("Y6bo");e.exports=e=>{const t={};return r()?t.type="electron":"object"==typeof window?t.type="browser":"function"==typeof importScripts?t.type="webworker":"object"==typeof process&&(t.type="node"),void 0===e?t:t[e]}},fIT2:function(e,t){let n=!1;t.logging=n,t.setLogging=e=>{n=e},t.log=(...e)=>n?console.log.apply(this,e):null},ls82:function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n,r){var i=Object.create((t&&t.prototype instanceof f?t:f).prototype),o=new O(r||[]);return i._invoke=function(e,t,n){var r=u;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===u)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?d:p,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=d,n.method="throw",n.arg=c.arg)}}}(e,n,o),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=c;var u="suspendedStart",p="suspendedYield",h="executing",d="completed",g={};function f(){}function m(){}function b(){}var v={};v[o]=function(){return this};var w=Object.getPrototypeOf,y=w&&w(w(x([])));y&&y!==n&&r.call(y,o)&&(v=y);var A=b.prototype=f.prototype=Object.create(v);function S(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function I(e){var t;this._invoke=function(n,i){function o(){return new Promise((function(t,o){!function t(n,i,o,a){var s=l(e[n],e,i);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,o,a)}),(function(e){t("throw",e,o,a)})):Promise.resolve(u).then((function(e){c.value=e,o(c)}),(function(e){return t("throw",e,o,a)}))}a(s.arg)}(n,i,t,o)}))}return t=t?t.then(o,o):o()}}function k(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:L}}function L(){return{value:t,done:!0}}return m.prototype=A.constructor=b,b.constructor=m,b[s]=m.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(A),e},e.awrap=function(e){return{__await:e}},S(I.prototype),I.prototype[a]=function(){return this},e.AsyncIterator=I,e.async=function(t,n,r,i){var o=new I(c(t,n,r,i));return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(A),A[s]="Generator",A[o]=function(){return this},A.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;j(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:x(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},oGhf:function(e,t,n){const r=n("xYo3");e.exports={defaultOEM:r.DEFAULT}},pTnA:function(e,t,n){"use strict";n.r(t);var r=n("CcnG"),i=function(){return function(){}}(),o=n("pMnS"),a=n("mrSG"),s=function(){function e(e,t,n){this._mimeType=null,this._imageAsBase64=null,this._imageAsDataUrl=null,this._imageData=null,this._mimeType=t,this._imageAsDataUrl=e,this._imageData=n}return e.getDataFromDataUrl=function(e,t){return e.replace("data:"+t+";base64,","")},Object.defineProperty(e.prototype,"imageAsBase64",{get:function(){return this._imageAsBase64?this._imageAsBase64:this._imageAsBase64=e.getDataFromDataUrl(this._imageAsDataUrl,this._mimeType)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageAsDataUrl",{get:function(){return this._imageAsDataUrl},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageData",{get:function(){return this._imageData},enumerable:!0,configurable:!0}),e}(),c=function(){function e(){}return e.getAvailableVideoInputs=function(){return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?new Promise((function(e,t){navigator.mediaDevices.enumerateDevices().then((function(t){e(t.filter((function(e){return"videoinput"===e.kind})))})).catch((function(e){t(e.message||e)}))})):Promise.reject("enumerateDevices() not supported.")},e}(),l=function(){function e(){this.width=640,this.height=480,this.videoOptions=t.DEFAULT_VIDEO_OPTIONS,this.allowCameraSwitch=!0,this.captureImageData=!1,this.imageType=t.DEFAULT_IMAGE_TYPE,this.imageQuality=t.DEFAULT_IMAGE_QUALITY,this.imageCapture=new r.r,this.initError=new r.r,this.imageClick=new r.r,this.cameraSwitched=new r.r,this.availableVideoInputs=[],this.videoInitialized=!1,this.activeVideoInputIndex=-1,this.mediaStream=null,this.activeVideoSettings=null}var t;return t=e,Object.defineProperty(e.prototype,"trigger",{set:function(e){var t=this;this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.triggerSubscription=e.subscribe((function(){t.takeSnapshot()}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"switchCamera",{set:function(e){var t=this;this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe(),this.switchCameraSubscription=e.subscribe((function(e){"string"==typeof e?t.switchToVideoInput(e):t.rotateVideoInput(!1!==e)}))},enumerable:!0,configurable:!0}),e.getMediaConstraintsForDevice=function(e,t){var n=t||this.DEFAULT_VIDEO_OPTIONS;return e&&(n.deviceId={exact:e}),n},e.getDeviceIdFromMediaStreamTrack=function(e){if(e.getSettings&&e.getSettings()&&e.getSettings().deviceId)return e.getSettings().deviceId;if(e.getConstraints&&e.getConstraints()&&e.getConstraints().deviceId){var n=e.getConstraints().deviceId;return t.getValueFromConstrainDOMString(n)}},e.getFacingModeFromMediaStreamTrack=function(e){if(e){if(e.getSettings&&e.getSettings()&&e.getSettings().facingMode)return e.getSettings().facingMode;if(e.getConstraints&&e.getConstraints()&&e.getConstraints().facingMode){var n=e.getConstraints().facingMode;return t.getValueFromConstrainDOMString(n)}}},e.isUserFacing=function(e){var n=t.getFacingModeFromMediaStreamTrack(e);return!!n&&"user"===n.toLowerCase()},e.getValueFromConstrainDOMString=function(e){if(e){if(e instanceof String)return String(e);if(Array.isArray(e)&&Array(e).length>0)return String(e[0]);if("object"==typeof e){if(e.exact)return String(e.exact);if(e.ideal)return String(e.ideal)}}return null},e.prototype.ngAfterViewInit=function(){var e=this;this.detectAvailableDevices().then((function(){e.switchToVideoInput(null)})).catch((function(t){e.initError.next({message:t}),e.switchToVideoInput(null)}))},e.prototype.ngOnDestroy=function(){this.stopMediaTracks(),this.unsubscribeFromSubscriptions()},e.prototype.takeSnapshot=function(){var e=this.nativeVideoElement,n={width:this.width,height:this.height};e.videoWidth&&(n.width=e.videoWidth,n.height=e.videoHeight);var r=this.canvas.nativeElement;r.width=n.width,r.height=n.height;var i=r.getContext("2d");i.drawImage(e,0,0);var o=this.imageType?this.imageType:t.DEFAULT_IMAGE_TYPE,a=r.toDataURL(o,this.imageQuality?this.imageQuality:t.DEFAULT_IMAGE_QUALITY),c=null;this.captureImageData&&(c=i.getImageData(0,0,r.width,r.height)),this.imageCapture.next(new s(a,o,c))},e.prototype.rotateVideoInput=function(e){this.availableVideoInputs&&this.availableVideoInputs.length>1&&this.switchToVideoInput(this.availableVideoInputs[(this.activeVideoInputIndex+(e?1:this.availableVideoInputs.length-1))%this.availableVideoInputs.length].deviceId)},e.prototype.switchToVideoInput=function(e){this.videoInitialized=!1,this.stopMediaTracks(),this.initWebcam(e,this.videoOptions)},e.prototype.videoResize=function(){},Object.defineProperty(e.prototype,"videoWidth",{get:function(){var e=this.getVideoAspectRatio();return Math.min(this.width,this.height*e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"videoHeight",{get:function(){var e=this.getVideoAspectRatio();return Math.min(this.height,this.width/e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"videoStyleClasses",{get:function(){var e="";return this.isMirrorImage()&&(e+="mirrored "),e.trim()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nativeVideoElement",{get:function(){return this.video.nativeElement},enumerable:!0,configurable:!0}),e.prototype.getVideoAspectRatio=function(){var e=this.nativeVideoElement;return e.videoWidth&&e.videoWidth>0&&e.videoHeight&&e.videoHeight>0?e.videoWidth/e.videoHeight:this.width/this.height},e.prototype.initWebcam=function(e,n){var r=this,i=this.nativeVideoElement;if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){var o=t.getMediaConstraintsForDevice(e,n);navigator.mediaDevices.getUserMedia({video:o}).then((function(e){r.mediaStream=e,i.srcObject=e,i.play(),r.activeVideoSettings=e.getVideoTracks()[0].getSettings();var n=t.getDeviceIdFromMediaStreamTrack(e.getVideoTracks()[0]);r.cameraSwitched.next(n),r.detectAvailableDevices().then((function(){r.activeVideoInputIndex=n?r.availableVideoInputs.findIndex((function(e){return e.deviceId===n})):-1,r.videoInitialized=!0})).catch((function(){r.activeVideoInputIndex=-1,r.videoInitialized=!0}))})).catch((function(e){r.initError.next({message:e.message,mediaStreamError:e})}))}else this.initError.next({message:"Cannot read UserMedia from MediaDevices."})},e.prototype.getActiveVideoTrack=function(){return this.mediaStream?this.mediaStream.getVideoTracks()[0]:null},e.prototype.isMirrorImage=function(){if(!this.getActiveVideoTrack())return!1;var e="auto";switch(this.mirrorImage&&("string"==typeof this.mirrorImage?e=String(this.mirrorImage).toLowerCase():this.mirrorImage.x&&(e=this.mirrorImage.x.toLowerCase())),e){case"always":return!0;case"never":return!1}return t.isUserFacing(this.getActiveVideoTrack())},e.prototype.stopMediaTracks=function(){this.mediaStream&&this.mediaStream.getTracks&&this.mediaStream.getTracks().forEach((function(e){return e.stop()}))},e.prototype.unsubscribeFromSubscriptions=function(){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe()},e.prototype.detectAvailableDevices=function(){var e=this;return new Promise((function(t,n){c.getAvailableVideoInputs().then((function(n){e.availableVideoInputs=n,t(n)})).catch((function(t){e.availableVideoInputs=[],n(t)}))}))},e.DEFAULT_VIDEO_OPTIONS={facingMode:"environment"},e.DEFAULT_IMAGE_TYPE="image/jpeg",e.DEFAULT_IMAGE_QUALITY=.92,e}(),u=function(){return function(){}}(),p=n("Ip0R"),h=r.zb({encapsulation:0,styles:[".webcam-wrapper[_ngcontent-%COMP%]{display:inline-block;position:relative;line-height:0}.webcam-wrapper[_ngcontent-%COMP%]   video.mirrored[_ngcontent-%COMP%]{transform:scale(-1,1)}.webcam-wrapper[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{display:none}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.1);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE9UlEQVR42u2aT2hdRRTGf+cRQqghSqihdBFDkRISK2KDfzDWxHaRQHEhaINKqa1gKQhd6EZLN+IidCH+Q0oWIkVRC21BQxXRitVaSbKoJSGtYGoK2tQ/tU1jY5v0c5F54Xl7b/KSO/PyEt+3e5f75p7zzZwzZ74zUEIJJfyfYaEGllQGVAGZlENdBy6Z2cSiYFTSKkkfS/pH/nBF0kFJdUW9AiRVASeAukD8DgNrzOySrwEzng18KaDzALXuG8W3AiStAvqBisBRNg40mtlPxbYCOgvgPO4bncWW+JpVeDQXRQhIygDfA00F5r0XuNfMrgclQFI98DDQCNQA5ZFXqoCWBVp8XwHRHeEqcN7loy/NbHBesyqpQ1KfFj/6nC+ZvFaApFrgPaCZpYVvgCfNbDiRAElNwGFg+RIt/X8H2s2s9wYCJDUAR4HqJX7++RN40MwGpgmQVAH0AQ2BPz4AHHPl8nBOAqtyFWQjsA6oL4Ada81sPDv7uwImod8kvSJp9RyS8O2SXnb/DYVd2Y9VSroQ4ANXJO2WVJmixqh0kzMWwL4LkiqRtDnA4D1zmfE8j9g9AezcnAHaPcfXdbfdnPZ2Yps6+DwAvO/Z1naTdApY7Xng48BDZnY1MpMVQBuw3iXc5Tnb0wBwBPjUzP6eoezuArZ6svM0geJLkvZEYnl3nkntoqROSbckSW2Suj3ZOIangc7GPJuUtNGdFIfmMeavktoSSKiW9LMPw30Q8JqkekmjCbOZRhuclLQjgYSNxUBAj6RyZ9ATgUJpUtJTCSR8vpAEXHAyWK5BXYFIGHOlepSAloUk4NEYgyoknQhEwhFJ0e8h6VSaQeerCb5uZgdi9utxYBNwOUD93hIVXswM4INCi6K9wAszFC2DwLOBDjHbYp59karIUnRdzYy/3ClqVklaUhfwTICj7K25OqA7a4wWagVsm4Me/xzwg2cCqqONFzO7DPxSCAJi436GUBgHHguQD2oTlJ55oSzP9ybccsttSJw1szdjFOSnI/8dTCGZHwcORp4Nx7y3B1iZ8/sm4MW8/Euxg5wIsS/HaAp3zeP4/G7obRDXI4jiTIA22H7Xdc7X+S3A5lC7QBQ357aq3VAjCeSkwUfAJrfvz+R8A9ADLAtZB+TinpjC5JMA+//jwPZZnF8G7J+L8z4IWB/zbG+gIujVWfLBW/NStVMmqaG4POJRsIjix7h8IGnLQuoBbQki5sVAJHyYm7YkNaRRtXwQ8G1cHpX0iKRrgUjYno17Sf0LrQhJUkdCeHWkVITGJI0k1QeS3ikGSUzOyJUJJNznYneuOCnpTldcxa2kP3xJYqOeSDjqZG8ShJLnE8TTuMS6Iyu1BW7djZqkfo9N0QOuYJmYQddfB7RG+gLTNzqAY9FrL+5/nwEbvDdJJe3zzOrhNP3AWRqmk55t3ZcBuj3b2gb0Sbrbo/NNzk7fFzu7s/E5EiC+rrmeQU0Kx2skvRFoOx2ZzlmSdgbsw49JetvtBpk8nM64d/cGbNtJ0s7cGyJlwHeEv+t3nqnLSgPAUOSGyG3AHUxdzqoJbEcvcL+ZTeTeEapzJKxgaeOcc/7Mf06D7kFrguS0VDAMtGadv+E47DT9tcChJej8ISfpD+abgTe45uOkFi8mnQ+JBVQ+d4VXuOptjavcyot8pq86mfwk8LWZnaOEEkoooYQSSojDv8AhQNeGfe0jAAAAAElFTkSuQmCC);background-repeat:no-repeat;border-radius:5px;position:absolute;right:13px;top:10px;height:48px;width:48px;background-size:80%;cursor:pointer;background-position:center;transition:background-color .2s}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.18)}"],data:{}});function d(e){return r.Wb(0,[(e()(),r.Bb(0,0,null,null,0,"div",[["class","camera-switch"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.rotateVideoInput(!0)&&r),r}),null,null))],null,null)}function g(e){return r.Wb(0,[r.Sb(402653184,1,{video:0}),r.Sb(402653184,2,{canvas:0}),(e()(),r.Bb(2,0,null,null,4,"div",[["class","webcam-wrapper"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.imageClick.next()&&r),r}),null,null)),(e()(),r.Bb(3,0,[[1,0],["video",1]],null,0,"video",[["autoplay",""],["muted",""],["playsinline",""]],[[8,"width",0],[8,"height",0],[8,"className",0]],[[null,"resize"]],(function(e,t,n){var r=!0;return"resize"===t&&(r=!1!==e.component.videoResize()&&r),r}),null,null)),(e()(),r.qb(16777216,null,null,1,null,d)),r.Ab(5,16384,null,0,p.j,[r.W,r.S],{ngIf:[0,"ngIf"]},null),(e()(),r.Bb(6,0,[[2,0],["canvas",1]],null,0,"canvas",[],[[8,"width",0],[8,"height",0]],null,null,null,null))],(function(e,t){var n=t.component;e(t,5,0,n.allowCameraSwitch&&n.availableVideoInputs.length>1&&n.videoInitialized)}),(function(e,t){var n=t.component;e(t,3,0,n.videoWidth,n.videoHeight,n.videoStyleClasses),e(t,6,0,n.width,n.height)}))}var f=n("oBZk"),m=n("ZZ/e"),b=n("K9Ia"),v=n("yb/K"),w=function(){function e(){this.result="XXX",this.showWebcam=!0,this.allowCameraSwitch=!0,this.multipleWebcamsAvailable=!1,this.videoOptions={},this.errors=[],this.webcamImage=null,this.trigger=new b.a,this.nextWebcam=new b.a}return e.prototype.ngOnInit=function(){var e=this;c.getAvailableVideoInputs().then((function(t){e.multipleWebcamsAvailable=t&&t.length>1}))},e.prototype.triggerSnapshot=function(){this.trigger.next()},e.prototype.toggleWebcam=function(){this.showWebcam=!this.showWebcam},e.prototype.handleInitError=function(e){this.errors.push(e)},e.prototype.showNextWebcam=function(e){this.nextWebcam.next(e)},e.prototype.handleImage=function(e){console.info("received webcam image",e),this.webcamImage=e;var t=Object(v.createWorker)({logger:function(e){return console.log(e)}});Object(a.__awaiter)(this,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return[4,t.load()];case 1:return n.sent(),[4,t.loadLanguage("eng")];case 2:return n.sent(),[4,t.initialize("eng")];case 3:return n.sent(),[4,t.recognize(this.webcamImage.imageAsDataUrl)];case 4:return e=n.sent().data.text,console.log(e),this.result=e,[4,t.terminate()];case 5:return n.sent(),[2]}}))}))},e.prototype.cameraWasSwitched=function(e){console.log("active device: "+e),this.deviceId=e},Object.defineProperty(e.prototype,"triggerObservable",{get:function(){return this.trigger.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextWebcamObservable",{get:function(){return this.nextWebcam.asObservable()},enumerable:!0,configurable:!0}),e.prototype.check=function(){this.trigger.next()},e.prototype.reset=function(){},e}(),y=r.zb({encapsulation:0,styles:[[""]],data:{}});function A(e){return r.Wb(0,[(e()(),r.Bb(0,0,null,null,1,"webcam",[],null,[[null,"imageCapture"],[null,"cameraSwitched"],[null,"initError"]],(function(e,t,n){var r=!0,i=e.component;return"imageCapture"===t&&(r=!1!==i.handleImage(n)&&r),"cameraSwitched"===t&&(r=!1!==i.cameraWasSwitched(n)&&r),"initError"===t&&(r=!1!==i.handleInitError(n)&&r),r}),g,h)),r.Ab(1,4374528,null,0,l,[],{width:[0,"width"],height:[1,"height"],videoOptions:[2,"videoOptions"],allowCameraSwitch:[3,"allowCameraSwitch"],imageQuality:[4,"imageQuality"],trigger:[5,"trigger"],switchCamera:[6,"switchCamera"]},{imageCapture:"imageCapture",initError:"initError",cameraSwitched:"cameraSwitched"})],(function(e,t){var n=t.component;e(t,1,0,300,300,n.videoOptions,n.allowCameraSwitch,1,n.triggerObservable,n.nextWebcamObservable)}),null)}function S(e){return r.Wb(0,[(e()(),r.Bb(0,0,null,null,19,"ion-header",[],null,null,null,f.D,f.h)),r.Ab(1,49152,null,0,m.C,[r.j,r.p,r.F],null,null),(e()(),r.Bb(2,0,null,0,17,"ion-toolbar",[],null,null,null,f.R,f.v)),r.Ab(3,49152,null,0,m.Db,[r.j,r.p,r.F],null,null),(e()(),r.Bb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,f.z,f.d)),r.Ab(5,49152,null,0,m.m,[r.j,r.p,r.F],null,null),(e()(),r.Bb(6,0,null,0,1,"ion-menu-button",[],null,null,null,f.K,f.p)),r.Ab(7,49152,null,0,m.S,[r.j,r.p,r.F],null,null),(e()(),r.Bb(8,0,null,0,8,"ion-buttons",[["padding",""],["slot","end"]],null,null,null,f.z,f.d)),r.Ab(9,49152,null,0,m.m,[r.j,r.p,r.F],null,null),r.Ab(10,16384,null,0,m.e,[r.p],null,null),(e()(),r.Bb(11,0,null,0,2,"ion-button",[],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.reset()&&r),r}),f.y,f.c)),r.Ab(12,49152,null,0,m.l,[r.j,r.p,r.F],null,null),(e()(),r.Ub(-1,0,["重選"])),(e()(),r.Bb(14,0,null,0,2,"ion-button",[],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.check()&&r),r}),f.y,f.c)),r.Ab(15,49152,null,0,m.l,[r.j,r.p,r.F],null,null),(e()(),r.Ub(-1,0,["核對"])),(e()(),r.Bb(17,0,null,0,2,"ion-title",[],null,null,null,f.P,f.t)),r.Ab(18,49152,null,0,m.Bb,[r.j,r.p,r.F],null,null),(e()(),r.Ub(-1,0,[" 一拍即對 "])),(e()(),r.Bb(20,0,null,null,6,"ion-content",[["class","ion-padding"]],null,null,null,f.B,f.f)),r.Ab(21,49152,null,0,m.v,[r.j,r.p,r.F],null,null),(e()(),r.Bb(22,0,null,0,4,"div",[["style","text-align: center;"]],null,null,null,null,null)),(e()(),r.qb(16777216,null,null,1,null,A)),r.Ab(24,16384,null,0,p.j,[r.W,r.S],{ngIf:[0,"ngIf"]},null),(e()(),r.Bb(25,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r.Ub(26,null,[" "," "]))],(function(e,t){e(t,24,0,t.component.showWebcam)}),(function(e,t){e(t,26,0,t.component.result)}))}function I(e){return r.Wb(0,[(e()(),r.Bb(0,0,null,null,1,"app-capcheck",[],null,null,null,S,y)),r.Ab(1,114688,null,0,w,[],null,null)],(function(e,t){e(t,1,0)}),null)}var k=r.xb("app-capcheck",w,I,{},{},[]),E=n("gIcY"),j=n("ZYCi");n.d(t,"CapCheckComponentModuleNgFactory",(function(){return O}));var O=r.yb(i,[],(function(e){return r.Kb([r.Lb(512,r.m,r.jb,[[8,[o.a,k]],[3,r.m],r.D]),r.Lb(4608,p.l,p.k,[r.z,[2,p.s]]),r.Lb(4608,E.i,E.i,[]),r.Lb(4608,m.b,m.b,[r.F,r.g]),r.Lb(4608,m.Ib,m.Ib,[m.b,r.m,r.w]),r.Lb(4608,m.Mb,m.Mb,[m.b,r.m,r.w]),r.Lb(1073742336,p.b,p.b,[]),r.Lb(1073742336,E.h,E.h,[]),r.Lb(1073742336,E.a,E.a,[]),r.Lb(1073742336,m.Fb,m.Fb,[]),r.Lb(1073742336,u,u,[]),r.Lb(1073742336,j.p,j.p,[[2,j.u],[2,j.n]]),r.Lb(1073742336,i,i,[]),r.Lb(1024,j.l,(function(){return[[{path:"",component:w}]]}),[])])}))},sUgH:function(e,t){e.exports=({workerPath:e,workerBlobURL:t})=>{let n;if(Blob&&URL&&t){const t=new Blob([`importScripts("${e}");`],{type:"application/javascript"});n=new Worker(URL.createObjectURL(t))}else n=new Worker(e);return n}},wRsi:function(e,t,n){const r=n("c+Cr");e.exports={recognize:async(e,t,n)=>{const i=r(n);return await i.load(),await i.loadLanguage(t),await i.initialize(t),i.recognize(e).finally(async()=>{await i.terminate()})},detect:async(e,t)=>{const n=r(t);return await n.load(),await n.loadLanguage("osd"),await n.initialize("osd"),n.detect(e).finally(async()=>{await n.terminate()})}}},xYo3:function(e,t){e.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},"yb/K":function(e,t,n){n("ls82");const r=n("IIpR"),i=n("c+Cr"),o=n("wRsi"),a=n("xYo3"),s=n("67Ye"),{setLogging:c}=n("fIT2");e.exports={OEM:a,PSM:s,createScheduler:r,createWorker:i,setLogging:c,...o}}}]);